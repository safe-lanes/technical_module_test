{"version":3,"file":"storage.js","sourceRoot":"","sources":["storage.ts"],"names":[],"mappings":"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","sourcesContent":["\nimport { \n  users, \n  type User, \n  type InsertUser,\n  components,\n  type Component,\n  type InsertComponent,\n  runningHoursAudit,\n  type RunningHoursAudit,\n  type InsertRunningHoursAudit,\n  spares,\n  type Spare,\n  type InsertSpare,\n  sparesHistory,\n  type SpareHistory,\n  type InsertSpareHistory,\n  changeRequest,\n  type ChangeRequest,\n  type InsertChangeRequest,\n  changeRequestAttachment,\n  type ChangeRequestAttachment,\n  type InsertChangeRequestAttachment,\n  changeRequestComment,\n  type ChangeRequestComment,\n  type InsertChangeRequestComment,\n  alertPolicies,\n  type AlertPolicy,\n  type InsertAlertPolicy,\n  alertEvents,\n  type AlertEvent,\n  type InsertAlertEvent,\n  alertDeliveries,\n  type AlertDelivery,\n  type InsertAlertDelivery,\n  alertConfig,\n  type AlertConfig,\n  type InsertAlertConfig,\n  formDefinitions,\n  type FormDefinition,\n  type InsertFormDefinition,\n  formVersions,\n  type FormVersion,\n  type InsertFormVersion,\n  formVersionUsage,\n  type FormVersionUsage,\n  type InsertFormVersionUsage\n} from \"@shared/schema\";\n\n// modify the interface with any CRUD methods\n// you might need\n\nexport interface IStorage {\n  getUser(id: number): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n  \n  // Running Hours methods\n  getComponents(vesselId: string): Promise<Component[]>;\n  getComponent(id: string): Promise<Component | undefined>;\n  updateComponent(id: string, data: Partial<Component>): Promise<Component>;\n  createRunningHoursAudit(audit: InsertRunningHoursAudit): Promise<RunningHoursAudit>;\n  getRunningHoursAudits(componentId: string, limit?: number): Promise<RunningHoursAudit[]>;\n  getRunningHoursAuditsInDateRange(componentId: string, startDate: Date, endDate: Date): Promise<RunningHoursAudit[]>;\n  \n  // Spares methods\n  getSpares(vesselId: string): Promise<Spare[]>;\n  getSpare(id: number): Promise<Spare | undefined>;\n  createSpare(spare: InsertSpare): Promise<Spare>;\n  updateSpare(id: number, data: Partial<Spare>): Promise<Spare>;\n  deleteSpare(id: number): Promise<void>;\n  consumeSpare(id: number, quantity: number, userId: string, remarks?: string, place?: string, dateLocal?: string, tz?: string): Promise<Spare>;\n  receiveSpare(id: number, quantity: number, userId: string, remarks?: string, supplierPO?: string, place?: string, dateLocal?: string, tz?: string): Promise<Spare>;\n  bulkUpdateSpares(updates: Array<{id: number, consumed?: number, received?: number, receivedDate?: string, receivedPlace?: string}>, userId: string, remarks?: string): Promise<Spare[]>;\n  \n  // Spares History methods\n  getSpareHistory(vesselId: string): Promise<SpareHistory[]>;\n  getSpareHistoryBySpareId(spareId: number): Promise<SpareHistory[]>;\n  createSpareHistory(history: InsertSpareHistory): Promise<SpareHistory>;\n  \n  // Change Request methods\n  getChangeRequests(filters?: { category?: string; status?: string; q?: string; vesselId?: string }): Promise<ChangeRequest[]>;\n  getChangeRequest(id: number): Promise<ChangeRequest | undefined>;\n  createChangeRequest(request: InsertChangeRequest): Promise<ChangeRequest>;\n  updateChangeRequest(id: number, data: Partial<ChangeRequest>): Promise<ChangeRequest>;\n  updateChangeRequestTarget(id: number, targetType: string | null, targetId: string | null, snapshotBeforeJson: any): Promise<ChangeRequest>;\n  updateChangeRequestProposed(id: number, proposedChangesJson: any, movePreviewJson?: any): Promise<ChangeRequest>;\n  deleteChangeRequest(id: number): Promise<void>;\n  submitChangeRequest(id: number, userId: string): Promise<ChangeRequest>;\n  approveChangeRequest(id: number, reviewerId: string, comment: string): Promise<ChangeRequest>;\n  rejectChangeRequest(id: number, reviewerId: string, comment: string): Promise<ChangeRequest>;\n  returnChangeRequest(id: number, reviewerId: string, comment: string): Promise<ChangeRequest>;\n  \n  // Change Request Attachments\n  getChangeRequestAttachments(changeRequestId: number): Promise<ChangeRequestAttachment[]>;\n  createChangeRequestAttachment(attachment: InsertChangeRequestAttachment): Promise<ChangeRequestAttachment>;\n  \n  // Change Request Comments\n  getChangeRequestComments(changeRequestId: number): Promise<ChangeRequestComment[]>;\n  createChangeRequestComment(comment: InsertChangeRequestComment): Promise<ChangeRequestComment>;\n  \n  // Bulk Import methods\n  bulkCreateComponents(components: InsertComponent[]): Promise<Component[]>;\n  bulkUpdateComponents(components: Array<{ id: string; data: Partial<Component> }>): Promise<Component[]>;\n  bulkUpsertComponents(components: InsertComponent[]): Promise<{ created: number; updated: number }>;\n  bulkCreateSpares(spares: InsertSpare[]): Promise<Spare[]>;\n  bulkUpdateSparesByROB(spares: Array<{ robId: string; data: Partial<Spare> }>): Promise<Spare[]>;\n  bulkUpsertSpares(spares: InsertSpare[]): Promise<{ created: number; updated: number }>;\n  archiveComponentsByIds(ids: string[]): Promise<number>;\n  archiveSparesByIds(ids: number[]): Promise<number>;\n  \n  // Alert methods\n  getAlertPolicies(): Promise<AlertPolicy[]>;\n  getAlertPolicy(id: number): Promise<AlertPolicy | undefined>;\n  createAlertPolicy(policy: InsertAlertPolicy): Promise<AlertPolicy>;\n  updateAlertPolicy(id: number, data: Partial<AlertPolicy>): Promise<AlertPolicy>;\n  deleteAlertPolicy(id: number): Promise<void>;\n  \n  getAlertEvents(filters?: { startDate?: Date; endDate?: Date; alertType?: string; priority?: string; status?: string; vesselId?: string }): Promise<AlertEvent[]>;\n  getAlertEvent(id: number): Promise<AlertEvent | undefined>;\n  createAlertEvent(event: InsertAlertEvent): Promise<AlertEvent>;\n  acknowledgeAlertEvent(id: number, userId: string): Promise<AlertEvent>;\n  \n  getAlertDeliveries(eventId: number): Promise<AlertDelivery[]>;\n  createAlertDelivery(delivery: InsertAlertDelivery): Promise<AlertDelivery>;\n  updateAlertDeliveryStatus(id: number, status: string, errorMessage?: string): Promise<AlertDelivery>;\n  \n  getAlertConfig(vesselId: string): Promise<AlertConfig | undefined>;\n  createOrUpdateAlertConfig(config: InsertAlertConfig): Promise<AlertConfig>;\n  \n  // Form Definition methods\n  getFormDefinitions(): Promise<FormDefinition[]>;\n  getFormDefinition(id: number): Promise<FormDefinition | undefined>;\n  getFormDefinitionByName(name: string): Promise<FormDefinition | undefined>;\n  createFormDefinition(form: InsertFormDefinition): Promise<FormDefinition>;\n  \n  // Form Version methods\n  getFormVersions(formId: number): Promise<FormVersion[]>;\n  getFormVersion(id: number): Promise<FormVersion | undefined>;\n  getLatestPublishedVersion(formId: number): Promise<FormVersion | undefined>;\n  getLatestPublishedVersionByName(name: string): Promise<FormVersion | undefined>;\n  createFormVersion(version: InsertFormVersion): Promise<FormVersion>;\n  updateFormVersion(id: number, data: Partial<FormVersion>): Promise<FormVersion>;\n  publishFormVersion(id: number, userId: string, changelog: string): Promise<FormVersion>;\n  discardFormVersion(id: number): Promise<void>;\n  \n  // Form Version Usage methods\n  createFormVersionUsage(usage: InsertFormVersionUsage): Promise<FormVersionUsage>;\n  getFormVersionUsage(formVersionId: number): Promise<FormVersionUsage[]>;\n  \n  // Seed forms method\n  seedForms(): Promise<void>;\n}\n\nexport class MemStorage implements IStorage {\n  private users: Map<number, User>;\n  private currentUserId: number;\n  private components: Map<string, Component>;\n  private runningHoursAudits: RunningHoursAudit[];\n  private currentAuditId: number;\n  private spares: Map<number, Spare>;\n  private currentSpareId: number;\n  private sparesHistory: SpareHistory[];\n  private currentHistoryId: number;\n  private changeRequests: Map<number, ChangeRequest>;\n  private currentChangeRequestId: number;\n  private changeRequestAttachments: ChangeRequestAttachment[];\n  private currentAttachmentId: number;\n  private changeRequestComments: ChangeRequestComment[];\n  private currentCommentId: number;\n  private alertPolicies: Map<number, AlertPolicy>;\n  private currentAlertPolicyId: number;\n  private alertEvents: Map<number, AlertEvent>;\n  private currentAlertEventId: number;\n  private alertDeliveries: Map<number, AlertDelivery>;\n  private currentAlertDeliveryId: number;\n  private alertConfigs: Map<string, AlertConfig>;\n  private currentAlertConfigId: number;\n  private formDefinitions: Map<number, FormDefinition>;\n  private currentFormDefinitionId: number;\n  private formVersions: Map<number, FormVersion>;\n  private currentFormVersionId: number;\n  private formVersionUsages: FormVersionUsage[];\n  private currentFormUsageId: number;\n\n  constructor() {\n    this.users = new Map();\n    this.currentUserId = 1;\n    this.components = new Map();\n    this.runningHoursAudits = [];\n    this.currentAuditId = 1;\n    this.spares = new Map();\n    this.currentSpareId = 1;\n    this.sparesHistory = [];\n    this.currentHistoryId = 1;\n    this.changeRequests = new Map();\n    this.currentChangeRequestId = 1;\n    this.changeRequestAttachments = [];\n    this.currentAttachmentId = 1;\n    this.changeRequestComments = [];\n    this.currentCommentId = 1;\n    this.alertPolicies = new Map();\n    this.currentAlertPolicyId = 1;\n    this.alertEvents = new Map();\n    this.currentAlertEventId = 1;\n    this.alertDeliveries = new Map();\n    this.currentAlertDeliveryId = 1;\n    this.alertConfigs = new Map();\n    this.currentAlertConfigId = 1;\n    this.formDefinitions = new Map();\n    this.currentFormDefinitionId = 1;\n    this.formVersions = new Map();\n    this.currentFormVersionId = 1;\n    this.formVersionUsages = [];\n    this.currentFormUsageId = 1;\n    \n    // Initialize sample components and spares\n    this.initializeComponents();\n    this.initializeSpares();\n    this.initializeAlertPolicies();\n    this.initializeFormDefinitions();\n  }\n  \n  private async initializeFormDefinitions() {\n    // Bootstrap form definitions with exact live schemas\n    const forms = [\n      { name: 'ADD_COMPONENT', subgroup: 'Component Register' },\n      { name: 'WO_PLANNED', subgroup: 'New Work Order (Planned)' },\n      { name: 'WO_UNPLANNED', subgroup: 'Unplanned Work Order' }\n    ];\n    \n    for (const form of forms) {\n      const formDef = await this.createFormDefinition(form);\n      \n      // Create initial published version with exact live schema\n      const schemaJson = this.getInitialFormSchema(form.name);\n      await this.createFormVersion({\n        formId: formDef.id,\n        versionNo: 1,\n        versionDate: new Date(),\n        status: 'PUBLISHED',\n        authorUserId: 'system',\n        changelog: 'Initial version from live form',\n        schemaJson: JSON.stringify(schemaJson)\n      });\n    }\n  }\n  \n  private getInitialFormSchema(formName: string) {\n    // Return exact schema from current live forms\n    if (formName === 'ADD_COMPONENT') {\n      return {\n        title: \"Add Component Form\",\n        sections: [\n          {\n            key: \"A\",\n            title: \"A. Component Information\",\n            layout: \"grid-4\",\n            fields: [\n              { key: \"origin\", label: \"Origin\", type: \"text\", required: false },\n              { key: \"supplier\", label: \"Supplier\", type: \"text\", required: false },\n              { key: \"partNo\", label: \"Part No\", type: \"text\", required: false },\n              { key: \"createdOn\", label: \"Created On\", type: \"date\", required: false },\n              { key: \"component\", label: \"Component\", type: \"text\", required: true },\n              { key: \"maker\", label: \"Maker / Maker Designator\", type: \"text\", required: false },\n              { key: \"serialNo\", label: \"Serial No\", type: \"text\", required: false },\n              { key: \"installedDate\", label: \"Installed Date\", type: \"date\", required: false },\n              { key: \"componentCode\", label: \"Component Code\", type: \"text\", required: false },\n              { key: \"type\", label: \"Type\", type: \"text\", required: false },\n              { key: \"blackoutComponent\", label: \"Blackout Component\", type: \"text\", required: false },\n              { key: \"modelSpecification\", label: \"Model Specification\", type: \"text\", required: false },\n              { key: \"warrantyInfo\", label: \"Warranty Info\", type: \"text\", required: false },\n              { key: \"warrantyDays\", label: \"Warranty Days\", type: \"text\", required: false },\n              { key: \"warrantyDate\", label: \"Warranty Date\", type: \"date\", required: false },\n              { key: \"lastUsed\", label: \"Last Used\", type: \"text\", required: false }\n            ]\n          },\n          {\n            key: \"B\",\n            title: \"B. Running Hours & Condition Monitoring Metrics\",\n            layout: \"grid-3\",\n            fields: [\n              { key: \"runningHours\", label: \"Running Hours\", type: \"number\", required: false },\n              { key: \"conditionMetrics\", label: \"Condition Monitoring Metrics\", type: \"repeater\", required: false }\n            ]\n          },\n          {\n            key: \"C\",\n            title: \"C. Work Orders\",\n            layout: \"grid-5\",\n            fields: [\n              { key: \"workBy\", label: \"Work By\", type: \"text\", required: false },\n              { key: \"jobTitle\", label: \"Job Title\", type: \"text\", required: false },\n              { key: \"assignedTo\", label: \"Assigned To\", type: \"text\", required: false },\n              { key: \"dueDate\", label: \"Due Date\", type: \"date\", required: false },\n              { key: \"status\", label: \"Status\", type: \"text\", required: false }\n            ]\n          },\n          {\n            key: \"D\",\n            title: \"D. Maintenance History\",\n            layout: \"grid-4\",\n            fields: [\n              { key: \"workOrderNo\", label: \"Work Order No\", type: \"text\", required: false },\n              { key: \"performedBy\", label: \"Performed By\", type: \"text\", required: false },\n              { key: \"nextDueDate\", label: \"Next Due Date\", type: \"date\", required: false },\n              { key: \"completionDate\", label: \"Completion Date\", type: \"date\", required: false }\n            ]\n          },\n          {\n            key: \"E\",\n            title: \"E. Spares\",\n            layout: \"grid-5\",\n            fields: [\n              { key: \"sparePart\", label: \"Spare Part\", type: \"text\", required: false },\n              { key: \"partName\", label: \"Part Name\", type: \"text\", required: false },\n              { key: \"qty\", label: \"Qty\", type: \"number\", required: false },\n              { key: \"critical\", label: \"Critical\", type: \"text\", required: false },\n              { key: \"location\", label: \"Location\", type: \"text\", required: false }\n            ]\n          },\n          {\n            key: \"F\",\n            title: \"F. Drawings & Manuals\",\n            layout: \"file-upload\",\n            fields: []\n          },\n          {\n            key: \"G\",\n            title: \"G. Classification & Regulatory Data\",\n            layout: \"grid-4\",\n            fields: [\n              { key: \"classificationSociety\", label: \"Classification Society\", type: \"text\", required: false },\n              { key: \"certificateNo\", label: \"Certificate No\", type: \"text\", required: false },\n              { key: \"lastClassDate\", label: \"Last Class Date\", type: \"date\", required: false },\n              { key: \"nextClassDate\", label: \"Next Class Date\", type: \"date\", required: false },\n              { key: \"classCode\", label: \"Class Code\", type: \"text\", required: false },\n              { key: \"classRemarks\", label: \"Class Remarks\", type: \"text\", required: false }\n            ]\n          },\n          {\n            key: \"H\",\n            title: \"H. New Service Notes\",\n            layout: \"grid-4\",\n            fields: [\n              { key: \"serviceNote\", label: \"Service Note\", type: \"text\", required: false },\n              { key: \"noteDate\", label: \"Note Date\", type: \"date\", required: false },\n              { key: \"nextNote\", label: \"Next Note\", type: \"date\", required: false },\n              { key: \"noteLevel\", label: \"Note Level\", type: \"text\", required: false }\n            ]\n          }\n        ]\n      };\n    } else if (formName === 'WO_PLANNED') {\n      return {\n        title: \"Work Order Form (Planned)\",\n        sections: [\n          {\n            key: \"partA\",\n            title: \"Part A - Work Order Details\",\n            layout: \"grid-3\",\n            fields: [\n              { key: \"woNumber\", label: \"WO Number\", type: \"text\", required: true },\n              { key: \"component\", label: \"Component\", type: \"select\", required: true },\n              { key: \"jobTitle\", label: \"Job Title\", type: \"text\", required: true },\n              { key: \"workBy\", label: \"Work By\", type: \"select\", required: true },\n              { key: \"assignedTo\", label: \"Assigned To\", type: \"select\", required: false },\n              { key: \"priority\", label: \"Priority\", type: \"select\", required: true },\n              { key: \"plannedDate\", label: \"Planned Date\", type: \"date\", required: true },\n              { key: \"estimatedHours\", label: \"Estimated Hours\", type: \"number\", required: false }\n            ]\n          },\n          {\n            key: \"partB\",\n            title: \"Part B - Job Description & Instructions\",\n            layout: \"grid-1\",\n            fields: [\n              { key: \"description\", label: \"Description\", type: \"textarea\", required: true },\n              { key: \"instructions\", label: \"Instructions\", type: \"textarea\", required: false },\n              { key: \"safetyPrecautions\", label: \"Safety Precautions\", type: \"textarea\", required: false },\n              { key: \"requiredSpares\", label: \"Required Spares\", type: \"repeater\", required: false }\n            ]\n          }\n        ]\n      };\n    } else if (formName === 'WO_UNPLANNED') {\n      return {\n        title: \"Work Order Form (Unplanned)\",\n        sections: [\n          {\n            key: \"partA\",\n            title: \"Part A - Breakdown Details\",\n            layout: \"grid-3\",\n            fields: [\n              { key: \"woNumber\", label: \"WO Number\", type: \"text\", required: true },\n              { key: \"component\", label: \"Component\", type: \"select\", required: true },\n              { key: \"breakdownDate\", label: \"Breakdown Date\", type: \"datetime\", required: true },\n              { key: \"reportedBy\", label: \"Reported By\", type: \"text\", required: true },\n              { key: \"severity\", label: \"Severity\", type: \"select\", required: true },\n              { key: \"impactOnOperation\", label: \"Impact on Operation\", type: \"select\", required: true }\n            ]\n          },\n          {\n            key: \"partB\",\n            title: \"Part B - Corrective Action\",\n            layout: \"grid-1\",\n            fields: [\n              { key: \"failureDescription\", label: \"Failure Description\", type: \"textarea\", required: true },\n              { key: \"rootCause\", label: \"Root Cause\", type: \"textarea\", required: false },\n              { key: \"correctiveAction\", label: \"Corrective Action\", type: \"textarea\", required: true },\n              { key: \"preventiveAction\", label: \"Preventive Action\", type: \"textarea\", required: false },\n              { key: \"actualSpares\", label: \"Actual Spares Used\", type: \"repeater\", required: false }\n            ]\n          }\n        ]\n      };\n    }\n    return {};\n  }\n\n  private initializeComponents() {\n    // Create hierarchical component structure for MV Test Vessel\n    const sampleComponents: Component[] = [\n      // Top level - Ship groups\n      { id: \"1\", name: \"Ship General\", componentCode: \"1\", parentId: null, vesselId: \"MV Test Vessel\", category: \"Ship General\", currentCumulativeRH: \"0\", lastUpdated: \"02-Jun-2025\", maker: null, model: null, serialNo: null, deptCategory: null, componentCategory: null, location: null, commissionedDate: null, critical: false, classItem: false },\n      { id: \"2\", name: \"Hull\", componentCode: \"2\", parentId: null, vesselId: \"MV Test Vessel\", category: \"Hull\", currentCumulativeRH: \"0\", lastUpdated: \"02-Jun-2025\", maker: null, model: null, serialNo: null, deptCategory: null, componentCategory: null, location: null, commissionedDate: null, critical: false, classItem: false },\n      { id: \"3\", name: \"Equipment for Cargo\", componentCode: \"3\", parentId: null, vesselId: \"MV Test Vessel\", category: \"Equipment for Cargo\", currentCumulativeRH: \"0\", lastUpdated: \"02-Jun-2025\", maker: null, model: null, serialNo: null, deptCategory: null, componentCategory: null, location: null, commissionedDate: null, critical: false, classItem: false },\n      { id: \"4\", name: \"Ship's Equipment\", componentCode: \"4\", parentId: null, vesselId: \"MV Test Vessel\", category: \"Ship's Equipment\", currentCumulativeRH: \"0\", lastUpdated: \"02-Jun-2025\", maker: null, model: null, serialNo: null, deptCategory: null, componentCategory: null, location: null, commissionedDate: null, critical: false, classItem: false },\n      { id: \"5\", name: \"Equipment for Crew & Passengers\", componentCode: \"5\", parentId: null, vesselId: \"MV Test Vessel\", category: \"Equipment for Crew & Passengers\", currentCumulativeRH: \"0\", lastUpdated: \"02-Jun-2025\", maker: null, model: null, serialNo: null, deptCategory: null, componentCategory: null, location: null, commissionedDate: null, critical: false, classItem: false },\n      { id: \"6\", name: \"Machinery Main Components\", componentCode: \"6\", parentId: null, vesselId: \"MV Test Vessel\", category: \"Machinery Main Components\", currentCumulativeRH: \"0\", lastUpdated: \"02-Jun-2025\", maker: null, model: null, serialNo: null, deptCategory: null, componentCategory: null, location: null, commissionedDate: null, critical: false, classItem: false },\n      { id: \"7\", name: \"Systems for Machinery Main Components\", componentCode: \"7\", parentId: null, vesselId: \"MV Test Vessel\", category: \"Systems for Machinery Main Components\", currentCumulativeRH: \"0\", lastUpdated: \"02-Jun-2025\", maker: null, model: null, serialNo: null, deptCategory: null, componentCategory: null, location: null, commissionedDate: null, critical: false, classItem: false },\n      { id: \"8\", name: \"Ship Common Systems\", componentCode: \"8\", parentId: null, vesselId: \"MV Test Vessel\", category: \"Ship Common Systems\", currentCumulativeRH: \"0\", lastUpdated: \"02-Jun-2025\", maker: null, model: null, serialNo: null, deptCategory: null, componentCategory: null, location: null, commissionedDate: null, critical: false, classItem: false },\n      \n      // Level 2 - Under Ship General\n      { id: \"1.1\", name: \"Fresh Water System\", componentCode: \"1.1\", parentId: \"1\", vesselId: \"MV Test Vessel\", category: \"Ship General\", currentCumulativeRH: \"0\", lastUpdated: \"02-Jun-2025\", maker: null, model: null, serialNo: null, deptCategory: null, componentCategory: null, location: null, commissionedDate: null, critical: false, classItem: false },\n      { id: \"1.2\", name: \"Sewage Treatment System\", componentCode: \"1.2\", parentId: \"1\", vesselId: \"MV Test Vessel\", category: \"Ship General\", currentCumulativeRH: \"0\", lastUpdated: \"02-Jun-2025\", maker: null, model: null, serialNo: null, deptCategory: null, componentCategory: null, location: null, commissionedDate: null, critical: false, classItem: false },\n      { id: \"1.3\", name: \"HVAC  Accommodation\", componentCode: \"1.3\", parentId: \"1\", vesselId: \"MV Test Vessel\", category: \"Ship General\", currentCumulativeRH: \"0\", lastUpdated: \"02-Jun-2025\", maker: null, model: null, serialNo: null, deptCategory: null, componentCategory: null, location: null, commissionedDate: null, critical: false, classItem: false },\n      \n      // Level 3 - Under Fresh Water System\n      { id: \"1.1.1\", name: \"Hydrophore Unit\", componentCode: \"1.1.1\", parentId: \"1.1\", vesselId: \"MV Test Vessel\", category: \"Ship General\", currentCumulativeRH: \"0\", lastUpdated: \"02-Jun-2025\", maker: null, model: null, serialNo: null, deptCategory: null, componentCategory: null, location: null, commissionedDate: null, critical: false, classItem: false },\n      { id: \"1.1.2\", name: \"Potable Water Maker\", componentCode: \"1.1.2\", parentId: \"1.1\", vesselId: \"MV Test Vessel\", category: \"Ship General\", currentCumulativeRH: \"0\", lastUpdated: \"02-Jun-2025\", maker: null, model: null, serialNo: null, deptCategory: null, componentCategory: null, location: null, commissionedDate: null, critical: false, classItem: false },\n      { id: \"1.1.3\", name: \"UV Sterilizer\", componentCode: \"1.1.3\", parentId: \"1.1\", vesselId: \"MV Test Vessel\", category: \"Ship General\", currentCumulativeRH: \"0\", lastUpdated: \"02-Jun-2025\", maker: null, model: null, serialNo: null, deptCategory: null, componentCategory: null, location: null, commissionedDate: null, critical: false, classItem: false },\n      \n      // Level 4 - Under Hydrophore Unit\n      { id: \"1.1.1.1\", name: \"Pressure Vessel\", componentCode: \"1.1.1.1\", parentId: \"1.1.1\", vesselId: \"MV Test Vessel\", category: \"Ship General\", currentCumulativeRH: \"0\", lastUpdated: \"02-Jun-2025\",\n        maker: \"ACME Marine\", model: \"PV-2000\", serialNo: \"PV2024001\", deptCategory: \"Engineering\", componentCategory: \"Ship General\", location: \"Engine Room\", commissionedDate: \"01-Jan-2020\", critical: true, classItem: false },\n      { id: \"1.1.1.2\", name: \"Feed Pump\", componentCode: \"1.1.1.2\", parentId: \"1.1.1\", vesselId: \"MV Test Vessel\", category: \"Ship General\", currentCumulativeRH: \"12450\", lastUpdated: \"02-Jun-2025\",\n        maker: \"Grundfos\", model: \"CR32-4\", serialNo: \"GF2024002\", deptCategory: \"Engineering\", componentCategory: \"Ship General\", location: \"Engine Room\", commissionedDate: \"01-Jan-2020\", critical: true, classItem: true },\n      { id: \"1.1.1.3\", name: \"Pressure Switch\", componentCode: \"1.1.1.3\", parentId: \"1.1.1\", vesselId: \"MV Test Vessel\", category: \"Ship General\", currentCumulativeRH: \"0\", lastUpdated: \"02-Jun-2025\",\n        maker: \"Danfoss\", model: \"KP35\", serialNo: \"DF2024003\", deptCategory: \"Engineering\", componentCategory: \"Ship General\", location: \"Engine Room\", commissionedDate: \"01-Jan-2020\", critical: false, classItem: false },\n      \n      // Level 2 - Under Machinery Main Components\n      { id: \"6.1\", name: \"Diesel Engines\", componentCode: \"6.1\", parentId: \"6\", vesselId: \"MV Test Vessel\", category: \"Machinery Main Components\", currentCumulativeRH: \"0\", lastUpdated: \"02-Jun-2025\", maker: null, model: null, serialNo: null, deptCategory: null, componentCategory: null, location: null, commissionedDate: null, critical: false, classItem: false },\n      { id: \"6.2\", name: \"Turbines\", componentCode: \"6.2\", parentId: \"6\", vesselId: \"MV Test Vessel\", category: \"Machinery Main Components\", currentCumulativeRH: \"0\", lastUpdated: \"02-Jun-2025\", maker: null, model: null, serialNo: null, deptCategory: null, componentCategory: null, location: null, commissionedDate: null, critical: false, classItem: false },\n      \n      // Level 3 - Under Diesel Engines\n      { id: \"6.1.1\", name: \"Main Engine\", componentCode: \"6.1.1\", parentId: \"6.1\", vesselId: \"MV Test Vessel\", category: \"Machinery Main Components\", currentCumulativeRH: \"12580\", lastUpdated: \"30-Jun-2025\", maker: null, model: null, serialNo: null, deptCategory: null, componentCategory: null, location: null, commissionedDate: null, critical: false, classItem: false },\n      { id: \"6.1.2\", name: \"Auxiliary Engine #1\", componentCode: \"6.1.2\", parentId: \"6.1\", vesselId: \"MV Test Vessel\", category: \"Machinery Main Components\", currentCumulativeRH: \"15670\", lastUpdated: \"09-Jun-2025\", maker: null, model: null, serialNo: null, deptCategory: null, componentCategory: null, location: null, commissionedDate: null, critical: false, classItem: false },\n      { id: \"6.1.3\", name: \"Auxiliary Engine #2\", componentCode: \"6.1.3\", parentId: \"6.1\", vesselId: \"MV Test Vessel\", category: \"Machinery Main Components\", currentCumulativeRH: \"14980\", lastUpdated: \"16-Jun-2025\", maker: null, model: null, serialNo: null, deptCategory: null, componentCategory: null, location: null, commissionedDate: null, critical: false, classItem: false },\n      \n      // Level 4 - Under Main Engine\n      { id: \"6.1.1.1\", name: \"Crankshaft\", componentCode: \"6.1.1.1\", parentId: \"6.1.1\", vesselId: \"MV Test Vessel\", category: \"Machinery Main Components\", currentCumulativeRH: \"12580\", lastUpdated: \"30-Jun-2025\",\n        maker: \"MAN B&W\", model: \"6S60MC-C\", serialNo: \"MB2020001\", deptCategory: \"Engineering\", componentCategory: \"Machinery Main Components\", location: \"Engine Room\", commissionedDate: \"01-Jan-2020\", critical: true, classItem: true },\n      { id: \"6.1.1.2\", name: \"Cylinder Liners\", componentCode: \"6.1.1.2\", parentId: \"6.1.1\", vesselId: \"MV Test Vessel\", category: \"Machinery Main Components\", currentCumulativeRH: \"12580\", lastUpdated: \"30-Jun-2025\",\n        maker: \"MAN B&W\", model: \"CL-600\", serialNo: \"MB2020002\", deptCategory: \"Engineering\", componentCategory: \"Machinery Main Components\", location: \"Engine Room\", commissionedDate: \"01-Jan-2020\", critical: true, classItem: true },\n      { id: \"6.1.1.3\", name: \"Piston & Piston Rod\", componentCode: \"6.1.1.3\", parentId: \"6.1.1\", vesselId: \"MV Test Vessel\", category: \"Machinery Main Components\", currentCumulativeRH: \"12580\", lastUpdated: \"30-Jun-2025\",\n        maker: \"MAN B&W\", model: \"PR-600\", serialNo: \"MB2020003\", deptCategory: \"Engineering\", componentCategory: \"Machinery Main Components\", location: \"Engine Room\", commissionedDate: \"01-Jan-2020\", critical: true, classItem: true },\n      { id: \"6.1.1.4\", name: \"Connecting Rod\", componentCode: \"6.1.1.4\", parentId: \"6.1.1\", vesselId: \"MV Test Vessel\", category: \"Machinery Main Components\", currentCumulativeRH: \"12580\", lastUpdated: \"30-Jun-2025\",\n        maker: \"MAN B&W\", model: \"CR-600\", serialNo: \"MB2020004\", deptCategory: \"Engineering\", componentCategory: \"Machinery Main Components\", location: \"Engine Room\", commissionedDate: \"01-Jan-2020\", critical: true, classItem: false },\n      { id: \"6.1.1.5\", name: \"Camshaft\", componentCode: \"6.1.1.5\", parentId: \"6.1.1\", vesselId: \"MV Test Vessel\", category: \"Machinery Main Components\", currentCumulativeRH: \"12580\", lastUpdated: \"30-Jun-2025\",\n        maker: \"MAN B&W\", model: \"CS-600\", serialNo: \"MB2020005\", deptCategory: \"Engineering\", componentCategory: \"Machinery Main Components\", location: \"Engine Room\", commissionedDate: \"01-Jan-2020\", critical: true, classItem: false }\n    ];\n    \n    sampleComponents.forEach(comp => this.components.set(comp.id, comp));\n  }\n\n  async getUser(id: number): Promise<User | undefined> {\n    return this.users.get(id);\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    return Array.from(this.users.values()).find(\n      (user) => user.username === username,\n    );\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const id = this.currentUserId++;\n    const user: User = { ...insertUser, id };\n    this.users.set(id, user);\n    return user;\n  }\n\n  // Running Hours methods\n  async getComponents(vesselId: string): Promise<Component[]> {\n    return Array.from(this.components.values()).filter(c => c.vesselId === vesselId);\n  }\n\n  async getComponent(id: string): Promise<Component | undefined> {\n    return this.components.get(id);\n  }\n\n  async updateComponent(id: string, data: Partial<Component>): Promise<Component> {\n    const component = this.components.get(id);\n    if (!component) {\n      throw new Error(`Component ${id} not found`);\n    }\n    const updated = { ...component, ...data };\n    this.components.set(id, updated);\n    return updated;\n  }\n\n  async createRunningHoursAudit(audit: InsertRunningHoursAudit): Promise<RunningHoursAudit> {\n    const id = this.currentAuditId++;\n    const fullAudit: RunningHoursAudit = { \n      ...audit, \n      id,\n      previousRH: audit.previousRH.toString(),\n      newRH: audit.newRH.toString(),\n      cumulativeRH: audit.cumulativeRH.toString(),\n      oldMeterFinal: audit.oldMeterFinal?.toString() || null,\n      newMeterStart: audit.newMeterStart?.toString() || null,\n      enteredAtUTC: audit.enteredAtUTC || new Date(),\n      notes: audit.notes || null,\n      version: audit.version || 1\n    };\n    this.runningHoursAudits.push(fullAudit);\n    return fullAudit;\n  }\n\n  async getRunningHoursAudits(componentId: string, limit?: number): Promise<RunningHoursAudit[]> {\n    const audits = this.runningHoursAudits\n      .filter(a => a.componentId === componentId)\n      .sort((a, b) => b.enteredAtUTC.getTime() - a.enteredAtUTC.getTime());\n    \n    return limit ? audits.slice(0, limit) : audits;\n  }\n\n  async getRunningHoursAuditsInDateRange(\n    componentId: string, \n    startDate: Date, \n    endDate: Date\n  ): Promise<RunningHoursAudit[]> {\n    return this.runningHoursAudits.filter(a => {\n      if (a.componentId !== componentId) return false;\n      const auditDate = new Date(a.dateUpdatedLocal);\n      return auditDate >= startDate && auditDate <= endDate;\n    });\n  }\n\n  // Generate Component Spare Code\n  private generateComponentSpareCode(vesselId: string, componentCode: string): string {\n    // Get all existing spares for this component in this vessel\n    const existingSpares = Array.from(this.spares.values())\n      .filter(s => s.vesselId === vesselId && s.componentCode === componentCode && s.componentSpareCode)\n      .map(s => s.componentSpareCode);\n    \n    // Extract existing sequence numbers for this component\n    const prefix = `SP-${componentCode}-`;\n    const existingNumbers = existingSpares\n      .filter(code => code?.startsWith(prefix))\n      .map(code => {\n        const parts = code!.split('-');\n        const nnn = parts[parts.length - 1];\n        return parseInt(nnn, 10);\n      })\n      .filter(n => !isNaN(n));\n    \n    // Find the next available number\n    const nextNumber = existingNumbers.length > 0 ? Math.max(...existingNumbers) + 1 : 1;\n    \n    // Format with zero padding\n    const nnn = String(nextNumber).padStart(3, '0');\n    return `${prefix}${nnn}`;\n  }\n\n  private initializeSpares() {\n    const sampleSpares: Spare[] = [\n      { id: 1, partCode: \"SP-ME-001\", partName: \"Fuel Injector\", componentId: \"6.1\", componentCode: \"6.1\", componentName: \"Main Engine\", componentSpareCode: \"SP-6.1-001\", critical: \"Critical\", rob: 2, min: 1, location: \"Store Room A\", vesselId: \"V001\", deleted: false },\n      { id: 2, partCode: \"SP-ME-002\", partName: \"Cylinder Head Gasket\", componentId: \"6.1.1\", componentCode: \"6.1.1\", componentName: \"Cylinder Head\", componentSpareCode: \"SP-6.1.1-001\", critical: \"No\", rob: 2, min: 1, location: \"Store Room B\", vesselId: \"V001\", deleted: false },\n      { id: 3, partCode: \"SP-ME-003\", partName: \"Piston Ring Set\", componentId: \"6.1\", componentCode: \"6.1\", componentName: \"Main Engine\", componentSpareCode: \"SP-6.1-002\", critical: \"No\", rob: 3, min: 1, location: \"Store Room B\", vesselId: \"V001\", deleted: false },\n      { id: 4, partCode: \"SP-ME-004\", partName: \"Main Bearing\", componentId: \"6.1.2\", componentCode: \"6.1.2\", componentName: \"Main Bearings\", componentSpareCode: \"SP-6.1.2-001\", critical: \"Critical\", rob: 4, min: 2, location: \"Store Room C\", vesselId: \"V001\", deleted: false },\n      { id: 5, partCode: \"SP-COOL-001\", partName: \"Cooling Pump Seal\", componentId: \"7.3\", componentCode: \"7.3\", componentName: \"Cooling Water System\", componentSpareCode: \"SP-7.3-001\", critical: \"Critical\", rob: 4, min: 2, location: \"Store Room D\", vesselId: \"V001\", deleted: false },\n      { id: 6, partCode: \"SP-CC-001\", partName: \"Cylinder Cover Assembly\", componentId: \"6.1.1.1\", componentCode: \"6.1.1.1\", componentName: \"Valve Seats\", componentSpareCode: \"SP-6.1.1.1-001\", critical: \"Critical\", rob: 2, min: 1, location: \"Store Room A\", vesselId: \"V001\", deleted: false },\n      { id: 7, partCode: \"SP-CC-002\", partName: \"Inlet Valve\", componentId: \"6.1.1.1\", componentCode: \"6.1.1.1\", componentName: \"Valve Seats\", componentSpareCode: \"SP-6.1.1.1-002\", critical: \"Critical\", rob: 4, min: 2, location: \"Store Room A\", vesselId: \"V001\", deleted: false },\n      { id: 8, partCode: \"SP-CC-003\", partName: \"Exhaust Valve\", componentId: \"6.1.1.1\", componentCode: \"6.1.1.1\", componentName: \"Valve Seats\", componentSpareCode: \"SP-6.1.1.1-003\", critical: \"Critical\", rob: 4, min: 2, location: \"Store Room A\", vesselId: \"V001\", deleted: false },\n      { id: 9, partCode: \"SP-CC-004\", partName: \"Valve Spring\", componentId: \"6.1.1.2\", componentCode: \"6.1.1.2\", componentName: \"Injector Sleeve\", componentSpareCode: \"SP-6.1.1.2-001\", critical: \"No\", rob: 8, min: 4, location: \"Store Room B\", vesselId: \"V001\", deleted: false },\n      { id: 10, partCode: \"SP-CC-005\", partName: \"Valve Guide\", componentId: \"6.1.1.3\", componentCode: \"6.1.1.3\", componentName: \"Rocker Arm\", componentSpareCode: \"SP-6.1.1.3-001\", critical: \"No\", rob: 1, min: 2, location: \"Store Room B\", vesselId: \"V001\", deleted: false },\n    ];\n    \n    sampleSpares.forEach(spare => this.spares.set(spare.id, spare));\n    this.currentSpareId = 11;\n  }\n\n  // Spares methods\n  async getSpares(vesselId: string): Promise<Spare[]> {\n    return Array.from(this.spares.values())\n      .filter(s => s.vesselId === vesselId && !s.deleted);\n  }\n\n  async getSpare(id: number): Promise<Spare | undefined> {\n    const spare = this.spares.get(id);\n    return spare && !spare.deleted ? spare : undefined;\n  }\n\n  async createSpare(spare: InsertSpare): Promise<Spare> {\n    const id = this.currentSpareId++;\n    \n    // Generate component spare code if not provided\n    const componentSpareCode = spare.componentSpareCode || \n      (spare.componentCode ? this.generateComponentSpareCode(spare.vesselId || 'V001', spare.componentCode) : null);\n    \n    const newSpare: Spare = { \n      ...spare, \n      id, \n      vesselId: spare.vesselId || 'V001',\n      componentCode: spare.componentCode || null,\n      location: spare.location || null,\n      componentSpareCode,\n      rob: spare.rob || 0,\n      min: spare.min || 0,\n      deleted: false \n    };\n    this.spares.set(id, newSpare);\n    \n    // Create history entry\n    await this.createSpareHistory({\n      timestampUTC: new Date(),\n      vesselId: spare.vesselId || 'V001',\n      spareId: id,\n      partCode: spare.partCode,\n      partName: spare.partName,\n      componentId: spare.componentId,\n      componentCode: spare.componentCode || null,\n      componentName: spare.componentName,\n      componentSpareCode: componentSpareCode,\n      eventType: 'LINK_CREATED',\n      qtyChange: spare.rob || 0,\n      robAfter: spare.rob || 0,\n      userId: 'system',\n      remarks: 'Initial creation',\n      reference: null\n    });\n    \n    return newSpare;\n  }\n\n  async updateSpare(id: number, data: Partial<Spare>): Promise<Spare> {\n    const spare = this.spares.get(id);\n    if (!spare || spare.deleted) {\n      throw new Error(`Spare ${id} not found`);\n    }\n    const updated = { ...spare, ...data };\n    this.spares.set(id, updated);\n    \n    // Create history entry if ROB changed\n    if (data.rob !== undefined && data.rob !== spare.rob) {\n      await this.createSpareHistory({\n        timestampUTC: new Date(),\n        vesselId: spare.vesselId,\n        spareId: id,\n        partCode: spare.partCode,\n        partName: spare.partName,\n        componentId: spare.componentId,\n        componentCode: spare.componentCode || null,\n        componentName: spare.componentName,\n        componentSpareCode: spare.componentSpareCode || null,\n        eventType: 'EDIT',\n        qtyChange: data.rob - spare.rob,\n        robAfter: data.rob,\n        userId: 'system',\n        remarks: 'Updated via edit',\n        reference: null\n      });\n    }\n    \n    return updated;\n  }\n\n  async deleteSpare(id: number): Promise<void> {\n    const spare = this.spares.get(id);\n    if (spare) {\n      spare.deleted = true;\n      this.spares.set(id, spare);\n    }\n  }\n\n  async consumeSpare(id: number, quantity: number, userId: string, remarks?: string, place?: string, dateLocal?: string, tz?: string): Promise<Spare> {\n    const spare = await this.getSpare(id);\n    if (!spare) {\n      throw new Error(`Spare ${id} not found`);\n    }\n    \n    if (spare.rob < quantity) {\n      throw new Error('Insufficient stock');\n    }\n    \n    spare.rob -= quantity;\n    this.spares.set(id, spare);\n    \n    // Create history entry\n    await this.createSpareHistory({\n      timestampUTC: new Date(),\n      vesselId: spare.vesselId,\n      spareId: id,\n      partCode: spare.partCode,\n      partName: spare.partName,\n      componentId: spare.componentId,\n      componentCode: spare.componentCode || null,\n      componentName: spare.componentName,\n      componentSpareCode: spare.componentSpareCode || null,\n      eventType: 'CONSUME',\n      qtyChange: -quantity,\n      robAfter: spare.rob,\n      userId,\n      remarks: remarks || null,\n      reference: place || null,\n      dateLocal: dateLocal || null,\n      tz: tz || null\n    });\n    \n    return spare;\n  }\n\n  async receiveSpare(id: number, quantity: number, userId: string, remarks?: string, supplierPO?: string, place?: string, dateLocal?: string, tz?: string): Promise<Spare> {\n    const spare = await this.getSpare(id);\n    if (!spare) {\n      throw new Error(`Spare ${id} not found`);\n    }\n    \n    spare.rob += quantity;\n    this.spares.set(id, spare);\n    \n    // Create history entry\n    await this.createSpareHistory({\n      timestampUTC: new Date(),\n      vesselId: spare.vesselId,\n      spareId: id,\n      partCode: spare.partCode,\n      partName: spare.partName,\n      componentId: spare.componentId,\n      componentCode: spare.componentCode || null,\n      componentName: spare.componentName,\n      componentSpareCode: spare.componentSpareCode || null,\n      eventType: 'RECEIVE',\n      qtyChange: quantity,\n      robAfter: spare.rob,\n      userId,\n      remarks: remarks || null,\n      reference: supplierPO || null,\n      place: place || null,\n      dateLocal: dateLocal || null,\n      tz: tz || null\n    });\n    \n    return spare;\n  }\n\n  async bulkUpdateSpares(updates: Array<{id: number, consumed?: number, received?: number, receivedDate?: string, receivedPlace?: string}>, userId: string, remarks?: string): Promise<Spare[]> {\n    const updatedSpares: Spare[] = [];\n    \n    for (const update of updates) {\n      const spare = await this.getSpare(update.id);\n      if (!spare) continue;\n      \n      let netChange = 0;\n      if (update.consumed) {\n        if (spare.rob < update.consumed) {\n          throw new Error(`Insufficient stock for ${spare.partCode}`);\n        }\n        netChange -= update.consumed;\n      }\n      if (update.received) {\n        netChange += update.received;\n      }\n      \n      if (netChange !== 0) {\n        spare.rob += netChange;\n        this.spares.set(update.id, spare);\n        \n        // Create history entry\n        await this.createSpareHistory({\n          timestampUTC: new Date(),\n          vesselId: spare.vesselId,\n          spareId: update.id,\n          partCode: spare.partCode,\n          partName: spare.partName,\n          componentId: spare.componentId,\n          componentCode: spare.componentCode || null,\n          componentName: spare.componentName,\n          componentSpareCode: spare.componentSpareCode || null,\n          eventType: 'ADJUST',\n          qtyChange: netChange,\n          robAfter: spare.rob,\n          userId,\n          remarks: remarks || 'Bulk update',\n          reference: null,\n          dateLocal: update.receivedDate || null,\n          place: update.receivedPlace || null,\n          tz: update.receivedDate ? Intl.DateTimeFormat().resolvedOptions().timeZone : null\n        });\n        \n        updatedSpares.push(spare);\n      }\n    }\n    \n    return updatedSpares;\n  }\n\n  // Spares History methods\n  async getSpareHistory(vesselId: string): Promise<SpareHistory[]> {\n    return this.sparesHistory\n      .filter(h => h.vesselId === vesselId)\n      .sort((a, b) => b.timestampUTC.getTime() - a.timestampUTC.getTime());\n  }\n\n  async getSpareHistoryBySpareId(spareId: number): Promise<SpareHistory[]> {\n    return this.sparesHistory\n      .filter(h => h.spareId === spareId)\n      .sort((a, b) => b.timestampUTC.getTime() - a.timestampUTC.getTime());\n  }\n\n  async createSpareHistory(history: InsertSpareHistory): Promise<SpareHistory> {\n    const id = this.currentHistoryId++;\n    const fullHistory: SpareHistory = { ...history, id };\n    this.sparesHistory.push(fullHistory);\n    return fullHistory;\n  }\n\n  // Change Request methods\n  async getChangeRequests(filters?: { category?: string; status?: string; q?: string; vesselId?: string }): Promise<ChangeRequest[]> {\n    let requests = Array.from(this.changeRequests.values());\n    \n    if (filters) {\n      if (filters.category) {\n        requests = requests.filter(r => r.category === filters.category);\n      }\n      if (filters.status) {\n        requests = requests.filter(r => r.status === filters.status);\n      }\n      if (filters.vesselId) {\n        requests = requests.filter(r => r.vesselId === filters.vesselId);\n      }\n      if (filters.q) {\n        const search = filters.q.toLowerCase();\n        requests = requests.filter(r => \n          r.title.toLowerCase().includes(search) || \n          r.status.toLowerCase().includes(search)\n        );\n      }\n    }\n    \n    return requests.sort((a, b) => b.createdAt.getTime() - a.createdAt.getTime());\n  }\n\n  async getChangeRequest(id: number): Promise<ChangeRequest | undefined> {\n    return this.changeRequests.get(id);\n  }\n\n  async createChangeRequest(request: InsertChangeRequest): Promise<ChangeRequest> {\n    const id = this.currentChangeRequestId++;\n    const now = new Date();\n    const fullRequest: ChangeRequest = {\n      ...request,\n      id,\n      status: request.status || 'draft',\n      targetType: request.targetType || null,\n      targetId: request.targetId || null,\n      snapshotBeforeJson: request.snapshotBeforeJson || null,\n      proposedChangesJson: request.proposedChangesJson || null,\n      movePreviewJson: request.movePreviewJson || null,\n      submittedAt: request.submittedAt || null,\n      reviewedByUserId: request.reviewedByUserId || null,\n      reviewedAt: request.reviewedAt || null,\n      createdAt: now,\n      updatedAt: now\n    };\n    this.changeRequests.set(id, fullRequest);\n    return fullRequest;\n  }\n\n  async updateChangeRequest(id: number, data: Partial<ChangeRequest>): Promise<ChangeRequest> {\n    const request = this.changeRequests.get(id);\n    if (!request) throw new Error('Change request not found');\n    \n    const updated = {\n      ...request,\n      ...data,\n      updatedAt: new Date()\n    };\n    this.changeRequests.set(id, updated);\n    return updated;\n  }\n\n  async updateChangeRequestTarget(id: number, targetType: string | null, targetId: string | null, snapshotBeforeJson: any): Promise<ChangeRequest> {\n    const request = this.changeRequests.get(id);\n    if (!request) throw new Error('Change request not found');\n    \n    if (request.status !== 'draft' && request.status !== 'returned') {\n      throw new Error('Can only update target for draft or returned requests');\n    }\n    \n    const updated = {\n      ...request,\n      targetType,\n      targetId,\n      snapshotBeforeJson,\n      updatedAt: new Date()\n    };\n    this.changeRequests.set(id, updated);\n    return updated;\n  }\n\n  async updateChangeRequestProposed(id: number, proposedChangesJson: any, movePreviewJson?: any): Promise<ChangeRequest> {\n    const request = this.changeRequests.get(id);\n    if (!request) throw new Error('Change request not found');\n    \n    if (request.status !== 'draft' && request.status !== 'returned') {\n      throw new Error('Can only update proposed changes for draft or returned requests');\n    }\n    \n    const updated = {\n      ...request,\n      proposedChangesJson,\n      movePreviewJson: movePreviewJson || null,\n      updatedAt: new Date()\n    };\n    this.changeRequests.set(id, updated);\n    return updated;\n  }\n\n  async deleteChangeRequest(id: number): Promise<void> {\n    const request = this.changeRequests.get(id);\n    if (!request) throw new Error('Change request not found');\n    if (request.status !== 'draft') {\n      throw new Error('Only draft requests can be deleted');\n    }\n    this.changeRequests.delete(id);\n  }\n\n  async submitChangeRequest(id: number, userId: string): Promise<ChangeRequest> {\n    const request = this.changeRequests.get(id);\n    if (!request) throw new Error('Change request not found');\n    \n    const now = new Date();\n    const updated = {\n      ...request,\n      status: 'submitted' as const,\n      submittedAt: now,\n      requestedByUserId: userId,\n      updatedAt: now\n    };\n    this.changeRequests.set(id, updated);\n    return updated;\n  }\n\n  async approveChangeRequest(id: number, reviewerId: string, comment: string): Promise<ChangeRequest> {\n    const request = this.changeRequests.get(id);\n    if (!request) throw new Error('Change request not found');\n    if (request.status !== 'submitted') {\n      throw new Error('Only submitted requests can be approved');\n    }\n    \n    // Add comment\n    await this.createChangeRequestComment({\n      changeRequestId: id,\n      userId: reviewerId,\n      message: `APPROVED: ${comment}`\n    });\n    \n    const now = new Date();\n    const updated = {\n      ...request,\n      status: 'approved' as const,\n      reviewedByUserId: reviewerId,\n      reviewedAt: now,\n      updatedAt: now\n    };\n    this.changeRequests.set(id, updated);\n    return updated;\n  }\n\n  async rejectChangeRequest(id: number, reviewerId: string, comment: string): Promise<ChangeRequest> {\n    const request = this.changeRequests.get(id);\n    if (!request) throw new Error('Change request not found');\n    if (request.status !== 'submitted') {\n      throw new Error('Only submitted requests can be rejected');\n    }\n    \n    // Add comment\n    await this.createChangeRequestComment({\n      changeRequestId: id,\n      userId: reviewerId,\n      message: `REJECTED: ${comment}`\n    });\n    \n    const now = new Date();\n    const updated = {\n      ...request,\n      status: 'rejected' as const,\n      reviewedByUserId: reviewerId,\n      reviewedAt: now,\n      updatedAt: now\n    };\n    this.changeRequests.set(id, updated);\n    return updated;\n  }\n\n  async returnChangeRequest(id: number, reviewerId: string, comment: string): Promise<ChangeRequest> {\n    const request = this.changeRequests.get(id);\n    if (!request) throw new Error('Change request not found');\n    if (request.status !== 'submitted') {\n      throw new Error('Only submitted requests can be returned');\n    }\n    \n    // Add comment\n    await this.createChangeRequestComment({\n      changeRequestId: id,\n      userId: reviewerId,\n      message: `RETURNED FOR CLARIFICATION: ${comment}`\n    });\n    \n    const now = new Date();\n    const updated = {\n      ...request,\n      status: 'returned' as const,\n      reviewedByUserId: reviewerId,\n      reviewedAt: now,\n      updatedAt: now\n    };\n    this.changeRequests.set(id, updated);\n    return updated;\n  }\n\n  // Change Request Attachments\n  async getChangeRequestAttachments(changeRequestId: number): Promise<ChangeRequestAttachment[]> {\n    return this.changeRequestAttachments.filter(a => a.changeRequestId === changeRequestId);\n  }\n\n  async createChangeRequestAttachment(attachment: InsertChangeRequestAttachment): Promise<ChangeRequestAttachment> {\n    const id = this.currentAttachmentId++;\n    const fullAttachment: ChangeRequestAttachment = {\n      ...attachment,\n      id,\n      uploadedAt: new Date()\n    };\n    this.changeRequestAttachments.push(fullAttachment);\n    return fullAttachment;\n  }\n\n  // Change Request Comments\n  async getChangeRequestComments(changeRequestId: number): Promise<ChangeRequestComment[]> {\n    return this.changeRequestComments\n      .filter(c => c.changeRequestId === changeRequestId)\n      .sort((a, b) => b.createdAt.getTime() - a.createdAt.getTime());\n  }\n\n  async createChangeRequestComment(comment: InsertChangeRequestComment): Promise<ChangeRequestComment> {\n    const id = this.currentCommentId++;\n    const fullComment: ChangeRequestComment = {\n      ...comment,\n      id,\n      createdAt: new Date()\n    };\n    this.changeRequestComments.push(fullComment);\n    return fullComment;\n  }\n  \n  // Bulk Import methods\n  async bulkCreateComponents(components: InsertComponent[]): Promise<Component[]> {\n    const created: Component[] = [];\n    for (const comp of components) {\n      const newComp: Component = {\n        ...comp,\n        id: comp.id || String(Date.now() + Math.random()),\n        vesselId: comp.vesselId || 'V001',\n        currentCumulativeRH: comp.currentCumulativeRH || \"0\",\n        lastUpdated: comp.lastUpdated || new Date().toISOString().split('T')[0]\n      };\n      this.components.set(newComp.id, newComp);\n      created.push(newComp);\n    }\n    return created;\n  }\n\n  async bulkUpdateComponents(updates: Array<{ id: string; data: Partial<Component> }>): Promise<Component[]> {\n    const updated: Component[] = [];\n    for (const { id, data } of updates) {\n      const existing = this.components.get(id);\n      if (existing) {\n        const updatedComp = { ...existing, ...data };\n        this.components.set(id, updatedComp);\n        updated.push(updatedComp);\n      }\n    }\n    return updated;\n  }\n\n  async bulkUpsertComponents(components: InsertComponent[]): Promise<{ created: number; updated: number }> {\n    let created = 0;\n    let updated = 0;\n    \n    for (const comp of components) {\n      const id = comp.id || comp.componentCode;\n      if (!id) continue;\n      \n      if (this.components.has(id)) {\n        const existing = this.components.get(id)!;\n        this.components.set(id, { ...existing, ...comp });\n        updated++;\n      } else {\n        const newComp: Component = {\n          ...comp,\n          id,\n          currentCumulativeRH: comp.currentCumulativeRH || \"0\",\n          lastUpdated: comp.lastUpdated || new Date().toISOString().split('T')[0]\n        };\n        this.components.set(id, newComp);\n        created++;\n      }\n    }\n    \n    return { created, updated };\n  }\n\n  async bulkCreateSpares(spares: InsertSpare[]): Promise<Spare[]> {\n    const created: Spare[] = [];\n    for (const spare of spares) {\n      const id = this.currentSpareId++;\n      const newSpare: Spare = {\n        ...spare,\n        id,\n        robStock: spare.robStock || 0,\n        consumed: spare.consumed || 0,\n        received: spare.received || 0,\n        status: spare.status || 'active',\n        minStock: spare.minStock || 0,\n        stockStatus: this.calculateStockStatus(spare.robStock || 0, spare.minStock || 0),\n        issuedWithUnit: spare.issuedWithUnit || 0,\n        createdAt: new Date(),\n        updatedAt: new Date()\n      };\n      this.spares.set(id, newSpare);\n      created.push(newSpare);\n    }\n    return created;\n  }\n\n  async bulkUpdateSparesByROB(updates: Array<{ robId: string; data: Partial<Spare> }>): Promise<Spare[]> {\n    const updated: Spare[] = [];\n    for (const { robId, data } of updates) {\n      // Find spare by robId\n      const existingEntry = Array.from(this.spares.entries()).find(([_, spare]) => spare.robId === robId);\n      if (existingEntry) {\n        const [id, existing] = existingEntry;\n        const updatedSpare = { ...existing, ...data, updatedAt: new Date() };\n        this.spares.set(id, updatedSpare);\n        updated.push(updatedSpare);\n      }\n    }\n    return updated;\n  }\n\n  async bulkUpsertSpares(spares: InsertSpare[]): Promise<{ created: number; updated: number }> {\n    let created = 0;\n    let updated = 0;\n    \n    for (const spare of spares) {\n      // Try to find existing spare by robId\n      const existingEntry = Array.from(this.spares.entries()).find(([_, s]) => s.robId === spare.robId);\n      \n      if (existingEntry) {\n        const [id, existing] = existingEntry;\n        const updatedSpare = {\n          ...existing,\n          ...spare,\n          stockStatus: this.calculateStockStatus(spare.robStock || existing.robStock, spare.minStock || existing.minStock),\n          updatedAt: new Date()\n        };\n        this.spares.set(id, updatedSpare);\n        updated++;\n      } else {\n        const id = this.currentSpareId++;\n        const newSpare: Spare = {\n          ...spare,\n          id,\n          robStock: spare.robStock || 0,\n          consumed: spare.consumed || 0,\n          received: spare.received || 0,\n          status: spare.status || 'active',\n          minStock: spare.minStock || 0,\n          stockStatus: this.calculateStockStatus(spare.robStock || 0, spare.minStock || 0),\n          issuedWithUnit: spare.issuedWithUnit || 0,\n          createdAt: new Date(),\n          updatedAt: new Date()\n        };\n        this.spares.set(id, newSpare);\n        created++;\n      }\n    }\n    \n    return { created, updated };\n  }\n\n  async archiveComponentsByIds(ids: string[]): Promise<number> {\n    let archived = 0;\n    for (const id of ids) {\n      if (this.components.has(id)) {\n        const comp = this.components.get(id)!;\n        this.components.set(id, { ...comp, status: 'archived' });\n        archived++;\n      }\n    }\n    return archived;\n  }\n\n  async archiveSparesByIds(ids: number[]): Promise<number> {\n    let archived = 0;\n    for (const id of ids) {\n      if (this.spares.has(id)) {\n        const spare = this.spares.get(id)!;\n        this.spares.set(id, { ...spare, status: 'archived' });\n        archived++;\n      }\n    }\n    return archived;\n  }\n\n  private calculateStockStatus(robStock: number, minStock: number): string {\n    if (robStock === 0) return 'Out of Stock';\n    if (robStock < minStock) return 'Minimum';\n    if (robStock < minStock * 1.5) return 'Low';\n    return 'OK';\n  }\n\n  private initializeAlertPolicies() {\n    // Initialize default alert policies\n    const defaultPolicies = [\n      {\n        alertType: 'maintenance_due',\n        enabled: true,\n        priority: 'medium',\n        emailEnabled: false,\n        inAppEnabled: true,\n        thresholds: JSON.stringify({\n          daysBeforeDue: 7,\n          includePendingApproval: false,\n          onlyCritical: false\n        }),\n        scopeFilters: JSON.stringify({}),\n        recipients: JSON.stringify({\n          roles: ['Chief Engineer', '2nd Engineer'],\n          users: []\n        }),\n        createdBy: 'system',\n        updatedBy: 'system'\n      },\n      {\n        alertType: 'critical_inventory',\n        enabled: true,\n        priority: 'high',\n        emailEnabled: true,\n        inAppEnabled: true,\n        thresholds: JSON.stringify({\n          bufferQty: 0,\n          includeNonCritical: false\n        }),\n        scopeFilters: JSON.stringify({}),\n        recipients: JSON.stringify({\n          roles: ['Chief Engineer', 'Tech Superintendent'],\n          users: []\n        }),\n        createdBy: 'system',\n        updatedBy: 'system'\n      },\n      {\n        alertType: 'running_hours',\n        enabled: true,\n        priority: 'medium',\n        emailEnabled: false,\n        inAppEnabled: true,\n        thresholds: JSON.stringify({\n          hoursBeforeService: 100,\n          utilizationSpikePercent: null\n        }),\n        scopeFilters: JSON.stringify({}),\n        recipients: JSON.stringify({\n          roles: ['Chief Engineer'],\n          users: []\n        }),\n        createdBy: 'system',\n        updatedBy: 'system'\n      },\n      {\n        alertType: 'certificate_expiration',\n        enabled: true,\n        priority: 'high',\n        emailEnabled: true,\n        inAppEnabled: true,\n        thresholds: JSON.stringify({\n          daysBeforeExpiry: 30,\n          types: ['Class Certificates', 'Flag', 'Insurance']\n        }),\n        scopeFilters: JSON.stringify({}),\n        recipients: JSON.stringify({\n          roles: ['Tech Superintendent', 'Office'],\n          users: []\n        }),\n        createdBy: 'system',\n        updatedBy: 'system'\n      },\n      {\n        alertType: 'system_backup',\n        enabled: true,\n        priority: 'low',\n        emailEnabled: false,\n        inAppEnabled: true,\n        thresholds: JSON.stringify({\n          requireDailySuccess: true,\n          maxAgeHours: 26\n        }),\n        scopeFilters: JSON.stringify({}),\n        recipients: JSON.stringify({\n          roles: ['Tech Superintendent'],\n          users: []\n        }),\n        createdBy: 'system',\n        updatedBy: 'system'\n      }\n    ];\n\n    defaultPolicies.forEach((policy, index) => {\n      const newPolicy: AlertPolicy = {\n        id: index + 1,\n        ...policy,\n        createdAt: new Date(),\n        updatedAt: new Date()\n      };\n      this.alertPolicies.set(newPolicy.id, newPolicy);\n      this.currentAlertPolicyId = index + 2;\n    });\n  }\n\n  // Alert Policy methods\n  async getAlertPolicies(): Promise<AlertPolicy[]> {\n    return Array.from(this.alertPolicies.values());\n  }\n\n  async getAlertPolicy(id: number): Promise<AlertPolicy | undefined> {\n    return this.alertPolicies.get(id);\n  }\n\n  async createAlertPolicy(policy: InsertAlertPolicy): Promise<AlertPolicy> {\n    const newPolicy: AlertPolicy = {\n      id: this.currentAlertPolicyId++,\n      ...policy,\n      createdAt: new Date(),\n      updatedAt: new Date()\n    };\n    this.alertPolicies.set(newPolicy.id, newPolicy);\n    return newPolicy;\n  }\n\n  async updateAlertPolicy(id: number, data: Partial<AlertPolicy>): Promise<AlertPolicy> {\n    const policy = this.alertPolicies.get(id);\n    if (!policy) {\n      throw new Error(`Alert policy ${id} not found`);\n    }\n    const updated = {\n      ...policy,\n      ...data,\n      updatedAt: new Date()\n    };\n    this.alertPolicies.set(id, updated);\n    return updated;\n  }\n\n  async deleteAlertPolicy(id: number): Promise<void> {\n    this.alertPolicies.delete(id);\n  }\n\n  // Alert Event methods\n  async getAlertEvents(filters?: { \n    startDate?: Date; \n    endDate?: Date; \n    alertType?: string; \n    priority?: string; \n    status?: string; \n    vesselId?: string \n  }): Promise<AlertEvent[]> {\n    let events = Array.from(this.alertEvents.values());\n    \n    if (filters) {\n      if (filters.startDate) {\n        events = events.filter(e => e.createdAt >= filters.startDate!);\n      }\n      if (filters.endDate) {\n        events = events.filter(e => e.createdAt <= filters.endDate!);\n      }\n      if (filters.alertType) {\n        events = events.filter(e => e.alertType === filters.alertType);\n      }\n      if (filters.priority) {\n        events = events.filter(e => e.priority === filters.priority);\n      }\n      if (filters.vesselId) {\n        events = events.filter(e => e.vesselId === filters.vesselId);\n      }\n    }\n    \n    return events.sort((a, b) => b.createdAt.getTime() - a.createdAt.getTime());\n  }\n\n  async getAlertEvent(id: number): Promise<AlertEvent | undefined> {\n    return this.alertEvents.get(id);\n  }\n\n  async createAlertEvent(event: InsertAlertEvent): Promise<AlertEvent> {\n    const newEvent: AlertEvent = {\n      id: this.currentAlertEventId++,\n      ...event,\n      createdAt: new Date()\n    };\n    this.alertEvents.set(newEvent.id, newEvent);\n    return newEvent;\n  }\n\n  async acknowledgeAlertEvent(id: number, userId: string): Promise<AlertEvent> {\n    const event = this.alertEvents.get(id);\n    if (!event) {\n      throw new Error(`Alert event ${id} not found`);\n    }\n    const updated = {\n      ...event,\n      ackBy: userId,\n      ackAt: new Date()\n    };\n    this.alertEvents.set(id, updated);\n    return updated;\n  }\n\n  // Alert Delivery methods\n  async getAlertDeliveries(eventId: number): Promise<AlertDelivery[]> {\n    return Array.from(this.alertDeliveries.values())\n      .filter(d => d.eventId === eventId);\n  }\n\n  async createAlertDelivery(delivery: InsertAlertDelivery): Promise<AlertDelivery> {\n    const newDelivery: AlertDelivery = {\n      id: this.currentAlertDeliveryId++,\n      ...delivery,\n      createdAt: new Date()\n    };\n    this.alertDeliveries.set(newDelivery.id, newDelivery);\n    return newDelivery;\n  }\n\n  async updateAlertDeliveryStatus(id: number, status: string, errorMessage?: string): Promise<AlertDelivery> {\n    const delivery = this.alertDeliveries.get(id);\n    if (!delivery) {\n      throw new Error(`Alert delivery ${id} not found`);\n    }\n    const updated = {\n      ...delivery,\n      status,\n      errorMessage,\n      sentAt: status === 'sent' ? new Date() : delivery.sentAt,\n      acknowledgedAt: status === 'acknowledged' ? new Date() : delivery.acknowledgedAt\n    };\n    this.alertDeliveries.set(id, updated);\n    return updated;\n  }\n\n  // Alert Config methods\n  async getAlertConfig(vesselId: string): Promise<AlertConfig | undefined> {\n    return this.alertConfigs.get(vesselId);\n  }\n\n  async createOrUpdateAlertConfig(config: InsertAlertConfig): Promise<AlertConfig> {\n    const existing = this.alertConfigs.get(config.vesselId);\n    \n    if (existing) {\n      const updated = {\n        ...existing,\n        ...config,\n        updatedAt: new Date()\n      };\n      this.alertConfigs.set(config.vesselId, updated);\n      return updated;\n    } else {\n      const newConfig: AlertConfig = {\n        id: this.currentAlertConfigId++,\n        ...config,\n        createdAt: new Date(),\n        updatedAt: new Date()\n      };\n      this.alertConfigs.set(config.vesselId, newConfig);\n      return newConfig;\n    }\n  }\n\n  // Form Definition methods\n  async getFormDefinitions(): Promise<FormDefinition[]> {\n    return Array.from(this.formDefinitions.values());\n  }\n\n  async getFormDefinition(id: number): Promise<FormDefinition | undefined> {\n    return this.formDefinitions.get(id);\n  }\n\n  async getFormDefinitionByName(name: string): Promise<FormDefinition | undefined> {\n    return Array.from(this.formDefinitions.values()).find(f => f.name === name);\n  }\n\n  async createFormDefinition(form: InsertFormDefinition): Promise<FormDefinition> {\n    const newForm: FormDefinition = {\n      id: this.currentFormDefinitionId++,\n      ...form\n    };\n    this.formDefinitions.set(newForm.id, newForm);\n    return newForm;\n  }\n\n  // Form Version methods\n  async getFormVersions(formId: number): Promise<FormVersion[]> {\n    return Array.from(this.formVersions.values())\n      .filter(v => v.formId === formId)\n      .sort((a, b) => b.versionNo - a.versionNo);\n  }\n\n  async getFormVersion(id: number): Promise<FormVersion | undefined> {\n    return this.formVersions.get(id);\n  }\n\n  async getLatestPublishedVersion(formId: number): Promise<FormVersion | undefined> {\n    const versions = await this.getFormVersions(formId);\n    return versions.find(v => v.status === 'PUBLISHED');\n  }\n\n  async getLatestPublishedVersionByName(name: string): Promise<FormVersion | undefined> {\n    const form = await this.getFormDefinitionByName(name);\n    if (!form) return undefined;\n    return this.getLatestPublishedVersion(form.id);\n  }\n\n  async createFormVersion(version: InsertFormVersion): Promise<FormVersion> {\n    const newVersion: FormVersion = {\n      id: this.currentFormVersionId++,\n      ...version,\n      versionDate: version.versionDate || new Date()\n    };\n    this.formVersions.set(newVersion.id, newVersion);\n    return newVersion;\n  }\n\n  async updateFormVersion(id: number, data: Partial<FormVersion>): Promise<FormVersion> {\n    const version = this.formVersions.get(id);\n    if (!version) throw new Error('Form version not found');\n    \n    if (version.status !== 'DRAFT') {\n      throw new Error('Can only update draft versions');\n    }\n    \n    const updated = { ...version, ...data };\n    this.formVersions.set(id, updated);\n    return updated;\n  }\n\n  async publishFormVersion(id: number, userId: string, changelog: string): Promise<FormVersion> {\n    const version = this.formVersions.get(id);\n    if (!version) throw new Error('Form version not found');\n    \n    if (version.status !== 'DRAFT') {\n      throw new Error('Can only publish draft versions');\n    }\n    \n    // Archive current published version\n    const currentPublished = await this.getLatestPublishedVersion(version.formId);\n    if (currentPublished) {\n      this.formVersions.set(currentPublished.id, {\n        ...currentPublished,\n        status: 'ARCHIVED'\n      });\n    }\n    \n    // Publish new version\n    const published = {\n      ...version,\n      status: 'PUBLISHED' as const,\n      authorUserId: userId,\n      changelog,\n      versionDate: new Date()\n    };\n    this.formVersions.set(id, published);\n    return published;\n  }\n\n  async discardFormVersion(id: number): Promise<void> {\n    const version = this.formVersions.get(id);\n    if (!version) throw new Error('Form version not found');\n    \n    if (version.status !== 'DRAFT') {\n      throw new Error('Can only discard draft versions');\n    }\n    \n    this.formVersions.delete(id);\n  }\n\n  // Form Version Usage methods\n  async createFormVersionUsage(usage: InsertFormVersionUsage): Promise<FormVersionUsage> {\n    const newUsage: FormVersionUsage = {\n      id: this.currentFormUsageId++,\n      ...usage,\n      usedAt: usage.usedAt || new Date()\n    };\n    this.formVersionUsages.push(newUsage);\n    return newUsage;\n  }\n\n  async getFormVersionUsage(formVersionId: number): Promise<FormVersionUsage[]> {\n    return this.formVersionUsages.filter(u => u.formVersionId === formVersionId);\n  }\n\n  // Seed forms method\n  async seedForms(): Promise<void> {\n    // Check if forms already exist\n    if (this.formDefinitions.size > 0) {\n      return; // Already seeded\n    }\n    \n    // Re-initialize forms\n    await this.initializeFormDefinitions();\n  }\n}\n\n// Use in-memory storage for Technical Module\nconst storage: IStorage = new MemStorage();\nconsole.log(\"  Technical Module using in-memory storage for development\");\n\nexport { storage };\n"]}