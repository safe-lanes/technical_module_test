{"version":3,"file":"ModifyPMS.jsx","sourceRoot":"","sources":["ModifyPMS.tsx"],"names":[],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { queryClient } from \"@/lib/queryClient\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { ChangeRequestModal } from \"@/components/modify/ChangeRequestModal\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuLabel,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { Plus, Search, Eye, Edit, Trash2, Send, Clock, CheckCircle, XCircle, RotateCcw, Package, ClipboardList, Archive, Store, ExternalLink, ChevronDown } from \"lucide-react\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { TargetPicker } from \"@/components/TargetPicker\";\nimport { ProposeChanges } from \"@/components/ProposeChanges\";\nimport { useLocation } from \"wouter\";\nimport { useEffect } from \"react\";\nimport { useChangeMode } from \"@/contexts/ChangeModeContext\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface ChangeRequest {\n  id: number;\n  vesselId: string;\n  category: string;\n  title: string;\n  reason: string;\n  targetType?: string | null;\n  targetId?: string | null;\n  snapshotBeforeJson?: any;\n  proposedChangesJson?: any[] | null;\n  movePreviewJson?: any;\n  status: 'draft' | 'submitted' | 'returned' | 'approved' | 'rejected';\n  requestedByUserId: string;\n  submittedAt: Date | null;\n  reviewedByUserId: string | null;\n  reviewedAt: Date | null;\n  createdAt: Date;\n  updatedAt: Date;\n  attachments?: ChangeRequestAttachment[];\n  comments?: ChangeRequestComment[];\n}\n\ninterface ChangeRequestAttachment {\n  id: number;\n  changeRequestId: number;\n  filename: string;\n  url: string;\n  uploadedByUserId: string;\n  uploadedAt: Date;\n}\n\ninterface ChangeRequestComment {\n  id: number;\n  changeRequestId: number;\n  userId: string;\n  message: string;\n  createdAt: Date;\n}\n\nconst statusColors = {\n  draft: 'bg-gray-500',\n  submitted: 'bg-blue-500',\n  returned: 'bg-yellow-500',\n  approved: 'bg-green-500',\n  rejected: 'bg-red-500'\n};\n\nconst statusIcons = {\n  draft: Clock,\n  submitted: Send,\n  returned: RotateCcw,\n  approved: CheckCircle,\n  rejected: XCircle\n};\n\nexport default function ModifyPMS() {\n  const [, setLocation] = useLocation();\n  const { enterChangeMode } = useChangeMode();\n  const { toast } = useToast();\n  const [selectedVessel] = useState('V001');\n  const [categoryFilter, setCategoryFilter] = useState<string>('all');\n  const [statusFilter, setStatusFilter] = useState<string>('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showCreateDialog, setShowCreateDialog] = useState(false);\n  const [editingRequest, setEditingRequest] = useState<ChangeRequest | null>(null);\n  const [viewingRequest, setViewingRequest] = useState<ChangeRequest | null>(null);\n  const [showTargetPicker, setShowTargetPicker] = useState(false);\n  const [showSnapshotDialog, setShowSnapshotDialog] = useState(false);\n  const [snapshotToView, setSnapshotToView] = useState<any>(null);\n  const [isNewRequestModalOpen, setIsNewRequestModalOpen] = useState(false);\n  \n  // Form state for create/edit\n  const [formData, setFormData] = useState({\n    title: '',\n    category: 'components',\n    reason: '',\n    targetType: null as string | null,\n    targetId: null as string | null,\n    snapshotBeforeJson: null as any,\n    proposedChangesJson: null as any[] | null,\n    movePreviewJson: null as any,\n    targetDisplay: null as any\n  });\n  \n\n\n  // Fetch change requests\n  const { data: requests = [], isLoading } = useQuery({\n    queryKey: ['/api/change-requests', categoryFilter, statusFilter, searchQuery],\n    queryFn: async () => {\n      const params = new URLSearchParams();\n      params.append('vesselId', selectedVessel);\n      if (categoryFilter !== 'all') params.append('category', categoryFilter);\n      if (statusFilter !== 'all') params.append('status', statusFilter);\n      if (searchQuery) params.append('q', searchQuery);\n      \n      const response = await fetch(`/api/change-requests?${params}`);\n      if (!response.ok) throw new Error('Failed to fetch requests');\n      return response.json();\n    }\n  });\n\n  // Create mutation\n  const createMutation = useMutation({\n    mutationFn: async (data: typeof formData) => {\n      const res = await apiRequest('POST', '/api/change-requests', {\n        ...data,\n        vesselId: selectedVessel,\n        requestedByUserId: 'current_user'\n      });\n      return res.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/change-requests'] });\n      setShowCreateDialog(false);\n      resetForm();\n    }\n  });\n\n  // Update mutation\n  const updateMutation = useMutation({\n    mutationFn: async ({ id, data }: { id: number; data: typeof formData }) => {\n      const res = await apiRequest('PUT', `/api/change-requests/${id}`, {\n        ...data,\n        vesselId: selectedVessel,\n        requestedByUserId: 'current_user'\n      });\n      return res.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/change-requests'] });\n      setEditingRequest(null);\n      resetForm();\n    }\n  });\n\n  // Submit mutation\n  const submitMutation = useMutation({\n    mutationFn: async (id: number) => {\n      const res = await apiRequest('PATCH', `/api/change-requests/${id}/status`, {\n        status: 'submitted',\n        reviewedByUserId: 'current_user'\n      });\n      return res.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/change-requests'] });\n    }\n  });\n\n  // Delete mutation\n  const deleteMutation = useMutation({\n    mutationFn: async (id: number) => {\n      const res = await apiRequest('DELETE', `/api/change-requests/${id}`);\n      return res.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/change-requests'] });\n    }\n  });\n\n  const resetForm = () => {\n    setFormData({\n      title: '',\n      category: 'components',\n      reason: '',\n      targetType: null,\n      targetId: null,\n      snapshotBeforeJson: null,\n      proposedChangesJson: null,\n      movePreviewJson: null,\n      targetDisplay: null\n    });\n  };\n  \n  // Check if returning from target selection\n  useEffect(() => {\n    const returnWithTarget = sessionStorage.getItem('modifyPMS_returnWithTarget');\n    const formDataStr = sessionStorage.getItem('modifyPMS_formData');\n    const editingId = sessionStorage.getItem('modifyPMS_editingId');\n    \n    if (returnWithTarget === 'true' && formDataStr) {\n      const savedFormData = JSON.parse(formDataStr);\n      setFormData(savedFormData);\n      \n      // If we were editing, restore that state\n      if (editingId && requests) {\n        const requestToEdit = requests.find((r: ChangeRequest) => r.id === parseInt(editingId));\n        if (requestToEdit) {\n          setEditingRequest(requestToEdit);\n        }\n      }\n      \n      // Open the create/edit dialog\n      setShowCreateDialog(true);\n      \n      // Clear session storage\n      sessionStorage.removeItem('modifyPMS_returnWithTarget');\n      sessionStorage.removeItem('modifyPMS_formData');\n      sessionStorage.removeItem('modifyPMS_editingId');\n    }\n  }, [requests]);\n\n  const handleCreate = () => {\n    resetForm();\n    setShowCreateDialog(true);\n  };\n  \n  const handleCreateWithChangeMode = (category: string) => {\n    // Enter change mode with title and category\n    const title = `New ${category.charAt(0).toUpperCase() + category.slice(1)} Change Request`;\n    enterChangeMode(title, category);\n    \n    // Navigate to the appropriate screen\n    switch (category) {\n      case 'components':\n        // Set flag to open Add/Edit Component form\n        sessionStorage.setItem('openComponentForm', 'true');\n        setLocation('/pms/components');\n        break;\n      case 'work_orders':\n        setLocation('/pms/work-orders');\n        break;\n      case 'spares':\n        setLocation('/pms/spares');\n        break;\n      case 'stores':\n        setLocation('/pms/stores');\n        break;\n      default:\n        setLocation('/pms/components');\n    }\n  };\n\n  const handleEdit = (request: ChangeRequest) => {\n    setFormData({\n      title: request.title,\n      category: request.category,\n      reason: request.reason,\n      targetType: request.targetType || null,\n      targetId: request.targetId || null,\n      snapshotBeforeJson: request.snapshotBeforeJson || null,\n      proposedChangesJson: request.proposedChangesJson || null,\n      movePreviewJson: request.movePreviewJson || null,\n      targetDisplay: request.snapshotBeforeJson ? {\n        key: request.snapshotBeforeJson.displayKey,\n        name: request.snapshotBeforeJson.displayName,\n        path: request.snapshotBeforeJson.displayPath\n      } : null\n    });\n    setEditingRequest(request);\n  };\n\n  const handleTargetSelect = async (targetType: string, targetId: string, payload: any) => {\n    // The payload now contains the full structure with targetDisplay and snapshotBeforeJson\n    const actualTargetType = payload.targetType || targetType;\n    const actualTargetId = payload.targetId || targetId;\n    const snapshot = payload.snapshotBeforeJson || payload;\n    \n    setFormData(prev => ({\n      ...prev,\n      targetType: actualTargetType,\n      targetId: actualTargetId,\n      snapshotBeforeJson: snapshot,\n      targetDisplay: payload.targetDisplay\n    }));\n    \n    // If editing an existing request, update it immediately\n    if (editingRequest) {\n      try {\n        await apiRequest('PUT', `/api/change-requests/${editingRequest.id}`, {\n          targetType: actualTargetType,\n          targetId: actualTargetId,\n          snapshotBeforeJson: snapshot\n        });\n        \n        // Refresh the request data\n        queryClient.invalidateQueries({ queryKey: ['/api/change-requests'] });\n      } catch (error) {\n        console.error('Failed to update target:', error);\n      }\n    }\n    \n    setShowTargetPicker(false);\n  };\n\n  const getTargetIcon = (targetType?: string | null) => {\n    switch (targetType) {\n      case 'component': return <Package className=\"h-4 w-4\" />;\n      case 'work_order': return <ClipboardList className=\"h-4 w-4\" />;\n      case 'spare': return <Archive className=\"h-4 w-4\" />;\n      case 'store': return <Store className=\"h-4 w-4\" />;\n      default: return null;\n    }\n  };\n\n  const getTargetDisplayName = (request: ChangeRequest) => {\n    if (!request.snapshotBeforeJson) return '-';\n    const snapshot = request.snapshotBeforeJson;\n    return `${snapshot.displayKey || ''} - ${snapshot.displayName || ''}`;\n  };\n\n  const handleView = async (request: ChangeRequest) => {\n    // Fetch full details including comments and attachments\n    const response = await fetch(`/api/change-requests/${request.id}`);\n    if (response.ok) {\n      const fullRequest = await response.json();\n      setViewingRequest(fullRequest);\n    }\n  };\n\n  const handleSave = () => {\n    if (editingRequest) {\n      updateMutation.mutate({ id: editingRequest.id, data: formData });\n    } else {\n      createMutation.mutate(formData);\n    }\n  };\n\n  const getStatusBadge = (status: string) => {\n    const Icon = statusIcons[status as keyof typeof statusIcons];\n    return (\n      <Badge className={`${statusColors[status as keyof typeof statusColors]} text-white`}>\n        <Icon className=\"w-3 h-3 mr-1\" />\n        {status.toUpperCase()}\n      </Badge>\n    );\n  };\n\n  return (\n    <>\n    <div className=\"flex h-screen bg-gray-100\">\n      {/* Left Sidebar - Blue Background */}\n      <div className=\"w-64 bg-[#52BAF3] text-white\">\n        <div className=\"p-4\">\n          <div className=\"bg-[#40a8e0] px-4 py-3 rounded-t-lg\">\n            <h2 className=\"text-white font-medium\">Category</h2>\n          </div>\n          <div className=\"bg-white rounded-b-lg\">\n            <div className=\"p-4 space-y-1\">\n              <button\n                onClick={() => setCategoryFilter('components')}\n                className={`w-full text-left px-3 py-2 text-sm rounded transition-colors ${\n                  categoryFilter === 'components'\n                    ? 'bg-[#52BAF3] text-white font-medium'\n                    : 'text-gray-700 hover:bg-gray-50'\n                }`}\n              >\n                1. Components\n              </button>\n              <button\n                onClick={() => setCategoryFilter('work_orders')}\n                className={`w-full text-left px-3 py-2 text-sm rounded transition-colors ${\n                  categoryFilter === 'work_orders'\n                    ? 'bg-[#52BAF3] text-white font-medium'\n                    : 'text-gray-700 hover:bg-gray-50'\n                }`}\n              >\n                2. Work orders\n              </button>\n              <button\n                onClick={() => setCategoryFilter('spares')}\n                className={`w-full text-left px-3 py-2 text-sm rounded transition-colors ${\n                  categoryFilter === 'spares'\n                    ? 'bg-[#52BAF3] text-white font-medium'\n                    : 'text-gray-700 hover:bg-gray-50'\n                }`}\n              >\n                3. Spares\n              </button>\n              <button\n                onClick={() => setCategoryFilter('stores')}\n                className={`w-full text-left px-3 py-2 text-sm rounded transition-colors ${\n                  categoryFilter === 'stores'\n                    ? 'bg-[#52BAF3] text-white font-medium'\n                    : 'text-gray-700 hover:bg-gray-50'\n                }`}\n              >\n                4. Stores\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content Area */}\n      <div className=\"flex-1 flex flex-col\">\n        {/* Header */}\n        <div className=\"bg-white p-6 border-b border-gray-200\">\n          <h1 className=\"text-2xl font-bold text-gray-800 mb-4\">Modify PMS - Change Requests</h1>\n          \n          <div className=\"flex justify-between items-center\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n              <Input\n                placeholder=\"Search Status\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"pl-10 w-80 border-gray-300\"\n              />\n            </div>\n            <Button \n              className=\"bg-[#52BAF3] hover:bg-[#40a8e0] text-white px-6\"\n              onClick={() => setIsNewRequestModalOpen(true)}\n            >\n              <Plus className=\"w-4 h-4 mr-2\" />\n              New Change Request\n            </Button>\n          </div>\n        </div>\n\n        {/* Table Content */}\n        <div className=\"flex-1 p-6\">\n          <div className=\"bg-white rounded-lg border border-gray-200 h-full\">\n            {isLoading ? (\n              <div className=\"text-center py-12 text-gray-500\">Loading...</div>\n            ) : requests.length === 0 ? (\n              <div className=\"text-center py-12 text-gray-500\">\n                No change requests found. Click \"New Change Request\" to create one.\n              </div>\n            ) : (\n              <div className=\"h-full flex flex-col\">\n                <Table>\n                  <TableHeader>\n                    <TableRow className=\"bg-[#52BAF3] hover:bg-[#52BAF3] border-b-0\">\n                      <TableHead className=\"text-white font-medium py-4 px-6\">Request Title</TableHead>\n                      <TableHead className=\"text-white font-medium py-4 px-6\">Requested By</TableHead>\n                      <TableHead className=\"text-white font-medium py-4 px-6\">Date</TableHead>\n                      <TableHead className=\"text-white font-medium py-4 px-6\">Status</TableHead>\n                    </TableRow>\n                  </TableHeader>\n                  <TableBody>\n                    {requests.map((request: ChangeRequest) => (\n                      <TableRow key={request.id} className=\"border-b border-gray-200 hover:bg-gray-50\">\n                        <TableCell className=\"py-4 px-6\">\n                          <div className=\"font-medium text-gray-900\">{request.title}</div>\n                        </TableCell>\n                        <TableCell className=\"py-4 px-6 text-gray-700\">\n                          {request.requestedByUserId === 'current_user' ? 'Chief Engineer' : \n                           request.requestedByUserId === '2nd_engineer' ? '2nd Engineer' : \n                           request.requestedByUserId === '3rd_engineer' ? '3rd Engineer' : \n                           request.requestedByUserId}\n                        </TableCell>\n                        <TableCell className=\"py-4 px-6 text-gray-700\">\n                          {request.submittedAt \n                            ? new Date(request.submittedAt).toLocaleDateString('en-GB', { \n                                year: 'numeric', \n                                month: '2-digit', \n                                day: '2-digit' \n                              }).replace(/\\//g, ' ')\n                            : new Date(request.createdAt).toLocaleDateString('en-GB', { \n                                year: 'numeric', \n                                month: '2-digit', \n                                day: '2-digit' \n                              }).replace(/\\//g, ' ')}\n                        </TableCell>\n                        <TableCell className=\"py-4 px-6\">\n                          {request.status === 'submitted' && (\n                            <Badge className=\"bg-[#52BAF3] text-white px-3 py-1 text-xs rounded-full\">\n                              Pending Approval\n                            </Badge>\n                          )}\n                          {request.status === 'approved' && (\n                            <Badge className=\"bg-green-500 text-white px-3 py-1 text-xs rounded-full\">\n                              Approved\n                            </Badge>\n                          )}\n                          {request.status === 'rejected' && (\n                            <Badge className=\"bg-red-500 text-white px-3 py-1 text-xs rounded-full\">\n                              Rejected\n                            </Badge>\n                          )}\n                          {request.status === 'draft' && (\n                            <Badge className=\"bg-gray-500 text-white px-3 py-1 text-xs rounded-full\">\n                              Draft\n                            </Badge>\n                          )}\n                          {request.status === 'returned' && (\n                            <Badge className=\"bg-yellow-500 text-white px-3 py-1 text-xs rounded-full\">\n                              Returned\n                            </Badge>\n                          )}\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n                \n                {/* Pagination info at bottom */}\n                <div className=\"mt-auto px-6 py-4 border-t border-gray-200 text-sm text-gray-500\">\n                  {requests.length > 0 ? `0 to ${requests.length} of ${requests.length}` : '0 to 0 of 0'}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n\n    {/* Create/Edit Dialog */}\n    <Dialog open={showCreateDialog || !!editingRequest} onOpenChange={(open) => {\n      if (!open) {\n        setShowCreateDialog(false);\n        setEditingRequest(null);\n        resetForm();\n      }\n    }}>\n        <DialogContent className=\"max-w-2xl\">\n          <DialogHeader>\n            <DialogTitle>\n              {editingRequest ? 'Edit Change Request' : 'New Change Request'}\n            </DialogTitle>\n            <DialogDescription>\n              {editingRequest \n                ? 'Update the change request details below.' \n                : 'Create a new change request. It will be saved as draft until submitted.'}\n            </DialogDescription>\n          </DialogHeader>\n\n          <div className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"title\">Title *</Label>\n              <Input\n                id=\"title\"\n                value={formData.title}\n                onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n                placeholder=\"Brief description of the change (max 120 characters)\"\n                maxLength={120}\n              />\n              <p className=\"text-sm text-gray-500 mt-1\">\n                {formData.title.length}/120 characters\n              </p>\n            </div>\n\n            <div>\n              <Label htmlFor=\"category\">Category *</Label>\n              <Select \n                value={formData.category} \n                onValueChange={(value) => setFormData({ ...formData, category: value })}\n              >\n                <SelectTrigger id=\"category\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"components\">Components</SelectItem>\n                  <SelectItem value=\"work_orders\">Work Orders</SelectItem>\n                  <SelectItem value=\"running_hours\">Running Hours</SelectItem>\n                  <SelectItem value=\"spares\">Spares</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div>\n              <Label htmlFor=\"reason\">Reason for Change *</Label>\n              <Textarea\n                id=\"reason\"\n                value={formData.reason}\n                onChange={(e) => setFormData({ ...formData, reason: e.target.value })}\n                placeholder=\"Detailed explanation of why this change is needed...\"\n                rows={6}\n              />\n            </div>\n\n            <div>\n              <Label>Target Selection *</Label>\n              <div className=\"border rounded-lg p-4 bg-gray-50\">\n                {formData.targetType && formData.snapshotBeforeJson ? (\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-2\">\n                      {getTargetIcon(formData.targetType)}\n                      <div>\n                        <p className=\"font-semibold\">\n                          {formData.snapshotBeforeJson.displayKey} - {formData.snapshotBeforeJson.displayName}\n                        </p>\n                        {formData.snapshotBeforeJson.displayPath && (\n                          <p className=\"text-xs text-gray-500\">\n                            {formData.snapshotBeforeJson.displayPath}\n                          </p>\n                        )}\n                        <p className=\"text-sm text-gray-600\">\n                          Target Type: {formData.targetType?.replace('_', ' ').toUpperCase()}\n                        </p>\n                      </div>\n                    </div>\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => {\n                        // Navigate to the appropriate screen with change request mode parameters\n                        const params = new URLSearchParams({\n                          editAsChangeRequest: '1',\n                          crTitle: formData.title || '',\n                          crCategory: formData.category || 'components',\n                          targetId: formData.targetId || ''\n                        });\n                        \n                        const routes = {\n                          'components': `/pms/components?${params}`,\n                          'work_orders': `/pms/work-orders?${params}`,\n                          'spares': `/spares?${params}`,\n                          'stores': `/stores?${params}`\n                        };\n                        setLocation(routes[formData.category as keyof typeof routes] || `/pms/components?${params}`);\n                      }}\n                    >\n                      Change Target\n                    </Button>\n                  </div>\n                ) : (\n                  <div className=\"text-center\">\n                    <p className=\"text-gray-600 mb-2\">No target selected</p>\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      onClick={() => {\n                        // Navigate to the appropriate screen with change request mode parameters\n                        const params = new URLSearchParams({\n                          editAsChangeRequest: '1',\n                          crTitle: formData.title || '',\n                          crCategory: formData.category || 'components'\n                        });\n                        \n                        const routes = {\n                          'components': `/pms/components?${params}`,\n                          'work_orders': `/pms/work-orders?${params}`,\n                          'spares': `/spares?${params}`,\n                          'stores': `/stores?${params}`\n                        };\n                        setLocation(routes[formData.category as keyof typeof routes] || `/pms/components?${params}`);\n                      }}\n                    >\n                      <ExternalLink className=\"w-4 h-4 mr-2\" />\n                      Select Target\n                    </Button>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {editingRequest?.status === 'returned' && (\n              <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n                <p className=\"text-sm font-semibold text-yellow-800\">\n                  This request was returned for clarification. Please review the comments and update accordingly.\n                </p>\n              </div>\n            )}\n            \n            {/* Propose Changes Section - only show when target is selected and in draft/returned status */}\n            {formData.targetType && formData.targetId && formData.snapshotBeforeJson && \n             (!editingRequest || editingRequest.status === 'draft' || editingRequest.status === 'returned') && (\n              <div className=\"mt-6\">\n                <ProposeChanges\n                  targetType={formData.targetType}\n                  snapshotData={formData.snapshotBeforeJson}\n                  existingProposedChanges={formData.proposedChangesJson || []}\n                  existingMovePreview={formData.movePreviewJson}\n                  onSaveProposed={(changes, movePreview) => {\n                    setFormData(prev => ({\n                      ...prev,\n                      proposedChangesJson: changes,\n                      movePreviewJson: movePreview\n                    }));\n                    // Save proposed changes to backend\n                    if (editingRequest) {\n                      fetch(`/api/change-requests/${editingRequest.id}`, {\n                        method: 'PUT',\n                        headers: { 'Content-Type': 'application/json' },\n                        body: JSON.stringify({\n                          proposedChangesJson: changes,\n                          movePreviewJson: movePreview,\n                          vesselId: selectedVessel,\n                          requestedByUserId: 'current_user'\n                        })\n                      }).catch(console.error);\n                    }\n                  }}\n                  disabled={editingRequest ? editingRequest.status !== 'draft' && editingRequest.status !== 'returned' : false}\n                />\n              </div>\n            )}\n          </div>\n\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => {\n                setShowCreateDialog(false);\n                setEditingRequest(null);\n                resetForm();\n              }}\n            >\n              Cancel\n            </Button>\n            <Button\n              onClick={handleSave}\n              disabled={!formData.title || createMutation.isPending || updateMutation.isPending}\n            >\n              {createMutation.isPending || updateMutation.isPending ? 'Saving...' : 'Save as Draft'}\n            </Button>\n            {editingRequest && formData.title && formData.reason && formData.targetType && formData.targetId && \n             formData.proposedChangesJson && formData.proposedChangesJson.length > 0 && (\n              <Button\n                variant=\"default\"\n                onClick={() => {\n                  handleSave();\n                  // After saving, submit\n                  setTimeout(() => {\n                    if (editingRequest) {\n                      submitMutation.mutate(editingRequest.id);\n                    }\n                  }, 500);\n                }}\n              >\n                Save & Submit\n              </Button>\n            )}\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* View Dialog */}\n      <Dialog open={!!viewingRequest} onOpenChange={(open) => {\n        if (!open) setViewingRequest(null);\n      }}>\n        <DialogContent className=\"max-w-3xl max-h-[80vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle>\n              Change Request CR{viewingRequest && String(viewingRequest.id).padStart(4, '0')}\n            </DialogTitle>\n          </DialogHeader>\n\n          {viewingRequest && (\n            <Tabs defaultValue=\"details\">\n              <TabsList className=\"grid w-full grid-cols-5\">\n                <TabsTrigger value=\"details\">Details</TabsTrigger>\n                <TabsTrigger value=\"proposed\">Proposed Changes</TabsTrigger>\n                <TabsTrigger value=\"snapshot\">Snapshot</TabsTrigger>\n                <TabsTrigger value=\"comments\">Comments</TabsTrigger>\n                <TabsTrigger value=\"attachments\">Attachments</TabsTrigger>\n              </TabsList>\n\n              <TabsContent value=\"details\" className=\"space-y-4\">\n                <div>\n                  <Label>Status</Label>\n                  <div className=\"mt-1\">{getStatusBadge(viewingRequest.status)}</div>\n                </div>\n\n                <div>\n                  <Label>Category</Label>\n                  <p className=\"capitalize\">{viewingRequest.category.replace('_', ' ')}</p>\n                </div>\n\n                <div>\n                  <Label>Title</Label>\n                  <p>{viewingRequest.title}</p>\n                </div>\n\n                <div>\n                  <Label>Reason for Change</Label>\n                  <p className=\"whitespace-pre-wrap\">{viewingRequest.reason || 'No reason provided'}</p>\n                </div>\n\n                <div>\n                  <Label>Target</Label>\n                  {viewingRequest.targetType && viewingRequest.snapshotBeforeJson ? (\n                    <Card className=\"mt-2\">\n                      <CardContent className=\"pt-4\">\n                        <div className=\"flex items-start gap-3\">\n                          {getTargetIcon(viewingRequest.targetType)}\n                          <div className=\"flex-1\">\n                            <p className=\"font-semibold\">\n                              {viewingRequest.snapshotBeforeJson.displayKey} - {viewingRequest.snapshotBeforeJson.displayName}\n                            </p>\n                            <p className=\"text-sm text-gray-600 mb-2\">\n                              Type: {viewingRequest.targetType?.replace('_', ' ').toUpperCase()}\n                            </p>\n                            {viewingRequest.snapshotBeforeJson.displayPath && (\n                              <p className=\"text-sm text-gray-500\">\n                                Path: {viewingRequest.snapshotBeforeJson.displayPath}\n                              </p>\n                            )}\n                            <div className=\"mt-3 grid grid-cols-2 gap-2 text-sm\">\n                              {Object.entries(viewingRequest.snapshotBeforeJson.fields || {}).map(([key, value]: [string, any]) => (\n                                <div key={key}>\n                                  <span className=\"text-gray-500\">{key}: </span>\n                                  <span className=\"font-medium\">{String(value) || '-'}</span>\n                                </div>\n                              ))}\n                            </div>\n                          </div>\n                        </div>\n                      </CardContent>\n                    </Card>\n                  ) : (\n                    <p className=\"text-gray-500\">No target selected</p>\n                  )}\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <Label>Requested By</Label>\n                    <p>{viewingRequest.requestedByUserId}</p>\n                  </div>\n                  <div>\n                    <Label>Created</Label>\n                    <p>{new Date(viewingRequest.createdAt).toLocaleString()}</p>\n                  </div>\n                </div>\n\n                {viewingRequest.submittedAt && (\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <Label>Submitted At</Label>\n                      <p>{new Date(viewingRequest.submittedAt).toLocaleString()}</p>\n                    </div>\n                    {viewingRequest.reviewedAt && (\n                      <div>\n                        <Label>Reviewed At</Label>\n                        <p>{new Date(viewingRequest.reviewedAt).toLocaleString()}</p>\n                      </div>\n                    )}\n                  </div>\n                )}\n\n                {viewingRequest.reviewedByUserId && (\n                  <div>\n                    <Label>Reviewed By</Label>\n                    <p>{viewingRequest.reviewedByUserId}</p>\n                  </div>\n                )}\n              </TabsContent>\n\n              <TabsContent value=\"proposed\">\n                <div className=\"space-y-4\">\n                  {viewingRequest.proposedChangesJson && viewingRequest.proposedChangesJson.length > 0 ? (\n                    <>\n                      <Table>\n                        <TableHeader>\n                          <TableRow>\n                            <TableHead>Field</TableHead>\n                            <TableHead>Current</TableHead>\n                            <TableHead>Proposed</TableHead>\n                          </TableRow>\n                        </TableHeader>\n                        <TableBody>\n                          {viewingRequest.proposedChangesJson.map((change: any, idx: number) => (\n                            <TableRow key={idx}>\n                              <TableCell className=\"font-medium\">{change.label}</TableCell>\n                              <TableCell className=\"text-gray-600\">{String(change.before || '-')}</TableCell>\n                              <TableCell className=\"text-red-600 font-medium\">\n                                {String(change.after || '-')}\n                              </TableCell>\n                            </TableRow>\n                          ))}\n                        </TableBody>\n                      </Table>\n                      \n                      {viewingRequest.movePreviewJson && (\n                        <Card>\n                          <CardHeader>\n                            <CardTitle className=\"text-base\">Component Move (Preview)</CardTitle>\n                          </CardHeader>\n                          <CardContent>\n                            <div className=\"space-y-2\">\n                              <div className=\"grid grid-cols-2 gap-4\">\n                                <div>\n                                  <Label className=\"text-xs text-gray-500\">From</Label>\n                                  <p className=\"text-sm font-mono\">{viewingRequest.movePreviewJson.oldPath}</p>\n                                  <p className=\"text-xs text-gray-500 mt-1\">Code: {viewingRequest.movePreviewJson.oldCode}</p>\n                                </div>\n                                <div>\n                                  <Label className=\"text-xs text-gray-500\">To</Label>\n                                  <p className=\"text-sm font-mono\">{viewingRequest.movePreviewJson.newPath}</p>\n                                  <p className=\"text-xs text-gray-500 mt-1\">New Code: {viewingRequest.movePreviewJson.newCodePreview}</p>\n                                </div>\n                              </div>\n                            </div>\n                          </CardContent>\n                        </Card>\n                      )}\n                    </>\n                  ) : (\n                    <p className=\"text-center text-gray-500 py-4\">No changes proposed yet</p>\n                  )}\n                </div>\n              </TabsContent>\n\n              <TabsContent value=\"snapshot\">\n                <div className=\"space-y-4\">\n                  {viewingRequest.snapshotBeforeJson ? (\n                    <Card>\n                      <CardHeader>\n                        <CardTitle className=\"text-base\">Target Snapshot</CardTitle>\n                        <CardDescription>\n                          Snapshot taken at the time of target selection\n                        </CardDescription>\n                      </CardHeader>\n                      <CardContent>\n                        <Table>\n                          <TableHeader>\n                            <TableRow>\n                              <TableHead>Field</TableHead>\n                              <TableHead>Value</TableHead>\n                            </TableRow>\n                          </TableHeader>\n                          <TableBody>\n                            {Object.entries(viewingRequest.snapshotBeforeJson.fields || {}).map(([key, value]: [string, any]) => (\n                              <TableRow key={key}>\n                                <TableCell className=\"font-medium\">{key}</TableCell>\n                                <TableCell>{String(value || '-')}</TableCell>\n                              </TableRow>\n                            ))}\n                          </TableBody>\n                        </Table>\n                      </CardContent>\n                    </Card>\n                  ) : (\n                    <p className=\"text-center text-gray-500 py-4\">No snapshot available</p>\n                  )}\n                </div>\n              </TabsContent>\n\n              <TabsContent value=\"comments\">\n                <div className=\"space-y-4\">\n                  {viewingRequest.comments && viewingRequest.comments.length > 0 ? (\n                    viewingRequest.comments.map((comment) => (\n                      <Card key={comment.id}>\n                        <CardContent className=\"pt-4\">\n                          <div className=\"flex justify-between mb-2\">\n                            <span className=\"font-semibold\">{comment.userId}</span>\n                            <span className=\"text-sm text-gray-500\">\n                              {new Date(comment.createdAt).toLocaleString()}\n                            </span>\n                          </div>\n                          <p className=\"whitespace-pre-wrap\">{comment.message}</p>\n                        </CardContent>\n                      </Card>\n                    ))\n                  ) : (\n                    <p className=\"text-center text-gray-500 py-4\">No comments yet</p>\n                  )}\n                </div>\n              </TabsContent>\n\n              <TabsContent value=\"attachments\">\n                <div className=\"space-y-2\">\n                  {viewingRequest.attachments && viewingRequest.attachments.length > 0 ? (\n                    viewingRequest.attachments.map((attachment) => (\n                      <Card key={attachment.id}>\n                        <CardContent className=\"pt-4\">\n                          <div className=\"flex justify-between items-center\">\n                            <span>{attachment.filename}</span>\n                            <Button size=\"sm\" variant=\"outline\" asChild>\n                              <a href={attachment.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                                View\n                              </a>\n                            </Button>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    ))\n                  ) : (\n                    <p className=\"text-center text-gray-500 py-4\">No attachments</p>\n                  )}\n                </div>\n              </TabsContent>\n            </Tabs>\n          )}\n\n          <DialogFooter className=\"flex justify-between\">\n            <div className=\"flex gap-2\">\n              {viewingRequest && viewingRequest.status === 'submitted' && (\n                <>\n                  <Button \n                    variant=\"destructive\"\n                    onClick={() => {\n                      const comment = prompt('Please provide a reason for rejection:');\n                      if (comment) {\n                        fetch(`/api/change-requests/${viewingRequest.id}/reject`, {\n                          method: 'PUT',\n                          headers: { 'Content-Type': 'application/json' },\n                          body: JSON.stringify({ comment, reviewerId: 'current_user' })\n                        }).then(() => {\n                          queryClient.invalidateQueries({ queryKey: ['/api/change-requests'] });\n                          setViewingRequest(null);\n                          toast({\n                            title: \"Change request rejected\",\n                            description: \"The change request has been rejected\"\n                          });\n                        });\n                      }\n                    }}\n                  >\n                    Reject\n                  </Button>\n                  <Button \n                    variant=\"default\"\n                    className=\"bg-green-600 hover:bg-green-700\"\n                    onClick={() => {\n                      const comment = prompt('Please provide approval comments:');\n                      if (comment) {\n                        fetch(`/api/change-requests/${viewingRequest.id}/approve`, {\n                          method: 'PUT',\n                          headers: { 'Content-Type': 'application/json' },\n                          body: JSON.stringify({ comment, reviewerId: 'current_user' })\n                        }).then(() => {\n                          queryClient.invalidateQueries({ queryKey: ['/api/change-requests'] });\n                          setViewingRequest(null);\n                          toast({\n                            title: \"Change request approved\",\n                            description: \"The change request has been approved successfully\"\n                          });\n                        });\n                      }\n                    }}\n                  >\n                    Approve\n                  </Button>\n                </>\n              )}\n            </div>\n            <Button onClick={() => setViewingRequest(null)}>Close</Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Target Picker Dialog */}\n      {showTargetPicker && (\n        <TargetPicker\n          open={showTargetPicker}\n          onOpenChange={setShowTargetPicker}\n          category={formData.category}\n          vesselId={selectedVessel}\n          onTargetSelect={handleTargetSelect}\n        />\n      )}\n\n    {/* Change Request Modal */}\n    <ChangeRequestModal\n      open={isNewRequestModalOpen}\n      onClose={() => setIsNewRequestModalOpen(false)}\n    />\n  </>\n  );\n}"]}