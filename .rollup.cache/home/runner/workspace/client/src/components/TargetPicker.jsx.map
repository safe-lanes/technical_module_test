{"version":3,"file":"TargetPicker.jsx","sourceRoot":"","sources":["TargetPicker.tsx"],"names":[],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Package, ClipboardList, Archive, Store } from \"lucide-react\";\nimport { ComponentTreeSelector } from \"./ComponentTreeSelector\";\nimport { TableSelector } from \"./TableSelector\";\nimport { buildComponentTree } from \"@/utils/componentUtils\";\n\ninterface TargetPickerProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  category: string;\n  vesselId: string;\n  onTargetSelect: (targetType: string, targetId: string, snapshot: any) => void;\n}\n\nexport function TargetPicker({\n  open,\n  onOpenChange,\n  category,\n  vesselId,\n  onTargetSelect\n}: TargetPickerProps) {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [selectedItem, setSelectedItem] = useState<any>(null);\n\n  // Fetch data based on category\n  const { data, isLoading, error } = useQuery({\n    queryKey: [`/api/${getApiEndpoint(category)}`, vesselId],\n    queryFn: async () => {\n      const endpoint = getApiEndpoint(category);\n      const response = await fetch(`/api/${endpoint}${endpoint === 'components' ? `/${vesselId}` : `?vesselId=${vesselId}`}`);\n      if (!response.ok) throw new Error(`Failed to fetch ${category}`);\n      return response.json();\n    },\n    enabled: open && !!category && !!vesselId\n  });\n\n  function getApiEndpoint(cat: string) {\n    switch (cat) {\n      case 'components': return 'components';\n      case 'work_orders': return 'work-orders';\n      case 'spares': return 'spares';\n      case 'stores': return 'stores';\n      default: return 'components';\n    }\n  }\n\n  const handleUseTarget = () => {\n    if (!selectedItem) return;\n\n    const targetType = category === 'work_orders' ? 'work_order' : \n                      category === 'stores' ? 'store' : \n                      category.slice(0, -1); // Remove 's' from components/spares\n\n    const targetDisplay = {\n      name: getItemName(selectedItem, category),\n      code: getItemCode(selectedItem, category),\n      path: category === 'components' ? getComponentPath(selectedItem) : undefined\n    };\n\n    const snapshot = createSnapshot(selectedItem, category);\n    \n    // Pass the full payload structure as expected by the spec\n    const payload = {\n      targetType,\n      targetId: getItemId(selectedItem, category),\n      targetDisplay,\n      snapshotBeforeJson: snapshot\n    };\n    \n    onTargetSelect(targetType, payload.targetId, payload);\n    onOpenChange(false);\n  };\n\n  const getItemId = (item: any, cat: string) => {\n    if (cat === 'work_orders') return item.id || item.woNo;\n    if (cat === 'spares') return String(item.id || item.partCode);\n    if (cat === 'stores') return String(item.id || item.itemCode);\n    return item.id || item.componentId;\n  };\n\n  const getItemName = (item: any, cat: string) => {\n    if (cat === 'work_orders') return item.jobTitle;\n    if (cat === 'spares') return item.partName;\n    if (cat === 'stores') return item.itemName;\n    return item.name;\n  };\n\n  const getItemCode = (item: any, cat: string) => {\n    if (cat === 'work_orders') return item.woNo;\n    if (cat === 'spares') return item.partCode;\n    if (cat === 'stores') return item.itemCode;\n    return item.code;\n  };\n\n  const getComponentPath = (component: any): string => {\n    // Build path from component hierarchy  \n    const buildPath = (node: any, allComponents: any[]): string[] => {\n      const parts: string[] = [`${node.componentCode || node.code} ${node.name}`];\n      \n      if (node.parentId) {\n        const parent = allComponents.find(c => (c.id || c.componentId) === node.parentId);\n        if (parent) {\n          return [...buildPath(parent, allComponents), ...parts];\n        }\n      }\n      \n      return parts;\n    };\n    \n    if (data && Array.isArray(data)) {\n      const pathParts = buildPath(component, data);\n      return pathParts.join(' > ');\n    }\n    \n    return `${component.componentCode || component.code} ${component.name}`;\n  };\n\n  const createSnapshot = (item: any, cat: string) => {\n    const now = new Date().toISOString();\n    const snapshot: any = {\n      capturedAtUtc: now,\n      vesselId: vesselId,\n      displayKey: getItemCode(item, cat),\n      displayName: getItemName(item, cat),\n      fields: {}\n    };\n\n    if (cat === 'components') {\n      snapshot.displayPath = getComponentPath(item);\n      snapshot.fields = {\n        maker: item.maker || '',\n        model: item.model || '',\n        serialNo: item.serialNo || '',\n        department: item.deptCategory || '',\n        componentCategory: item.componentCategory || '',\n        location: item.location || '',\n        commissionedDate: item.commissionedDate || '',\n        critical: item.critical || false,\n        classItem: item.classItem || false\n      };\n    } else if (cat === 'work_orders') {\n      snapshot.fields = {\n        jobTitle: item.jobTitle,\n        frequencyType: item.frequencyType || '',\n        frequencyValue: item.frequencyValue || '',\n        frequencyUnit: item.frequencyUnit || '',\n        assignedTo: item.assignedTo || '',\n        priority: item.priority || '',\n        status: item.status || '',\n        dueDate: item.dueDate || ''\n      };\n    } else if (cat === 'spares') {\n      snapshot.fields = {\n        partCode: item.partCode,\n        partName: item.partName,\n        linkedComponentName: item.componentName || '',\n        linkedComponentCode: item.componentCode || '',\n        uom: item.uom || '',\n        min: item.min || 0,\n        rob: item.rob || 0,\n        location: item.location || '',\n        critical: item.critical === 'Critical' || item.critical === true\n      };\n    } else if (cat === 'stores') {\n      snapshot.fields = {\n        itemCode: item.itemCode,\n        itemName: item.itemName,\n        storesCategory: item.storesCategory || '',\n        uom: item.uom || '',\n        min: item.min || 0,\n        rob: item.rob || 0,\n        location: item.location || ''\n      };\n    }\n\n    return snapshot;\n  };\n\n  // Process component data for tree structure\n  const componentTree = category === 'components' && data ? buildComponentTree(data) : [];\n\n  const renderPreview = () => {\n    if (!selectedItem) return <div className=\"text-center text-gray-500 py-8\">Select an item to preview</div>;\n\n    const getIcon = () => {\n      switch (category) {\n        case 'components': return <Package className=\"h-5 w-5\" />;\n        case 'work_orders': return <ClipboardList className=\"h-5 w-5\" />;\n        case 'spares': return <Archive className=\"h-5 w-5\" />;\n        case 'stores': return <Store className=\"h-5 w-5\" />;\n        default: return null;\n      }\n    };\n\n    return (\n      <div className=\"space-y-4\">\n        {/* Header */}\n        <div className=\"flex items-center gap-2\">\n          {getIcon()}\n          <div className=\"flex-1\">\n            <h3 className=\"font-semibold text-lg\">\n              {getItemName(selectedItem, category)}\n            </h3>\n            <p className=\"text-sm text-gray-600 font-mono\">\n              {getItemCode(selectedItem, category)}\n            </p>\n            {category === 'components' && selectedItem && (\n              <p className=\"text-xs text-gray-500 mt-1\">\n                {getComponentPath(selectedItem)}\n              </p>\n            )}\n          </div>\n        </div>\n\n        <Separator />\n\n        {/* Fields */}\n        <div className=\"space-y-3\">\n          {category === 'components' && (\n            <>\n              <h4 className=\"text-sm font-medium\">Component Information</h4>\n              <div className=\"grid grid-cols-2 gap-3\">\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Maker</Label>\n                  <p className=\"text-sm\">{selectedItem.maker || '-'}</p>\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Model</Label>\n                  <p className=\"text-sm\">{selectedItem.model || '-'}</p>\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Serial No</Label>\n                  <p className=\"text-sm\">{selectedItem.serialNo || '-'}</p>\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Department</Label>\n                  <p className=\"text-sm\">{selectedItem.deptCategory || '-'}</p>\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Component Category</Label>\n                  <p className=\"text-sm\">{selectedItem.componentCategory || '-'}</p>\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Location</Label>\n                  <p className=\"text-sm\">{selectedItem.location || '-'}</p>\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Commissioned Date</Label>\n                  <p className=\"text-sm\">{selectedItem.commissionedDate || '-'}</p>\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Critical</Label>\n                  <p className=\"text-sm\">{selectedItem.critical ? 'Yes' : 'No'}</p>\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Class Item</Label>\n                  <p className=\"text-sm\">{selectedItem.classItem ? 'Yes' : 'No'}</p>\n                </div>\n              </div>\n            </>\n          )}\n\n          {category === 'work_orders' && (\n            <>\n              <div className=\"grid grid-cols-2 gap-3\">\n                <div>\n                  <Label className=\"text-xs text-gray-500\">WO No</Label>\n                  <p className=\"text-sm font-mono\">{selectedItem.woNo}</p>\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Job Title</Label>\n                  <p className=\"text-sm\">{selectedItem.jobTitle}</p>\n                </div>\n                <div className=\"col-span-2\">\n                  <Label className=\"text-xs text-gray-500\">Component</Label>\n                  <p className=\"text-sm\">{selectedItem.componentName || '-'}</p>\n                  {selectedItem.componentCode && (\n                    <p className=\"text-xs text-gray-400\">{selectedItem.componentCode}</p>\n                  )}\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Frequency Type</Label>\n                  <p className=\"text-sm\">{selectedItem.frequencyType || '-'}</p>\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Frequency Value</Label>\n                  <p className=\"text-sm\">\n                    {selectedItem.frequencyValue} {selectedItem.frequencyUnit}\n                  </p>\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Assigned To</Label>\n                  <p className=\"text-sm\">{selectedItem.assignedTo || '-'}</p>\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Priority</Label>\n                  <p className=\"text-sm\">{selectedItem.priority || '-'}</p>\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Status</Label>\n                  <p className=\"text-sm\">{selectedItem.status || 'Active'}</p>\n                </div>\n                {selectedItem.dueDate && (\n                  <div>\n                    <Label className=\"text-xs text-gray-500\">Due Date</Label>\n                    <p className=\"text-sm\">{selectedItem.dueDate}</p>\n                  </div>\n                )}\n              </div>\n            </>\n          )}\n\n          {category === 'spares' && (\n            <>\n              <div className=\"grid grid-cols-2 gap-3\">\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Part Code</Label>\n                  <p className=\"text-sm font-mono\">{selectedItem.partCode}</p>\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Part Name</Label>\n                  <p className=\"text-sm\">{selectedItem.partName}</p>\n                </div>\n                <div className=\"col-span-2\">\n                  <Label className=\"text-xs text-gray-500\">Linked Component</Label>\n                  <p className=\"text-sm\">{selectedItem.componentName || '-'}</p>\n                  {selectedItem.componentCode && (\n                    <p className=\"text-xs text-gray-400\">{selectedItem.componentCode}</p>\n                  )}\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">UOM</Label>\n                  <p className=\"text-sm\">{selectedItem.uom || '-'}</p>\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Min</Label>\n                  <p className=\"text-sm\">{selectedItem.min}</p>\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">ROB</Label>\n                  <p className=\"text-sm\">{selectedItem.rob}</p>\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Location</Label>\n                  <p className=\"text-sm\">{selectedItem.location || '-'}</p>\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Critical</Label>\n                  <p className=\"text-sm\">\n                    {selectedItem.critical === 'Critical' || selectedItem.critical === true ? 'Critical' : 'No'}\n                  </p>\n                </div>\n              </div>\n            </>\n          )}\n\n          {category === 'stores' && (\n            <>\n              <div className=\"grid grid-cols-2 gap-3\">\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Item Code</Label>\n                  <p className=\"text-sm font-mono\">{selectedItem.itemCode}</p>\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Item Name</Label>\n                  <p className=\"text-sm\">{selectedItem.itemName}</p>\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Stores Category</Label>\n                  <p className=\"text-sm\">{selectedItem.storesCategory || '-'}</p>\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">UOM</Label>\n                  <p className=\"text-sm\">{selectedItem.uom || '-'}</p>\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">Min</Label>\n                  <p className=\"text-sm\">{selectedItem.min}</p>\n                </div>\n                <div>\n                  <Label className=\"text-xs text-gray-500\">ROB</Label>\n                  <p className=\"text-sm\">{selectedItem.rob}</p>\n                </div>\n                <div className=\"col-span-2\">\n                  <Label className=\"text-xs text-gray-500\">Location</Label>\n                  <p className=\"text-sm\">{selectedItem.location || '-'}</p>\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-7xl h-[85vh] p-0\">\n        <DialogHeader className=\"px-6 py-4 border-b\">\n          <DialogTitle>Select Target {category.charAt(0).toUpperCase() + category.slice(1).replace('_', ' ')}</DialogTitle>\n        </DialogHeader>\n\n        <div className=\"flex h-[calc(100%-8rem)]\">\n          {/* Left Pane - List/Tree (~60%) */}\n          <div className=\"w-3/5 border-r\">\n            {isLoading ? (\n              <div className=\"flex items-center justify-center h-full\">\n                <div className=\"text-center\">\n                  <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-4\"></div>\n                  <p className=\"text-gray-500\">Loading {category.replace('_', ' ')}...</p>\n                </div>\n              </div>\n            ) : error ? (\n              <div className=\"flex items-center justify-center h-full\">\n                <div className=\"text-center text-red-500\">\n                  <p className=\"mb-2\">Failed to load {category.replace('_', ' ')}</p>\n                  <p className=\"text-sm text-gray-500\">Please try again</p>\n                </div>\n              </div>\n            ) : (\n              <>\n                {category === 'components' ? (\n                  <ComponentTreeSelector\n                    components={componentTree}\n                    selectedItem={selectedItem}\n                    onSelect={setSelectedItem}\n                    searchQuery={searchQuery}\n                    onSearchChange={setSearchQuery}\n                  />\n                ) : (\n                  <TableSelector\n                    category={category as 'work_orders' | 'spares' | 'stores'}\n                    items={data || []}\n                    selectedItem={selectedItem}\n                    onSelect={setSelectedItem}\n                    searchQuery={searchQuery}\n                    onSearchChange={setSearchQuery}\n                  />\n                )}\n              </>\n            )}\n          </div>\n\n          {/* Right Pane - Preview (~40%) */}\n          <div className=\"w-2/5 p-6 bg-gray-50\">\n            {renderPreview()}\n          </div>\n        </div>\n\n        <DialogFooter className=\"px-6 py-4 border-t\">\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n            Cancel\n          </Button>\n          <Button \n            onClick={handleUseTarget} \n            disabled={!selectedItem}\n          >\n            Use this target\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}"]}