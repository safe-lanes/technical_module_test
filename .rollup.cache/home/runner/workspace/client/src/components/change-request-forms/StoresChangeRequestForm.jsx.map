{"version":3,"file":"StoresChangeRequestForm.jsx","sourceRoot":"","sources":["StoresChangeRequestForm.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport { MessageSquare, X, Calendar } from 'lucide-react';\n\ninterface StoresChangeRequestFormProps {\n  onClose: () => void;\n  onSubmit?: (storesData: any) => void;\n  initialData?: any;\n  category?: 'stores' | 'lubes' | 'chemicals' | 'others';\n}\n\ninterface StoreItem {\n  itemCode: string;\n  itemName: string;\n  storesCategory: string;\n  rob: string;\n  consumed: string;\n  received: string;\n  newRob: string;\n  comments: string;\n}\n\nconst StoresChangeRequestForm: React.FC<StoresChangeRequestFormProps> = ({\n  onClose,\n  onSubmit,\n  initialData = {},\n  category = 'stores',\n}) => {\n  const [placeReceived, setPlaceReceived] = useState(\n    initialData.placeReceived || ''\n  );\n  const [dateReceived, setDateReceived] = useState(\n    initialData.dateReceived || ''\n  );\n\n  const [storeItems, setStoreItems] = useState<StoreItem[]>([\n    {\n      itemCode:\n        initialData.itemCode ||\n        (category === 'stores'\n          ? 'ST-TOOL-001'\n          : category === 'lubes'\n            ? 'ISO VG 100'\n            : 'CHM-ALK-001'),\n      itemName:\n        initialData.itemName ||\n        (category === 'stores'\n          ? 'Torque Wrench'\n          : category === 'lubes'\n            ? 'Compressor Oil'\n            : 'Alkaline Cleaner'),\n      storesCategory:\n        initialData.storesCategory ||\n        (category === 'stores'\n          ? 'Engine Stores'\n          : category === 'lubes'\n            ? 'Air Compressor #2'\n            : 'Engine Bilge Cleaning'),\n      rob: initialData.rob || '2',\n      consumed: '',\n      received: '',\n      newRob: initialData.rob || '2',\n      comments: '',\n    },\n    {\n      itemCode: '',\n      itemName: '',\n      storesCategory: '',\n      rob: '',\n      consumed: '',\n      received: '',\n      newRob: '',\n      comments: '',\n    },\n    {\n      itemCode: '',\n      itemName: '',\n      storesCategory: '',\n      rob: '',\n      consumed: '',\n      received: '',\n      newRob: '',\n      comments: '',\n    },\n  ]);\n\n  const [changedFields, setChangedFields] = useState<Set<string>>(new Set());\n\n  const handleInputChange = (field: string, value: string) => {\n    if (field === 'placeReceived') {\n      setPlaceReceived(value);\n    } else if (field === 'dateReceived') {\n      setDateReceived(value);\n    }\n\n    // Track changed fields for red highlighting\n    const initialValue = initialData[field];\n\n    if (value !== initialValue) {\n      setChangedFields(prev => new Set([...Array.from(prev), field]));\n    } else {\n      setChangedFields(prev => {\n        const newSet = new Set(Array.from(prev));\n        newSet.delete(field);\n        return newSet;\n      });\n    }\n  };\n\n  const handleItemChange = (\n    index: number,\n    field: keyof StoreItem,\n    value: string\n  ) => {\n    setStoreItems(prev => {\n      const newItems = [...prev];\n      newItems[index] = { ...newItems[index], [field]: value };\n\n      // Calculate new ROB\n      if (field === 'consumed' || field === 'received' || field === 'rob') {\n        const consumed = parseFloat(newItems[index].consumed) || 0;\n        const received = parseFloat(newItems[index].received) || 0;\n        const originalRob = parseFloat(newItems[index].rob) || 0;\n        newItems[index].newRob = (originalRob - consumed + received).toString();\n      }\n\n      return newItems;\n    });\n\n    // Track changed fields for red highlighting\n    const fieldKey = `${index}.${field}`;\n    const initialValue = initialData[field];\n\n    if (value !== initialValue) {\n      setChangedFields(prev => new Set([...Array.from(prev), fieldKey]));\n    } else {\n      setChangedFields(prev => {\n        const newSet = new Set(Array.from(prev));\n        newSet.delete(fieldKey);\n        return newSet;\n      });\n    }\n  };\n\n  const handleSubmit = () => {\n    if (onSubmit) {\n      onSubmit({ placeReceived, dateReceived, storeItems });\n      onClose();\n    }\n  };\n\n  const getInputStyle = (field: string) => {\n    const isChanged = changedFields.has(field);\n    return `text-sm ${isChanged ? 'text-red-500 border-red-500' : 'text-[#52baf3] border-[#52baf3]'}`;\n  };\n\n  const getItemInputStyle = (index: number, field: keyof StoreItem) => {\n    const fieldKey = `${index}.${field}`;\n    const isChanged = changedFields.has(fieldKey);\n    return `text-sm h-8 ${isChanged ? 'text-red-500 border-red-500' : 'text-[#52baf3] border-[#52baf3]'}`;\n  };\n\n  const getLabelStyle = () => 'block text-sm font-medium text-[#52baf3] mb-2';\n  const getHeaderStyle = () => 'text-sm font-medium text-[#52baf3]';\n\n  const getColumnHeaders = () => {\n    switch (category) {\n      case 'lubes':\n        return [\n          'Lube Grade',\n          'Lube Type',\n          'Application',\n          'ROB (Ltr)',\n          'Consumed',\n          'Received',\n          'New ROB',\n          'Comments',\n        ];\n      case 'chemicals':\n        return [\n          'Chem Code',\n          'Chemical Name',\n          'Application Area',\n          'ROB (Ltr)',\n          'Consumed',\n          'Received',\n          'New ROB',\n          'Comments',\n        ];\n      default:\n        return [\n          'Item Code',\n          'Item Name',\n          'Category',\n          'ROB',\n          'Consumed',\n          'Received',\n          'New ROB',\n          'Comments',\n        ];\n    }\n  };\n\n  return (\n    <div className='w-[95%] max-w-7xl max-h-[90vh] overflow-auto bg-white rounded-lg shadow-lg'>\n      {/* Modal Header */}\n      <div className='flex justify-between items-center p-4 border-b border-[#52baf3]'>\n        <h2 className='text-xl font-semibold text-[#52baf3]'>\n          Bulk Update {category.charAt(0).toUpperCase() + category.slice(1)} -\n          Change Request\n        </h2>\n        <Button\n          variant='ghost'\n          size='sm'\n          onClick={onClose}\n          className='h-8 w-8 p-0 text-[#52baf3] hover:bg-[#52baf3] hover:text-white'\n        >\n          <X className='h-4 w-4' />\n        </Button>\n      </div>\n\n      {/* Modal Body */}\n      <div className='p-6'>\n        {/* Place Received and Date Fields */}\n        <div className='grid grid-cols-2 gap-4 mb-6 p-4 bg-gray-50 rounded border border-[#52baf3]'>\n          <div>\n            <label className={getLabelStyle()}>Place Received</label>\n            <Input\n              placeholder='Enter place received'\n              value={placeReceived}\n              onChange={e => handleInputChange('placeReceived', e.target.value)}\n              className={getInputStyle('placeReceived')}\n            />\n          </div>\n          <div>\n            <label className={getLabelStyle()}>Date</label>\n            <div className='relative'>\n              <Input\n                type='date'\n                value={dateReceived}\n                onChange={e =>\n                  handleInputChange('dateReceived', e.target.value)\n                }\n                className={`pr-10 ${getInputStyle('dateReceived')}`}\n              />\n              <Calendar className='absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#52baf3] pointer-events-none' />\n            </div>\n          </div>\n        </div>\n\n        {/* Table Headers */}\n        <div className='grid grid-cols-8 gap-3 bg-gray-50 p-3 rounded-t border border-[#52baf3]'>\n          {getColumnHeaders().map((header, index) => (\n            <div key={index} className={getHeaderStyle()}>\n              {header}\n            </div>\n          ))}\n        </div>\n\n        {/* Table Body */}\n        <div className='border border-t-0 rounded-b max-h-[400px] overflow-y-auto border-[#52baf3]'>\n          {storeItems.map((item, index) => {\n            const newRob = parseFloat(item.newRob) || 0;\n            const minStock = 1; // Default minimum stock\n\n            return (\n              <div\n                key={index}\n                className='grid grid-cols-8 gap-3 p-3 border-b bg-white items-center'\n              >\n                <div className='text-[#52baf3] text-sm'>\n                  {item.itemCode ||\n                    (index === 0\n                      ? category === 'stores'\n                        ? 'ST-TOOL-001'\n                        : category === 'lubes'\n                          ? 'ISO VG 100'\n                          : 'CHM-ALK-001'\n                      : '')}\n                </div>\n                <div className='text-[#52baf3] text-sm'>\n                  {item.itemName ||\n                    (index === 0\n                      ? category === 'stores'\n                        ? 'Torque Wrench'\n                        : category === 'lubes'\n                          ? 'Compressor Oil'\n                          : 'Alkaline Cleaner'\n                      : '')}\n                </div>\n                <div className='text-[#52baf3] text-sm'>\n                  {item.storesCategory ||\n                    (index === 0\n                      ? category === 'stores'\n                        ? 'Engine Stores'\n                        : category === 'lubes'\n                          ? 'Air Compressor #2'\n                          : 'Engine Bilge Cleaning'\n                      : '')}\n                </div>\n                <div className='text-[#52baf3] text-sm'>\n                  {item.rob || (index === 0 ? '2' : '')}\n                </div>\n                <div>\n                  <Input\n                    type='number'\n                    min='0'\n                    className={getItemInputStyle(index, 'consumed')}\n                    placeholder='0'\n                    value={item.consumed}\n                    onChange={e =>\n                      handleItemChange(index, 'consumed', e.target.value)\n                    }\n                  />\n                </div>\n                <div>\n                  <Input\n                    type='number'\n                    min='0'\n                    className={getItemInputStyle(index, 'received')}\n                    placeholder='0'\n                    value={item.received}\n                    onChange={e =>\n                      handleItemChange(index, 'received', e.target.value)\n                    }\n                  />\n                </div>\n                <div\n                  className={`text-sm font-medium ${newRob < minStock ? 'text-red-600' : 'text-[#52baf3]'}`}\n                >\n                  {item.newRob}\n                </div>\n                <div className='flex justify-center'>\n                  <Button\n                    variant='ghost'\n                    size='sm'\n                    className='h-8 w-8 p-0 text-[#52baf3] hover:bg-[#52baf3] hover:text-white'\n                    onClick={() => {\n                      const comment = prompt(\n                        `Add comment for ${item.itemName}:`\n                      );\n                      if (comment) {\n                        handleItemChange(index, 'comments', comment);\n                      }\n                    }}\n                  >\n                    <MessageSquare className='h-4 w-4' />\n                  </Button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Modal Footer */}\n      <div className='flex justify-end gap-3 p-4 border-t bg-gray-50'>\n        <Button\n          variant='outline'\n          onClick={onClose}\n          className='border-[#52baf3] text-[#52baf3] hover:bg-[#52baf3] hover:text-white'\n        >\n          Cancel\n        </Button>\n        <Button\n          className='bg-[#52baf3] hover:bg-[#40a8e0] text-white'\n          onClick={handleSubmit}\n        >\n          Save Updates\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default StoresChangeRequestForm;\n"]}