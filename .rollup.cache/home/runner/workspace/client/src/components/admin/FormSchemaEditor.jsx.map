{"version":3,"file":"FormSchemaEditor.jsx","sourceRoot":"","sources":["FormSchemaEditor.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter } from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Save, X, Eye, Code, Settings, Plus, Trash2, Copy, Move } from 'lucide-react';\nimport { useMutation } from '@tanstack/react-query';\nimport { apiRequest } from '@/lib/queryClient';\nimport { useToast } from '@/hooks/use-toast';\n\ninterface FormVersion {\n  id: number;\n  formId: number;\n  versionNo: number;\n  versionDate: string;\n  status: 'DRAFT' | 'PUBLISHED' | 'ARCHIVED';\n  authorUserId: string;\n  changelog: string | null;\n  schemaJson: string;\n}\n\ninterface FormSchemaEditorProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  version: FormVersion;\n  formName: string;\n  onUpdate: () => void;\n}\n\ninterface FormField {\n  key: string;\n  label: string;\n  type: string;\n  required: boolean;\n  options?: string[];\n  placeholder?: string;\n  validation?: any;\n}\n\ninterface FormSection {\n  key: string;\n  title: string;\n  layout: string;\n  fields: FormField[];\n}\n\ninterface FormSchema {\n  title: string;\n  sections: FormSection[];\n}\n\nexport default function FormSchemaEditor({\n  open,\n  onOpenChange,\n  version,\n  formName,\n  onUpdate\n}: FormSchemaEditorProps) {\n  const [activeTab, setActiveTab] = useState('visual');\n  const [schema, setSchema] = useState<FormSchema>({ title: '', sections: [] });\n  const [selectedSection, setSelectedSection] = useState<string | null>(null);\n  const [publishDialogOpen, setPublishDialogOpen] = useState(false);\n  const [changelog, setChangelog] = useState('');\n  \n  const { toast } = useToast();\n\n  useEffect(() => {\n    if (version.schemaJson) {\n      try {\n        const parsed = JSON.parse(version.schemaJson);\n        setSchema(parsed);\n      } catch (error) {\n        console.error('Failed to parse schema JSON:', error);\n      }\n    }\n  }, [version.schemaJson]);\n\n  // Update schema mutation\n  const updateSchemaMutation = useMutation({\n    mutationFn: (schemaJson: any) =>\n      apiRequest(`/api/admin/forms/${version.formId}/versions/${version.id}/schema`, {\n        method: 'PUT',\n        body: JSON.stringify({ schemaJson }),\n      }),\n    onSuccess: () => {\n      toast({\n        title: 'Success',\n        description: 'Schema saved successfully',\n      });\n      onUpdate();\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'Error',\n        description: error.message || 'Failed to save schema',\n        variant: 'destructive',\n      });\n    },\n  });\n\n  // Publish version mutation\n  const publishMutation = useMutation({\n    mutationFn: (changelog: string) =>\n      apiRequest(`/api/admin/forms/${version.formId}/versions/${version.id}/publish`, {\n        method: 'POST',\n        body: JSON.stringify({ userId: 'admin', changelog }),\n      }),\n    onSuccess: () => {\n      toast({\n        title: 'Success',\n        description: 'Version published successfully',\n      });\n      setPublishDialogOpen(false);\n      onUpdate();\n      onOpenChange(false);\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'Error',\n        description: error.message || 'Failed to publish version',\n        variant: 'destructive',\n      });\n    },\n  });\n\n  // Discard draft mutation\n  const discardMutation = useMutation({\n    mutationFn: () =>\n      apiRequest(`/api/admin/forms/${version.formId}/versions/${version.id}/discard`, {\n        method: 'POST',\n      }),\n    onSuccess: () => {\n      toast({\n        title: 'Success',\n        description: 'Draft discarded',\n      });\n      onUpdate();\n      onOpenChange(false);\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'Error',\n        description: error.message || 'Failed to discard draft',\n        variant: 'destructive',\n      });\n    },\n  });\n\n  const handleSave = () => {\n    updateSchemaMutation.mutate(JSON.stringify(schema));\n  };\n\n  const handlePublish = () => {\n    if (!changelog) {\n      toast({\n        title: 'Error',\n        description: 'Please enter a changelog',\n        variant: 'destructive',\n      });\n      return;\n    }\n    publishMutation.mutate(changelog);\n  };\n\n  const handleDiscard = () => {\n    if (confirm('Are you sure you want to discard this draft? All changes will be lost.')) {\n      discardMutation.mutate();\n    }\n  };\n\n  const addSection = () => {\n    const newSection: FormSection = {\n      key: `section_${Date.now()}`,\n      title: 'New Section',\n      layout: 'grid-2',\n      fields: []\n    };\n    setSchema({\n      ...schema,\n      sections: [...schema.sections, newSection]\n    });\n  };\n\n  const updateSection = (index: number, section: FormSection) => {\n    const newSections = [...schema.sections];\n    newSections[index] = section;\n    setSchema({ ...schema, sections: newSections });\n  };\n\n  const deleteSection = (index: number) => {\n    const newSections = schema.sections.filter((_, i) => i !== index);\n    setSchema({ ...schema, sections: newSections });\n  };\n\n  const addField = (sectionIndex: number) => {\n    const newField: FormField = {\n      key: `field_${Date.now()}`,\n      label: 'New Field',\n      type: 'text',\n      required: false\n    };\n    const newSections = [...schema.sections];\n    newSections[sectionIndex].fields.push(newField);\n    setSchema({ ...schema, sections: newSections });\n  };\n\n  const updateField = (sectionIndex: number, fieldIndex: number, field: FormField) => {\n    const newSections = [...schema.sections];\n    newSections[sectionIndex].fields[fieldIndex] = field;\n    setSchema({ ...schema, sections: newSections });\n  };\n\n  const deleteField = (sectionIndex: number, fieldIndex: number) => {\n    const newSections = [...schema.sections];\n    newSections[sectionIndex].fields = newSections[sectionIndex].fields.filter((_, i) => i !== fieldIndex);\n    setSchema({ ...schema, sections: newSections });\n  };\n\n  return (\n    <>\n      <Dialog open={open} onOpenChange={onOpenChange}>\n        <DialogContent className=\"max-w-6xl max-h-[90vh] overflow-hidden flex flex-col\">\n          <DialogHeader>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <DialogTitle>\n                  Form Schema Editor - {formName}\n                </DialogTitle>\n                <DialogDescription>\n                  Version {version.versionNo} ({version.status})\n                </DialogDescription>\n              </div>\n              <div className=\"flex gap-2\">\n                {version.status === 'DRAFT' && (\n                  <>\n                    <Button variant=\"outline\" size=\"sm\" onClick={handleDiscard}>\n                      <X className=\"h-4 w-4 mr-1\" />\n                      Discard\n                    </Button>\n                    <Button variant=\"outline\" size=\"sm\" onClick={handleSave}>\n                      <Save className=\"h-4 w-4 mr-1\" />\n                      Save\n                    </Button>\n                    <Button size=\"sm\" onClick={() => setPublishDialogOpen(true)} style={{ backgroundColor: '#52baf3', color: 'white' }}>\n                      Publish\n                    </Button>\n                  </>\n                )}\n              </div>\n            </div>\n          </DialogHeader>\n          \n          <Tabs value={activeTab} onValueChange={setActiveTab} className=\"flex-1 flex flex-col\">\n            <TabsList>\n              <TabsTrigger value=\"visual\">\n                <Settings className=\"h-4 w-4 mr-2\" />\n                Visual Editor\n              </TabsTrigger>\n              <TabsTrigger value=\"json\">\n                <Code className=\"h-4 w-4 mr-2\" />\n                JSON Editor\n              </TabsTrigger>\n              <TabsTrigger value=\"preview\">\n                <Eye className=\"h-4 w-4 mr-2\" />\n                Preview\n              </TabsTrigger>\n            </TabsList>\n            \n            <TabsContent value=\"visual\" className=\"flex-1 overflow-y-auto\">\n              <div className=\"space-y-4 p-4\">\n                <div className=\"flex justify-between items-center\">\n                  <h3 className=\"text-lg font-semibold\">Form Sections</h3>\n                  <Button size=\"sm\" onClick={addSection}>\n                    <Plus className=\"h-4 w-4 mr-1\" />\n                    Add Section\n                  </Button>\n                </div>\n                \n                {schema.sections.map((section, sIndex) => (\n                  <Card key={section.key}>\n                    <CardHeader>\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center gap-2\">\n                          <Badge style={{ backgroundColor: '#52baf3', color: 'white' }}>\n                            {section.key}\n                          </Badge>\n                          <Input\n                            value={section.title}\n                            onChange={(e) => updateSection(sIndex, { ...section, title: e.target.value })}\n                            className=\"max-w-xs\"\n                          />\n                        </div>\n                        <div className=\"flex gap-2\">\n                          <Select\n                            value={section.layout}\n                            onValueChange={(value) => updateSection(sIndex, { ...section, layout: value })}\n                          >\n                            <SelectTrigger className=\"w-32\">\n                              <SelectValue />\n                            </SelectTrigger>\n                            <SelectContent>\n                              <SelectItem value=\"grid-1\">Single Column</SelectItem>\n                              <SelectItem value=\"grid-2\">2 Columns</SelectItem>\n                              <SelectItem value=\"grid-3\">3 Columns</SelectItem>\n                              <SelectItem value=\"grid-4\">4 Columns</SelectItem>\n                              <SelectItem value=\"grid-5\">5 Columns</SelectItem>\n                              <SelectItem value=\"file-upload\">File Upload</SelectItem>\n                            </SelectContent>\n                          </Select>\n                          <Button\n                            size=\"icon\"\n                            variant=\"ghost\"\n                            onClick={() => deleteSection(sIndex)}\n                          >\n                            <Trash2 className=\"h-4 w-4\" />\n                          </Button>\n                        </div>\n                      </div>\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"space-y-2\">\n                        <div className=\"flex justify-between items-center mb-2\">\n                          <Label>Fields</Label>\n                          <Button size=\"sm\" variant=\"outline\" onClick={() => addField(sIndex)}>\n                            <Plus className=\"h-3 w-3 mr-1\" />\n                            Add Field\n                          </Button>\n                        </div>\n                        {section.fields.map((field, fIndex) => (\n                          <div key={field.key} className=\"flex gap-2 items-center p-2 border rounded\">\n                            <Input\n                              value={field.key}\n                              onChange={(e) => updateField(sIndex, fIndex, { ...field, key: e.target.value })}\n                              placeholder=\"Field Key\"\n                              className=\"w-32\"\n                            />\n                            <Input\n                              value={field.label}\n                              onChange={(e) => updateField(sIndex, fIndex, { ...field, label: e.target.value })}\n                              placeholder=\"Label\"\n                              className=\"flex-1\"\n                            />\n                            <Select\n                              value={field.type}\n                              onValueChange={(value) => updateField(sIndex, fIndex, { ...field, type: value })}\n                            >\n                              <SelectTrigger className=\"w-32\">\n                                <SelectValue />\n                              </SelectTrigger>\n                              <SelectContent>\n                                <SelectItem value=\"text\">Text</SelectItem>\n                                <SelectItem value=\"number\">Number</SelectItem>\n                                <SelectItem value=\"date\">Date</SelectItem>\n                                <SelectItem value=\"datetime\">DateTime</SelectItem>\n                                <SelectItem value=\"select\">Select</SelectItem>\n                                <SelectItem value=\"textarea\">Textarea</SelectItem>\n                                <SelectItem value=\"checkbox\">Checkbox</SelectItem>\n                                <SelectItem value=\"radio\">Radio</SelectItem>\n                                <SelectItem value=\"file\">File</SelectItem>\n                                <SelectItem value=\"repeater\">Repeater</SelectItem>\n                              </SelectContent>\n                            </Select>\n                            <label className=\"flex items-center gap-1\">\n                              <input\n                                type=\"checkbox\"\n                                checked={field.required}\n                                onChange={(e) => updateField(sIndex, fIndex, { ...field, required: e.target.checked })}\n                              />\n                              Required\n                            </label>\n                            <Button\n                              size=\"icon\"\n                              variant=\"ghost\"\n                              onClick={() => deleteField(sIndex, fIndex)}\n                            >\n                              <Trash2 className=\"h-3 w-3\" />\n                            </Button>\n                          </div>\n                        ))}\n                      </div>\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n            </TabsContent>\n            \n            <TabsContent value=\"json\" className=\"flex-1 overflow-y-auto\">\n              <div className=\"p-4\">\n                <textarea\n                  className=\"w-full h-full min-h-[500px] p-4 font-mono text-sm border rounded\"\n                  value={JSON.stringify(schema, null, 2)}\n                  onChange={(e) => {\n                    try {\n                      const newSchema = JSON.parse(e.target.value);\n                      setSchema(newSchema);\n                    } catch (error) {\n                      // Invalid JSON, don't update\n                    }\n                  }}\n                />\n              </div>\n            </TabsContent>\n            \n            <TabsContent value=\"preview\" className=\"flex-1 overflow-y-auto\">\n              <div className=\"p-4\">\n                <div className=\"border rounded-lg p-6 bg-gray-50\">\n                  <h3 className=\"text-xl font-semibold mb-4\">{schema.title || formName}</h3>\n                  {schema.sections.map((section) => (\n                    <div key={section.key} className=\"mb-6\">\n                      <div className=\"flex items-center gap-2 mb-3\">\n                        <Badge style={{ backgroundColor: '#52baf3', color: 'white' }}>\n                          {section.key}\n                        </Badge>\n                        <h4 className=\"text-lg font-medium\">{section.title}</h4>\n                      </div>\n                      <div className={`grid gap-4 ${\n                        section.layout === 'grid-1' ? 'grid-cols-1' :\n                        section.layout === 'grid-2' ? 'grid-cols-2' :\n                        section.layout === 'grid-3' ? 'grid-cols-3' :\n                        section.layout === 'grid-4' ? 'grid-cols-4' :\n                        section.layout === 'grid-5' ? 'grid-cols-5' :\n                        'grid-cols-1'\n                      }`}>\n                        {section.fields.map((field) => (\n                          <div key={field.key}>\n                            <Label>\n                              {field.label}\n                              {field.required && <span className=\"text-red-500 ml-1\">*</span>}\n                            </Label>\n                            {field.type === 'textarea' ? (\n                              <textarea className=\"w-full p-2 border rounded mt-1\" rows={3} disabled />\n                            ) : field.type === 'select' ? (\n                              <Select disabled>\n                                <SelectTrigger className=\"mt-1\">\n                                  <SelectValue placeholder=\"Select...\" />\n                                </SelectTrigger>\n                              </Select>\n                            ) : (\n                              <Input type={field.type} disabled className=\"mt-1\" />\n                            )}\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </TabsContent>\n          </Tabs>\n        </DialogContent>\n      </Dialog>\n\n      {/* Publish Dialog */}\n      <Dialog open={publishDialogOpen} onOpenChange={setPublishDialogOpen}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Publish Form Version</DialogTitle>\n            <DialogDescription>\n              Enter a changelog to describe the changes in this version. This will make the current published version archived.\n            </DialogDescription>\n          </DialogHeader>\n          \n          <div className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"changelog\">Changelog *</Label>\n              <textarea\n                id=\"changelog\"\n                className=\"w-full px-3 py-2 border rounded-md mt-1\"\n                rows={4}\n                placeholder=\"Describe what changed in this version...\"\n                value={changelog}\n                onChange={(e) => setChangelog(e.target.value)}\n              />\n            </div>\n          </div>\n          \n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setPublishDialogOpen(false)}>\n              Cancel\n            </Button>\n            <Button\n              onClick={handlePublish}\n              disabled={!changelog}\n              style={{ backgroundColor: '#52baf3', color: 'white' }}\n            >\n              Publish Version\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n}"]}