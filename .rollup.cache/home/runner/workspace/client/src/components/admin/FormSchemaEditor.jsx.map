{"version":3,"file":"FormSchemaEditor.jsx","sourceRoot":"","sources":["FormSchemaEditor.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogFooter,\n} from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Card, CardContent, CardHeader } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport {\n  Save,\n  X,\n  Eye,\n  Code,\n  Settings,\n  Plus,\n  Trash2,\n  // Copy,\n  // Move,\n} from 'lucide-react';\nimport { useMutation } from '@tanstack/react-query';\n// import { apiRequest } from '@/lib/queryClient';\nimport { useToast } from '@/hooks/use-toast';\n\ninterface FormVersion {\n  id: number;\n  formId: number;\n  versionNo: number;\n  versionDate: string;\n  status: 'DRAFT' | 'PUBLISHED' | 'ARCHIVED';\n  authorUserId: string;\n  changelog: string | null;\n  schemaJson: string;\n}\n\ninterface FormSchemaEditorProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  version: FormVersion;\n  formName: string;\n  onUpdate: () => void;\n}\n\ninterface FormField {\n  key: string;\n  label: string;\n  type: string;\n  required: boolean;\n  options?: string[];\n  placeholder?: string;\n  validation?: any;\n}\n\ninterface FormSection {\n  key: string;\n  title: string;\n  layout: string;\n  fields: FormField[];\n}\n\ninterface FormSchema {\n  title: string;\n  sections: FormSection[];\n}\n\nexport default function FormSchemaEditor({\n  open,\n  onOpenChange,\n  version,\n  formName,\n  onUpdate,\n}: FormSchemaEditorProps) {\n  const [activeTab, setActiveTab] = useState('visual');\n  const [schema, setSchema] = useState<FormSchema>({ title: '', sections: [] });\n  // const [selectedSection, setSelectedSection] = useState<string | null>(null);\n  const [publishDialogOpen, setPublishDialogOpen] = useState(false);\n  const [changelog, setChangelog] = useState('');\n\n  const { toast } = useToast();\n\n  useEffect(() => {\n    if (version.schemaJson) {\n      try {\n        const parsed = JSON.parse(version.schemaJson);\n        setSchema(parsed);\n      } catch (error) {\n        console.error('Failed to parse schema JSON:', error);\n      }\n    }\n  }, [version.schemaJson]);\n\n  // Update schema mutation\n  const updateSchemaMutation = useMutation({\n    mutationFn: (schemaJson: any) =>\n      fetch(\n        `/api/admin/forms/${version.formId}/versions/${version.id}/schema`,\n        {\n          method: 'PUT',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ schemaJson }),\n        }\n      ).then(res => res.json()),\n    onSuccess: () => {\n      toast({\n        title: 'Success',\n        description: 'Schema saved successfully',\n      });\n      onUpdate();\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'Error',\n        description: error.message || 'Failed to save schema',\n        variant: 'destructive',\n      });\n    },\n  });\n\n  // Publish version mutation\n  const publishMutation = useMutation({\n    mutationFn: (changelog: string) =>\n      fetch(\n        `/api/admin/forms/${version.formId}/versions/${version.id}/publish`,\n        {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ userId: 'admin', changelog }),\n        }\n      ).then(res => res.json()),\n    onSuccess: () => {\n      toast({\n        title: 'Success',\n        description: 'Version published successfully',\n      });\n      setPublishDialogOpen(false);\n      onUpdate();\n      onOpenChange(false);\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'Error',\n        description: error.message || 'Failed to publish version',\n        variant: 'destructive',\n      });\n    },\n  });\n\n  // Discard draft mutation\n  const discardMutation = useMutation({\n    mutationFn: () =>\n      fetch(\n        `/api/admin/forms/${version.formId}/versions/${version.id}/discard`,\n        {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n        }\n      ).then(res => res.json()),\n    onSuccess: () => {\n      toast({\n        title: 'Success',\n        description: 'Draft discarded',\n      });\n      onUpdate();\n      onOpenChange(false);\n    },\n    onError: (error: any) => {\n      toast({\n        title: 'Error',\n        description: error.message || 'Failed to discard draft',\n        variant: 'destructive',\n      });\n    },\n  });\n\n  const handleSave = () => {\n    updateSchemaMutation.mutate(JSON.stringify(schema));\n  };\n\n  const handlePublish = () => {\n    if (!changelog) {\n      toast({\n        title: 'Error',\n        description: 'Please enter a changelog',\n        variant: 'destructive',\n      });\n      return;\n    }\n    publishMutation.mutate(changelog);\n  };\n\n  const handleDiscard = () => {\n    if (\n      confirm(\n        'Are you sure you want to discard this draft? All changes will be lost.'\n      )\n    ) {\n      discardMutation.mutate();\n    }\n  };\n\n  const addSection = () => {\n    const newSection: FormSection = {\n      key: `section_${Date.now()}`,\n      title: 'New Section',\n      layout: 'grid-2',\n      fields: [],\n    };\n    setSchema({\n      ...schema,\n      sections: [...schema.sections, newSection],\n    });\n  };\n\n  const updateSection = (index: number, section: FormSection) => {\n    const newSections = [...schema.sections];\n    newSections[index] = section;\n    setSchema({ ...schema, sections: newSections });\n  };\n\n  const deleteSection = (index: number) => {\n    const newSections = schema.sections.filter((_, i) => i !== index);\n    setSchema({ ...schema, sections: newSections });\n  };\n\n  const addField = (sectionIndex: number) => {\n    const newField: FormField = {\n      key: `field_${Date.now()}`,\n      label: 'New Field',\n      type: 'text',\n      required: false,\n    };\n    const newSections = [...schema.sections];\n    newSections[sectionIndex].fields.push(newField);\n    setSchema({ ...schema, sections: newSections });\n  };\n\n  const updateField = (\n    sectionIndex: number,\n    fieldIndex: number,\n    field: FormField\n  ) => {\n    const newSections = [...schema.sections];\n    newSections[sectionIndex].fields[fieldIndex] = field;\n    setSchema({ ...schema, sections: newSections });\n  };\n\n  const deleteField = (sectionIndex: number, fieldIndex: number) => {\n    const newSections = [...schema.sections];\n    newSections[sectionIndex].fields = newSections[sectionIndex].fields.filter(\n      (_, i) => i !== fieldIndex\n    );\n    setSchema({ ...schema, sections: newSections });\n  };\n\n  return (\n    <>\n      <Dialog open={open} onOpenChange={onOpenChange}>\n        <DialogContent className='max-w-6xl max-h-[90vh] overflow-hidden flex flex-col'>\n          <DialogHeader>\n            <div className='flex items-center justify-between'>\n              <div>\n                <DialogTitle>Form Schema Editor - {formName}</DialogTitle>\n                <DialogDescription>\n                  Version {version.versionNo} ({version.status})\n                </DialogDescription>\n              </div>\n              <div className='flex gap-2'>\n                {version.status === 'DRAFT' && (\n                  <>\n                    <Button variant='outline' size='sm' onClick={handleDiscard}>\n                      <X className='h-4 w-4 mr-1' />\n                      Discard\n                    </Button>\n                    <Button variant='outline' size='sm' onClick={handleSave}>\n                      <Save className='h-4 w-4 mr-1' />\n                      Save\n                    </Button>\n                    <Button\n                      size='sm'\n                      onClick={() => setPublishDialogOpen(true)}\n                      style={{ backgroundColor: '#52baf3', color: 'white' }}\n                    >\n                      Publish\n                    </Button>\n                  </>\n                )}\n              </div>\n            </div>\n          </DialogHeader>\n\n          <Tabs\n            value={activeTab}\n            onValueChange={setActiveTab}\n            className='flex-1 flex flex-col'\n          >\n            <TabsList>\n              <TabsTrigger value='visual'>\n                <Settings className='h-4 w-4 mr-2' />\n                Visual Editor\n              </TabsTrigger>\n              <TabsTrigger value='json'>\n                <Code className='h-4 w-4 mr-2' />\n                JSON Editor\n              </TabsTrigger>\n              <TabsTrigger value='preview'>\n                <Eye className='h-4 w-4 mr-2' />\n                Preview\n              </TabsTrigger>\n            </TabsList>\n\n            <TabsContent value='visual' className='flex-1 overflow-y-auto'>\n              <div className='space-y-4 p-4'>\n                <div className='flex justify-between items-center'>\n                  <h3 className='text-lg font-semibold'>Form Sections</h3>\n                  <Button size='sm' onClick={addSection}>\n                    <Plus className='h-4 w-4 mr-1' />\n                    Add Section\n                  </Button>\n                </div>\n\n                {schema.sections.map((section, sIndex) => (\n                  <Card key={section.key}>\n                    <CardHeader>\n                      <div className='flex items-center justify-between'>\n                        <div className='flex items-center gap-2'>\n                          <Badge\n                            style={{\n                              backgroundColor: '#52baf3',\n                              color: 'white',\n                            }}\n                          >\n                            {section.key}\n                          </Badge>\n                          <Input\n                            value={section.title}\n                            onChange={e =>\n                              updateSection(sIndex, {\n                                ...section,\n                                title: e.target.value,\n                              })\n                            }\n                            className='max-w-xs'\n                          />\n                        </div>\n                        <div className='flex gap-2'>\n                          <Select\n                            value={section.layout}\n                            onValueChange={value =>\n                              updateSection(sIndex, {\n                                ...section,\n                                layout: value,\n                              })\n                            }\n                          >\n                            <SelectTrigger className='w-32'>\n                              <SelectValue />\n                            </SelectTrigger>\n                            <SelectContent>\n                              <SelectItem value='grid-1'>\n                                Single Column\n                              </SelectItem>\n                              <SelectItem value='grid-2'>2 Columns</SelectItem>\n                              <SelectItem value='grid-3'>3 Columns</SelectItem>\n                              <SelectItem value='grid-4'>4 Columns</SelectItem>\n                              <SelectItem value='grid-5'>5 Columns</SelectItem>\n                              <SelectItem value='file-upload'>\n                                File Upload\n                              </SelectItem>\n                            </SelectContent>\n                          </Select>\n                          <Button\n                            size='icon'\n                            variant='ghost'\n                            onClick={() => deleteSection(sIndex)}\n                          >\n                            <Trash2 className='h-4 w-4' />\n                          </Button>\n                        </div>\n                      </div>\n                    </CardHeader>\n                    <CardContent>\n                      <div className='space-y-2'>\n                        <div className='flex justify-between items-center mb-2'>\n                          <Label>Fields</Label>\n                          <Button\n                            size='sm'\n                            variant='outline'\n                            onClick={() => addField(sIndex)}\n                          >\n                            <Plus className='h-3 w-3 mr-1' />\n                            Add Field\n                          </Button>\n                        </div>\n                        {section.fields.map((field, fIndex) => (\n                          <div\n                            key={field.key}\n                            className='flex gap-2 items-center p-2 border rounded'\n                          >\n                            <Input\n                              value={field.key}\n                              onChange={e =>\n                                updateField(sIndex, fIndex, {\n                                  ...field,\n                                  key: e.target.value,\n                                })\n                              }\n                              placeholder='Field Key'\n                              className='w-32'\n                            />\n                            <Input\n                              value={field.label}\n                              onChange={e =>\n                                updateField(sIndex, fIndex, {\n                                  ...field,\n                                  label: e.target.value,\n                                })\n                              }\n                              placeholder='Label'\n                              className='flex-1'\n                            />\n                            <Select\n                              value={field.type}\n                              onValueChange={value =>\n                                updateField(sIndex, fIndex, {\n                                  ...field,\n                                  type: value,\n                                })\n                              }\n                            >\n                              <SelectTrigger className='w-32'>\n                                <SelectValue />\n                              </SelectTrigger>\n                              <SelectContent>\n                                <SelectItem value='text'>Text</SelectItem>\n                                <SelectItem value='number'>Number</SelectItem>\n                                <SelectItem value='date'>Date</SelectItem>\n                                <SelectItem value='datetime'>\n                                  DateTime\n                                </SelectItem>\n                                <SelectItem value='select'>Select</SelectItem>\n                                <SelectItem value='textarea'>\n                                  Textarea\n                                </SelectItem>\n                                <SelectItem value='checkbox'>\n                                  Checkbox\n                                </SelectItem>\n                                <SelectItem value='radio'>Radio</SelectItem>\n                                <SelectItem value='file'>File</SelectItem>\n                                <SelectItem value='repeater'>\n                                  Repeater\n                                </SelectItem>\n                              </SelectContent>\n                            </Select>\n                            <label className='flex items-center gap-1'>\n                              <input\n                                type='checkbox'\n                                checked={field.required}\n                                onChange={e =>\n                                  updateField(sIndex, fIndex, {\n                                    ...field,\n                                    required: e.target.checked,\n                                  })\n                                }\n                              />\n                              Required\n                            </label>\n                            <Button\n                              size='icon'\n                              variant='ghost'\n                              onClick={() => deleteField(sIndex, fIndex)}\n                            >\n                              <Trash2 className='h-3 w-3' />\n                            </Button>\n                          </div>\n                        ))}\n                      </div>\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n            </TabsContent>\n\n            <TabsContent value='json' className='flex-1 overflow-y-auto'>\n              <div className='p-4'>\n                <textarea\n                  className='w-full h-full min-h-[500px] p-4 font-mono text-sm border rounded'\n                  value={JSON.stringify(schema, null, 2)}\n                  onChange={e => {\n                    try {\n                      const newSchema = JSON.parse(e.target.value);\n                      setSchema(newSchema);\n                    } catch (error) {\n                      // Invalid JSON, don't update\n                    }\n                  }}\n                />\n              </div>\n            </TabsContent>\n\n            <TabsContent value='preview' className='flex-1 overflow-y-auto'>\n              <div className='p-4'>\n                <div className='border rounded-lg p-6 bg-gray-50'>\n                  <h3 className='text-xl font-semibold mb-4'>\n                    {schema.title || formName}\n                  </h3>\n                  {schema.sections.map(section => (\n                    <div key={section.key} className='mb-6'>\n                      <div className='flex items-center gap-2 mb-3'>\n                        <Badge\n                          style={{ backgroundColor: '#52baf3', color: 'white' }}\n                        >\n                          {section.key}\n                        </Badge>\n                        <h4 className='text-lg font-medium'>{section.title}</h4>\n                      </div>\n                      <div\n                        className={`grid gap-4 ${\n                          section.layout === 'grid-1'\n                            ? 'grid-cols-1'\n                            : section.layout === 'grid-2'\n                              ? 'grid-cols-2'\n                              : section.layout === 'grid-3'\n                                ? 'grid-cols-3'\n                                : section.layout === 'grid-4'\n                                  ? 'grid-cols-4'\n                                  : section.layout === 'grid-5'\n                                    ? 'grid-cols-5'\n                                    : 'grid-cols-1'\n                        }`}\n                      >\n                        {section.fields.map(field => (\n                          <div key={field.key}>\n                            <Label>\n                              {field.label}\n                              {field.required && (\n                                <span className='text-red-500 ml-1'>*</span>\n                              )}\n                            </Label>\n                            {field.type === 'textarea' ? (\n                              <textarea\n                                className='w-full p-2 border rounded mt-1'\n                                rows={3}\n                                disabled\n                              />\n                            ) : field.type === 'select' ? (\n                              <Select disabled>\n                                <SelectTrigger className='mt-1'>\n                                  <SelectValue placeholder='Select...' />\n                                </SelectTrigger>\n                              </Select>\n                            ) : (\n                              <Input\n                                type={field.type}\n                                disabled\n                                className='mt-1'\n                              />\n                            )}\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </TabsContent>\n          </Tabs>\n        </DialogContent>\n      </Dialog>\n\n      {/* Publish Dialog */}\n      <Dialog open={publishDialogOpen} onOpenChange={setPublishDialogOpen}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Publish Form Version</DialogTitle>\n            <DialogDescription>\n              Enter a changelog to describe the changes in this version. This\n              will make the current published version archived.\n            </DialogDescription>\n          </DialogHeader>\n\n          <div className='space-y-4'>\n            <div>\n              <Label htmlFor='changelog'>Changelog *</Label>\n              <textarea\n                id='changelog'\n                className='w-full px-3 py-2 border rounded-md mt-1'\n                rows={4}\n                placeholder='Describe what changed in this version...'\n                value={changelog}\n                onChange={e => setChangelog(e.target.value)}\n              />\n            </div>\n          </div>\n\n          <DialogFooter>\n            <Button\n              variant='outline'\n              onClick={() => setPublishDialogOpen(false)}\n            >\n              Cancel\n            </Button>\n            <Button\n              onClick={handlePublish}\n              disabled={!changelog}\n              style={{ backgroundColor: '#52baf3', color: 'white' }}\n            >\n              Publish Version\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n}\n"]}