{"version":3,"file":"WorkOrderForm.jsx","sourceRoot":"","sources":["WorkOrderForm.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { ChevronDown, ChevronRight, FileText, ArrowLeft } from \"lucide-react\";\nimport { useLocation } from \"wouter\";\nimport WorkInstructionsDialog from \"./WorkInstructionsDialog\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useModifyMode } from \"@/hooks/useModifyMode\";\nimport { ModifyFieldWrapper } from \"@/components/modify/ModifyFieldWrapper\";\nimport { ModifyStickyFooter } from \"@/components/modify/ModifyStickyFooter\";\nimport { generateSuggestions, extractContextFromWorkOrder, type WorkOrderContext } from \"@/utils/suggestionEngine\";\n\ninterface WorkOrderFormProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSubmit?: (workOrderId: string, formData?: any) => void;\n  onApprove?: (workOrderId: string, approverRemarks?: string) => void;\n  onReject?: (workOrderId: string, rejectionComments: string) => void;\n  component?: {\n    code: string;\n    name: string;\n  };\n  workOrder?: any;\n  isApprovalMode?: boolean;\n}\n\nconst WorkOrderForm: React.FC<WorkOrderFormProps> = ({\n  isOpen,\n  onClose,\n  onSubmit,\n  onApprove,\n  onReject,\n  component,\n  workOrder,\n  isApprovalMode = false\n}) => {\n  const { toast } = useToast();\n  const [activeSection, setActiveSection] = useState<'partA' | 'partB'>('partA');\n  const [isWorkInstructionsOpen, setIsWorkInstructionsOpen] = useState(false);\n  const [rejectionComments, setRejectionComments] = useState(\"\");\n  const [showRejectionComments, setShowRejectionComments] = useState(false);\n  const [location, setLocation] = useLocation();\n  \n  // Preview mode state \n  const [isPreviewMode, setIsPreviewMode] = useState(false);\n  const [changeRequestData, setChangeRequestData] = useState<any>(null);\n  const [previewChanges, setPreviewChanges] = useState<any>({});\n  \n  // Quick Input functionality for Work Carried Out\n  const workCarriedOutRef = useRef<HTMLTextAreaElement>(null);\n  const [showQuickInputs, setShowQuickInputs] = useState(false);\n  \n  // Smart Suggestions functionality\n  const [showSmartSuggestions, setShowSmartSuggestions] = useState(false);\n  const [smartSuggestions, setSmartSuggestions] = useState<string[]>([]);\n  \n  // Predefined quick answers for Work Carried Out\n  const quickAnswers = [\n    \"Work carried out, found satisfactory.\",\n    \"Checked and tested, no defects observed.\",\n    \"Alarm tested, found satisfactory.\",\n    \"Routine maintenance carried out as per PMS.\",\n    \"Equipment inspected, found in good condition.\",\n    \"Lubrication/oiling carried out, parameters normal.\",\n    \"Work completed, system restored to normal.\",\n    \"Trial conducted, performance satisfactory.\",\n    \"Defect rectified, equipment put back in service.\",\n    \"Cleaning carried out, area left tidy.\"\n  ];\n  \n  // Modify mode integration\n  const { isModifyMode, targetId, fieldChanges, trackFieldChange, setOriginalSnapshot } = useModifyMode();\n  \n  // Debug logging\n  console.log(\"WorkOrderForm Debug:\", { isModifyMode, targetId, fieldChanges, isOpen });\n  \n  // Preview mode detection from URL parameters\n  useEffect(() => {\n    const urlParams = new URLSearchParams(window.location.search);\n    const previewChanges = urlParams.get('previewChanges');\n    const changeRequestId = urlParams.get('changeRequestId');\n    const targetType = urlParams.get('targetType');\n    const previewTargetId = urlParams.get('targetId');\n    \n    if (previewChanges === '1' && changeRequestId && targetType === 'workOrder') {\n      setIsPreviewMode(true);\n      \n      // Fetch change request data to get proposed changes\n      fetch(`/api/change-requests/${changeRequestId}`)\n        .then(res => res.json())\n        .then(data => {\n          setChangeRequestData(data);\n          \n          // Convert proposed changes to a lookup map for easy access\n          const changes: any = {};\n          if (data.proposedChangesJson) {\n            data.proposedChangesJson.forEach((change: any) => {\n              changes[change.field] = {\n                oldValue: change.oldValue,\n                newValue: change.newValue\n              };\n            });\n          }\n          setPreviewChanges(changes);\n        })\n        .catch(error => {\n          console.error('Failed to fetch change request data:', error);\n        });\n    } else {\n      setIsPreviewMode(false);\n      setChangeRequestData(null);\n      setPreviewChanges({});\n    }\n  }, [location, isOpen]);\n  \n  // Functions for preview mode\n  const hasPreviewChange = (fieldName: string) => {\n    return previewChanges[fieldName] !== undefined;\n  };\n  \n  const getPreviewValue = (fieldName: string) => {\n    return previewChanges[fieldName]?.newValue || '';\n  };\n  \n  // Quick Input function to insert text at cursor position\n  const insertQuickText = (text: string) => {\n    const textarea = workCarriedOutRef.current;\n    if (!textarea) return;\n    \n    const start = textarea.selectionStart;\n    const end = textarea.selectionEnd;\n    const currentValue = executionData.workCarriedOut;\n    \n    // Insert text at cursor position (or replace selection)\n    const beforeCursor = currentValue.substring(0, start);\n    const afterCursor = currentValue.substring(end);\n    \n    // Add newline if there's existing text and cursor is not at the beginning\n    const prefix = beforeCursor && start > 0 ? '\\n' : '';\n    const newValue = beforeCursor + prefix + text + afterCursor;\n    \n    // Update the state\n    handleExecutionChange('workCarriedOut', newValue);\n    \n    // Focus back to textarea and set cursor after inserted text\n    setTimeout(() => {\n      textarea.focus();\n      const newCursorPosition = start + prefix.length + text.length;\n      textarea.setSelectionRange(newCursorPosition, newCursorPosition);\n    }, 0);\n  };\n  \n  // Smart Suggestions function to generate context-aware suggestions\n  const generateSmartSuggestions = () => {\n    try {\n      const context = extractContextFromWorkOrder(workOrder, executionData);\n      const suggestions = generateSuggestions(context);\n      setSmartSuggestions(suggestions);\n    } catch (error) {\n      console.error('Error generating smart suggestions:', error);\n      setSmartSuggestions([]);\n    }\n  };\n  \n  // Function to insert suggestion text (reuses Quick Input logic)\n  const insertSuggestion = (text: string) => {\n    insertQuickText(text);\n  };\n  \n  // Toggle Smart Suggestions and generate on first open\n  const toggleSmartSuggestions = () => {\n    const newShowState = !showSmartSuggestions;\n    setShowSmartSuggestions(newShowState);\n    \n    if (newShowState && smartSuggestions.length === 0) {\n      generateSmartSuggestions();\n    }\n  };\n  \n  // Check if we're in execution mode (Part B)\n  const executionMode = workOrder?.executionMode === true;\n  \n  // Check if form should be read-only - BUT in modify mode, make it editable\n  const isReadOnly = !isModifyMode && (workOrder?.status === \"Pending Approval\" || workOrder?.status === \"Approved\" || isApprovalMode);\n\n  // Template data (Part A)\n  const [templateData, setTemplateData] = useState({\n    woTitle: \"\",\n    component: workOrder?.component || component?.name || \"\",\n    componentCode: workOrder?.componentCode || component?.code || \"\",\n    woTemplateCode: \"\",\n    maintenanceBasis: \"Calendar\",\n    frequencyValue: \"\",\n    frequencyUnit: \"Months\",\n    taskType: \"Inspection\",\n    assignedTo: \"\",\n    approver: \"\",\n    jobPriority: \"Medium\",\n    classRelated: \"No\",\n    briefWorkDescription: \"\",\n    nextDueDate: \"\",\n    nextDueReading: \"\",\n    requiredSpareParts: [],\n    requiredTools: [],\n    safetyRequirements: {\n      ppe: \"\",\n      permits: \"\",\n      other: \"\"\n    },\n    workHistory: []\n  });\n\n  // Execution data (Part B)\n  const [executionData, setExecutionData] = useState({\n    woExecutionId: \"\",\n    riskAssessment: \"No\",\n    safetyChecklists: \"No\",\n    operationalForms: \"No\",\n    startDateTime: \"\",\n    completionDateTime: \"\",\n    assignedTo: \"\",\n    performedBy: \"\",\n    noOfPersons: \"\",\n    totalTimeHours: \"\",\n    manhours: \"\",\n    workCarriedOut: \"\",\n    jobExperienceNotes: \"\",\n    previousReading: \"\",\n    currentReading: \"\",\n    sparePartsConsumed: []\n  });\n\n  // Ranks for dropdowns\n  const ranks = [\n    \"Master\",\n    \"Chief Officer\",\n    \"2nd Officer\",\n    \"3rd Officer\",\n    \"Chief Engineer\",\n    \"2nd Engineer\",\n    \"3rd Engineer\",\n    \"4th Engineer\",\n    \"Deck Cadet\",\n    \"Engine Cadet\",\n    \"Bosun\",\n    \"Pumpman\",\n    \"Electrician\",\n    \"Fitter\",\n    \"Able Seaman\",\n    \"Ordinary Seaman\",\n    \"Oiler\",\n    \"Wiper\",\n    \"Cook\",\n    \"Steward\"\n  ];\n\n  // Generate WO Template Code\n  const generateWOTemplateCode = () => {\n    const compCode = templateData.componentCode || component?.code;\n    if (!compCode || !templateData.taskType || !templateData.maintenanceBasis) return \"\";\n    \n    const taskCodes: Record<string, string> = {\n      \"Inspection\": \"INS\",\n      \"Overhaul\": \"OH\",\n      \"Service\": \"SRV\",\n      \"Testing\": \"TST\"\n    };\n    \n    let freqTag = \"\";\n    if (templateData.maintenanceBasis === \"Calendar\" && templateData.frequencyValue && templateData.frequencyUnit) {\n      const unitCode = templateData.frequencyUnit[0].toUpperCase();\n      freqTag = `${unitCode}${templateData.frequencyValue}`;\n    } else if (templateData.maintenanceBasis === \"Running Hours\" && templateData.frequencyValue) {\n      freqTag = `RH${templateData.frequencyValue}`;\n    }\n    \n    const taskCode = taskCodes[templateData.taskType] || \"\";\n    return `WO-${compCode}-${taskCode}${freqTag}`.toUpperCase();\n  };\n\n  // Generate WO Execution ID\n  const generateWOExecutionId = () => {\n    const year = new Date().getFullYear();\n    const templateCode = templateData.woTemplateCode || workOrder?.templateCode || generateWOTemplateCode();\n    // In real implementation, get sequence from database based on existing executions\n    const sequence = String(Math.floor(Math.random() * 99) + 1).padStart(2, '0');\n    return `${year}-${templateCode}-${sequence}`;\n  };\n\n  // Update template code when relevant fields change\n  useEffect(() => {\n    if (!templateData.woTemplateCode) {\n      const newCode = generateWOTemplateCode();\n      setTemplateData(prev => ({ ...prev, woTemplateCode: newCode }));\n    }\n  }, [templateData.taskType, templateData.maintenanceBasis, templateData.frequencyValue, templateData.frequencyUnit]);\n\n  // Load existing workOrder data\n  useEffect(() => {\n    if (workOrder) {\n      const initialData = {\n        woTitle: workOrder.jobTitle || \"\",\n        component: workOrder.component || component?.name || \"\",\n        componentCode: workOrder.componentCode || component?.code || \"\",\n        woTemplateCode: workOrder.templateCode || \"\",\n        maintenanceBasis: workOrder.maintenanceBasis || \"Calendar\",\n        frequencyValue: workOrder.frequencyValue || \"\",\n        frequencyUnit: workOrder.frequencyUnit || \"Months\",\n        taskType: workOrder.taskType || \"Inspection\",\n        assignedTo: workOrder.assignedTo || \"\",\n        approver: \"\",\n        jobPriority: \"Medium\",\n        classRelated: \"No\",\n        briefWorkDescription: \"\",\n        nextDueDate: workOrder.dueDate || \"\",\n        nextDueReading: \"\",\n        requiredSpareParts: [],\n        requiredTools: [],\n        safetyRequirements: {\n          ppe: \"\",\n          permits: \"\",\n          other: \"\"\n        },\n        workHistory: []\n      };\n      \n      setTemplateData(prev => ({ ...prev, ...initialData }));\n      \n      // Set original snapshot for modify mode\n      if (isModifyMode && setOriginalSnapshot) {\n        console.log(\"Setting original snapshot:\", initialData);\n        setOriginalSnapshot(initialData);\n      }\n      \n      // If in execution mode, switch to Part B and generate execution ID\n      if (executionMode) {\n        setActiveSection('partB');\n        setExecutionData(prev => ({\n          ...prev,\n          woExecutionId: generateWOExecutionId(),\n          assignedTo: workOrder.assignedTo || \"\"\n        }));\n      }\n    }\n  }, [workOrder, executionMode, isModifyMode, setOriginalSnapshot]);\n\n  const selectSection = (section: 'partA' | 'partB') => {\n    setActiveSection(section);\n  };\n\n  const handleTemplateChange = (field: string, value: string) => {\n    setTemplateData(prev => {\n      const newData = { ...prev, [field]: value };\n      \n      // Track field change for modify mode\n      if (isModifyMode && trackFieldChange) {\n        trackFieldChange(field, value, (prev as any)[field]);\n      }\n      \n      return newData;\n    });\n  };\n\n  const handleExecutionChange = (field: string, value: string) => {\n    setExecutionData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const handleSubmit = () => {\n    if (activeSection === 'partA') {\n      // Validate template data\n      if (!templateData.woTitle) {\n        toast({\n          title: \"Validation Error\",\n          description: \"WO Title is required\",\n          variant: \"destructive\"\n        });\n        return;\n      }\n      if (!templateData.maintenanceBasis) {\n        toast({\n          title: \"Validation Error\",\n          description: \"Maintenance Basis is required\",\n          variant: \"destructive\"\n        });\n        return;\n      }\n      if (!templateData.frequencyValue) {\n        toast({\n          title: \"Validation Error\",\n          description: \"Frequency value is required\",\n          variant: \"destructive\"\n        });\n        return;\n      }\n      if (!templateData.taskType) {\n        toast({\n          title: \"Validation Error\",\n          description: \"Task Type is required\",\n          variant: \"destructive\"\n        });\n        return;\n      }\n      if (!templateData.assignedTo) {\n        toast({\n          title: \"Validation Error\",\n          description: \"Assigned To is required\",\n          variant: \"destructive\"\n        });\n        return;\n      }\n\n      // Ensure templateCode is generated\n      if (!templateData.woTemplateCode) {\n        templateData.woTemplateCode = generateWOTemplateCode();\n      }\n      \n      // Calculate next due\n      if (templateData.maintenanceBasis === \"Calendar\") {\n        const today = new Date();\n        const freq = parseInt(templateData.frequencyValue);\n        if (templateData.frequencyUnit === \"Days\") {\n          today.setDate(today.getDate() + freq);\n        } else if (templateData.frequencyUnit === \"Weeks\") {\n          today.setDate(today.getDate() + (freq * 7));\n        } else if (templateData.frequencyUnit === \"Months\") {\n          today.setMonth(today.getMonth() + freq);\n        } else if (templateData.frequencyUnit === \"Years\") {\n          today.setFullYear(today.getFullYear() + freq);\n        }\n        templateData.nextDueDate = today.toISOString().split('T')[0];\n      }\n\n      if (onSubmit) {\n        const workOrderId = workOrder?.id || `new-${Date.now()}`;\n        onSubmit(workOrderId, { \n          type: 'template', \n          data: {\n            ...templateData,\n            templateCode: templateData.woTemplateCode\n          } \n        });\n      }\n    } else {\n      // Validate execution data\n      if (!executionData.startDateTime) {\n        toast({\n          title: \"Validation Error\",\n          description: \"Start Date/Time is required\",\n          variant: \"destructive\"\n        });\n        return;\n      }\n      if (!executionData.completionDateTime) {\n        toast({\n          title: \"Validation Error\",\n          description: \"Completion Date/Time is required\",\n          variant: \"destructive\"\n        });\n        return;\n      }\n      if (!executionData.assignedTo) {\n        toast({\n          title: \"Validation Error\",\n          description: \"Assigned To is required\",\n          variant: \"destructive\"\n        });\n        return;\n      }\n      if (!executionData.performedBy) {\n        toast({\n          title: \"Validation Error\",\n          description: \"Performed By is required\",\n          variant: \"destructive\"\n        });\n        return;\n      }\n      if (templateData.maintenanceBasis === \"Running Hours\") {\n        if (!executionData.previousReading || !executionData.currentReading) {\n          toast({\n            title: \"Validation Error\",\n            description: \"Previous and Current readings are required for Running Hours based WOs\",\n            variant: \"destructive\"\n          });\n          return;\n        }\n      }\n\n      if (onSubmit) {\n        const workOrderId = workOrder?.id || `new-${Date.now()}`;\n        const executionRecord = {\n          ...templateData,\n          ...executionData,\n          woExecutionId: executionData.woExecutionId || generateWOExecutionId(),\n          templateCode: templateData.woTemplateCode || workOrder?.templateCode,\n          submittedDate: new Date().toISOString().split('T')[0]\n        };\n        onSubmit(workOrderId, { type: 'execution', data: executionRecord });\n        \n        toast({\n          title: \"Success\",\n          description: \"Work Order submitted for approval\",\n        });\n      }\n    }\n    onClose();\n  };\n\n  const handleApprove = () => {\n    if (window.confirm(\"Approve this work completion?\")) {\n      if (onApprove) {\n        onApprove(workOrder?.executionId || workOrder?.id, \"\");\n      }\n      \n      toast({\n        title: \"Success\",\n        description: \"Work Order approved.\"\n      });\n      \n      onClose();\n    }\n  };\n\n  const handleReject = () => {\n    if (!rejectionComments.trim()) {\n      toast({\n        title: \"Error\",\n        description: \"Please enter rejection comments.\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n\n    if (onReject) {\n      onReject(workOrder?.executionId || workOrder?.id, rejectionComments);\n    }\n    \n    toast({\n      title: \"Success\",\n      description: \"Work Order rejected.\"\n    });\n    \n    onClose();\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"w-[80vw] max-w-none h-[90vh] flex flex-col\">\n        <DialogHeader className=\"pb-4 pr-12\">\n          <div className=\"flex items-center justify-between\">\n            <DialogTitle>\n              {isPreviewMode ? \"Preview Change Request - Work Order Form\" : \"Work Order Form\"}\n            </DialogTitle>\n            <div className=\"flex items-center gap-2\">\n              {activeSection === 'partA' && (\n                <Button \n                  variant=\"outline\" \n                  size=\"sm\"\n                  onClick={() => setIsWorkInstructionsOpen(true)}\n                >\n                  <FileText className=\"h-4 w-4 mr-1\" />\n                  Work Instructions\n                </Button>\n              )}\n              {!isModifyMode && (\n                <>\n                  <Button \n                    size=\"sm\" \n                    className=\"bg-[#52baf3] hover:bg-[#4aa3d9] text-white\"\n                    onClick={handleSubmit}\n                  >\n                    Save\n                  </Button>\n                  <Button variant=\"outline\" size=\"sm\" onClick={onClose}>\n                    <ArrowLeft className=\"h-4 w-4 mr-1\" />\n                    Back\n                  </Button>\n                </>\n              )}\n            </div>\n          </div>\n          \n          {/* Preview Mode Banner */}\n          {isPreviewMode && changeRequestData && (\n            <div className=\"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-pulse\"></div>\n                <div className=\"flex-1\">\n                  <h4 className=\"font-medium text-blue-900 text-sm\">Viewing Change Request Preview</h4>\n                  <p className=\"text-xs text-blue-700\">\n                    {changeRequestData.title} - Changed fields are highlighted in <span className=\"text-red-600 font-medium\">red</span>\n                  </p>\n                </div>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => setLocation('/pms/modify-pms')}\n                  className=\"text-blue-700 border-blue-300 text-xs px-2 py-1 h-7\"\n                >\n                  <ArrowLeft className=\"w-3 h-3 mr-1\" />\n                  Back\n                </Button>\n              </div>\n            </div>\n          )}\n        </DialogHeader>\n\n        <div className=\"flex flex-1 overflow-hidden\">\n          {/* Left Sidebar - Navigation */}\n          <div className=\"w-72 bg-gray-50 border-r border-gray-200 p-4\">\n            <div className=\"space-y-2\">\n              <div \n                className={`flex items-center gap-2 p-3 rounded cursor-pointer ${\n                  activeSection === 'partA' ? 'bg-[#16569e] text-white' : 'bg-transparent text-[#8a8a8a] hover:bg-gray-100'\n                }`}\n                onClick={() => selectSection('partA')}\n              >\n                <div className={`w-6 h-6 rounded-full flex items-center justify-center text-sm font-semibold ${\n                  activeSection === 'partA' ? 'bg-white text-[#52baf3]' : 'bg-gray-300 text-white'\n                }`}>\n                  A\n                </div>\n                <span className=\"font-medium\">Work Order Details</span>\n              </div>\n              <div \n                className={`flex items-center gap-2 p-3 rounded cursor-pointer ${\n                  activeSection === 'partB' ? 'bg-[#16569e] text-white' : 'bg-transparent text-[#8a8a8a] hover:bg-gray-100'\n                }`}\n                onClick={() => selectSection('partB')}\n              >\n                <div className={`w-6 h-6 rounded-full flex items-center justify-center text-sm font-semibold ${\n                  activeSection === 'partB' ? 'bg-white text-[#52baf3]' : 'bg-gray-300 text-white'\n                }`}>\n                  B\n                </div>\n                <span className=\"font-medium\">Work Completion Record</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Right Content Area */}\n          <div className=\"flex-1 overflow-auto p-6\">\n            {/* Part A - Work Order Details (Template) */}\n            {activeSection === 'partA' && (\n              <div className=\"border border-gray-200 rounded-lg mb-6\">\n                <div className=\"bg-gray-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between\">\n                  <h3 className=\"text-lg font-semibold text-gray-900\">Part A - Work Order Details</h3>\n                </div>\n\n                <div className=\"p-6\">\n                  {/* Header Section */}\n                  <div className=\"mb-6 p-4 bg-gray-50 rounded-lg\">\n                    <div className=\"grid grid-cols-3 gap-4\">\n                      <div className=\"space-y-2\">\n                        <Label className=\"text-sm text-[#8798ad]\">WO Title *</Label>\n                        <ModifyFieldWrapper\n                          originalValue={workOrder?.jobTitle || \"\"}\n                          currentValue={templateData.woTitle}\n                          fieldName=\"woTitle\"\n                          isModifyMode={isModifyMode}\n                          onFieldChange={trackFieldChange}\n                        >\n                          <Input \n                            value={templateData.woTitle} \n                            onChange={(e) => handleTemplateChange('woTitle', e.target.value)}\n                            className=\"text-sm\"\n                            placeholder=\"Enter work order title\"\n                            disabled={isReadOnly}\n                          />\n                        </ModifyFieldWrapper>\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label className=\"text-sm text-[#8798ad]\">Component</Label>\n                        <div className=\"text-sm text-gray-900 p-2 bg-gray-100 rounded\">{templateData.component}</div>\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label className=\"text-sm text-[#8798ad]\">Component Code</Label>\n                        <div className=\"text-xs text-gray-500 p-2 bg-gray-100 rounded\">{templateData.componentCode}</div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* A1. Work Order Information */}\n                  <div className=\"border border-gray-200 rounded-lg p-4 mb-6\">\n                    <h4 className=\"text-md font-medium mb-4\" style={{ color: '#16569e' }}>A1. Work Order Information</h4>\n                    \n                    <div className=\"grid grid-cols-3 gap-6\">\n                      {/* Row 1 - Maintenance Basis */}\n                      <div className=\"space-y-2\">\n                        <Label className=\"text-sm text-[#8798ad]\">Maintenance Basis *</Label>\n                        <ModifyFieldWrapper\n                          originalValue={workOrder?.maintenanceBasis || \"Calendar\"}\n                          currentValue={templateData.maintenanceBasis}\n                          fieldName=\"maintenanceBasis\"\n                          isModifyMode={isModifyMode}\n                          onFieldChange={trackFieldChange}\n                        >\n                          <Select \n                            value={templateData.maintenanceBasis} \n                            onValueChange={(value) => handleTemplateChange('maintenanceBasis', value)}\n                            disabled={isReadOnly}\n                          >\n                            <SelectTrigger className=\"text-sm\">\n                              <SelectValue />\n                            </SelectTrigger>\n                            <SelectContent>\n                              <SelectItem value=\"Calendar\">Calendar</SelectItem>\n                              <SelectItem value=\"Running Hours\">Running Hours</SelectItem>\n                            </SelectContent>\n                          </Select>\n                        </ModifyFieldWrapper>\n                      </div>\n                      \n                      {/* Frequency Fields */}\n                      <div className=\"space-y-2\">\n                        <Label className=\"text-sm text-[#8798ad]\">\n                          {templateData.maintenanceBasis === \"Calendar\" ? \"Every *\" : \"Every (Hours) *\"}\n                        </Label>\n                        <ModifyFieldWrapper\n                          originalValue={workOrder?.frequencyValue || \"\"}\n                          currentValue={templateData.frequencyValue}\n                          fieldName=\"frequencyValue\"\n                          isModifyMode={isModifyMode}\n                          onFieldChange={trackFieldChange}\n                        >\n                          <Input \n                            type=\"number\"\n                            value={isPreviewMode && hasPreviewChange('frequencyValue') ? getPreviewValue('frequencyValue') : templateData.frequencyValue} \n                            onChange={(e) => handleTemplateChange('frequencyValue', e.target.value)}\n                            className={`text-sm ${\n                              hasPreviewChange('frequencyValue') ? 'text-red-600 border-red-300 bg-red-50' : ''\n                            }`}\n                            placeholder={templateData.maintenanceBasis === \"Running Hours\" ? \"e.g., 1000\" : \"\"}\n                            disabled={isReadOnly || isPreviewMode}\n                          />\n                        </ModifyFieldWrapper>\n                      </div>\n                      \n                      {templateData.maintenanceBasis === \"Calendar\" && (\n                        <div className=\"space-y-2\">\n                          <Label className=\"text-sm text-[#8798ad]\">Unit *</Label>\n                          <ModifyFieldWrapper\n                            originalValue={workOrder?.frequencyUnit || \"Months\"}\n                            currentValue={templateData.frequencyUnit}\n                            fieldName=\"frequencyUnit\"\n                            isModifyMode={isModifyMode}\n                            onFieldChange={trackFieldChange}\n                          >\n                            <Select \n                              value={templateData.frequencyUnit} \n                              onValueChange={(value) => handleTemplateChange('frequencyUnit', value)}\n                              disabled={isReadOnly}\n                            >\n                              <SelectTrigger className=\"text-sm\">\n                                <SelectValue />\n                              </SelectTrigger>\n                              <SelectContent>\n                                <SelectItem value=\"Days\">Days</SelectItem>\n                                <SelectItem value=\"Weeks\">Weeks</SelectItem>\n                                <SelectItem value=\"Months\">Months</SelectItem>\n                                <SelectItem value=\"Years\">Years</SelectItem>\n                              </SelectContent>\n                            </Select>\n                          </ModifyFieldWrapper>\n                        </div>\n                      )}\n\n                      {/* Row 2 */}\n                      <div className=\"space-y-2\">\n                        <Label className=\"text-sm text-[#8798ad]\">Task Type *</Label>\n                        <ModifyFieldWrapper\n                          originalValue={workOrder?.taskType || \"Inspection\"}\n                          currentValue={templateData.taskType}\n                          fieldName=\"taskType\"\n                          isModifyMode={isModifyMode}\n                          onFieldChange={trackFieldChange}\n                        >\n                          <Select \n                            value={templateData.taskType} \n                            onValueChange={(value) => handleTemplateChange('taskType', value)}\n                            disabled={isReadOnly}\n                          >\n                            <SelectTrigger className=\"text-sm\">\n                              <SelectValue />\n                            </SelectTrigger>\n                            <SelectContent>\n                              <SelectItem value=\"Inspection\">Inspection</SelectItem>\n                              <SelectItem value=\"Overhaul\">Overhaul</SelectItem>\n                              <SelectItem value=\"Service\">Service</SelectItem>\n                              <SelectItem value=\"Testing\">Testing</SelectItem>\n                            </SelectContent>\n                          </Select>\n                        </ModifyFieldWrapper>\n                      </div>\n                      \n                      <div className=\"space-y-2\">\n                        <Label className=\"text-sm text-[#8798ad]\">Assigned To *</Label>\n                        <ModifyFieldWrapper\n                          originalValue={workOrder?.assignedTo || \"\"}\n                          currentValue={templateData.assignedTo}\n                          fieldName=\"assignedTo\"\n                          isModifyMode={isModifyMode}\n                          onFieldChange={trackFieldChange}\n                        >\n                          <Select \n                            value={templateData.assignedTo} \n                            onValueChange={(value) => handleTemplateChange('assignedTo', value)}\n                            disabled={isReadOnly}\n                          >\n                            <SelectTrigger className=\"text-sm\">\n                              <SelectValue placeholder=\"Select rank\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                              {ranks.map(rank => (\n                                <SelectItem key={rank} value={rank}>{rank}</SelectItem>\n                              ))}\n                            </SelectContent>\n                          </Select>\n                        </ModifyFieldWrapper>\n                      </div>\n                      \n                      <div className=\"space-y-2\">\n                        <Label className=\"text-sm text-[#8798ad]\">Approver</Label>\n                        <Select value={templateData.approver} onValueChange={(value) => handleTemplateChange('approver', value)}>\n                          <SelectTrigger className=\"text-sm\">\n                            <SelectValue placeholder=\"Select rank (optional)\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            {ranks.map(rank => (\n                              <SelectItem key={rank} value={rank}>{rank}</SelectItem>\n                            ))}\n                          </SelectContent>\n                        </Select>\n                      </div>\n\n                      {/* Row 3 */}\n                      <div className=\"space-y-2\">\n                        <Label className=\"text-sm text-[#8798ad]\">Job Priority</Label>\n                        <Select value={templateData.jobPriority} onValueChange={(value) => handleTemplateChange('jobPriority', value)}>\n                          <SelectTrigger className=\"text-sm\">\n                            <SelectValue />\n                          </SelectTrigger>\n                          <SelectContent>\n                            <SelectItem value=\"Low\">Low</SelectItem>\n                            <SelectItem value=\"Medium\">Medium</SelectItem>\n                            <SelectItem value=\"High\">High</SelectItem>\n                          </SelectContent>\n                        </Select>\n                      </div>\n                      \n                      <div className=\"space-y-2\">\n                        <Label className=\"text-sm text-[#8798ad]\">Class Related</Label>\n                        <Select value={templateData.classRelated} onValueChange={(value) => handleTemplateChange('classRelated', value)}>\n                          <SelectTrigger className=\"text-sm\">\n                            <SelectValue />\n                          </SelectTrigger>\n                          <SelectContent>\n                            <SelectItem value=\"Yes\">Yes</SelectItem>\n                            <SelectItem value=\"No\">No</SelectItem>\n                          </SelectContent>\n                        </Select>\n                      </div>\n                      \n                      <div className=\"space-y-2\">\n                        <Label className=\"text-sm text-[#8798ad]\">\n                          {templateData.maintenanceBasis === \"Calendar\" ? \"Next Due Date\" : \"Next Due Reading\"}\n                        </Label>\n                        <div className=\"text-sm text-gray-900 p-2 bg-gray-100 rounded\">\n                          {templateData.maintenanceBasis === \"Calendar\" \n                            ? (templateData.nextDueDate || \"Calculated on save\")\n                            : (templateData.nextDueReading || \"Calculated on save\")}\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Brief Work Description */}\n                    <div className=\"mt-6\">\n                      <Label className=\"text-sm text-[#8798ad]\">Brief Work Description</Label>\n                      <ModifyFieldWrapper\n                        originalValue={workOrder?.briefWorkDescription || \"\"}\n                        currentValue={templateData.briefWorkDescription}\n                        fieldName=\"briefWorkDescription\"\n                        isModifyMode={isModifyMode}\n                        onFieldChange={trackFieldChange}\n                      >\n                        <Textarea \n                          value={templateData.briefWorkDescription} \n                          onChange={(e) => handleTemplateChange('briefWorkDescription', e.target.value)}\n                          className=\"mt-2 text-sm\"\n                          rows={3}\n                          placeholder=\"Enter work description...\"\n                          disabled={isReadOnly}\n                        />\n                      </ModifyFieldWrapper>\n                    </div>\n                  </div>\n\n                  {/* A2. Required Spare Parts */}\n                  <div className=\"border border-gray-200 rounded-lg p-4 mb-6\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <h4 className=\"text-md font-medium\" style={{ color: '#16569e' }}>A2. Required Spare Parts</h4>\n                      <button className=\"text-sm text-blue-600 hover:text-blue-800\">+ Add Spare Part</button>\n                    </div>\n                    \n                    <div className=\"border border-gray-200 rounded\">\n                      <div className=\"bg-gray-50 px-4 py-3 border-b border-gray-200\">\n                        <div className=\"grid grid-cols-6 gap-4 text-sm font-medium text-gray-700\">\n                          <div>Part No</div>\n                          <div>Description</div>\n                          <div>Quantity Required</div>\n                          <div>ROB</div>\n                          <div>Status</div>\n                          <div></div>\n                        </div>\n                      </div>\n                      <div className=\"divide-y divide-gray-200\">\n                        <div className=\"px-4 py-3\">\n                          <div className=\"grid grid-cols-6 gap-4 text-sm\">\n                            <div className=\"text-gray-900\">SP-001</div>\n                            <div className=\"text-gray-900\">O-Ring Seal</div>\n                            <div className=\"text-gray-900\">2</div>\n                            <div className=\"text-gray-900\">5</div>\n                            <div>\n                              <span className=\"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded\">\n                                Available\n                              </span>\n                            </div>\n                            <div></div>\n                          </div>\n                        </div>\n                        <div className=\"px-4 py-3\">\n                          <div className=\"grid grid-cols-6 gap-4 text-sm\">\n                            <div className=\"text-gray-900\">SP-002</div>\n                            <div className=\"text-gray-900\">Filter Element</div>\n                            <div className=\"text-gray-900\">1</div>\n                            <div className=\"text-gray-900\">0</div>\n                            <div>\n                              <span className=\"inline-flex px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded\">\n                                Order Required\n                              </span>\n                            </div>\n                            <div></div>\n                          </div>\n                        </div>\n                        <div className=\"px-4 py-3\">\n                          <div className=\"grid grid-cols-6 gap-4 text-sm\">\n                            <div className=\"text-gray-900\">SP-003</div>\n                            <div className=\"text-gray-900\">Bearing</div>\n                            <div className=\"text-gray-900\">2</div>\n                            <div className=\"text-gray-900\">2</div>\n                            <div>\n                              <span className=\"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded\">\n                                Available\n                              </span>\n                            </div>\n                            <div></div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* A3. Required Tools & Equipment */}\n                  <div className=\"border border-gray-200 rounded-lg p-4 mb-6\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <h4 className=\"text-md font-medium\" style={{ color: '#16569e' }}>A3. Required Tools & Equipment</h4>\n                      <button className=\"text-sm text-blue-600 hover:text-blue-800\">+ Add Tool / Eqpt...</button>\n                    </div>\n                    \n                    <div className=\"border border-gray-200 rounded\">\n                      <div className=\"bg-gray-50 px-4 py-3 border-b border-gray-200\">\n                        <div className=\"grid grid-cols-5 gap-4 text-sm font-medium text-gray-700\">\n                          <div>Tool / Equipment</div>\n                          <div>Quantity Required</div>\n                          <div>Current ROB</div>\n                          <div>Status</div>\n                          <div></div>\n                        </div>\n                      </div>\n                      <div className=\"divide-y divide-gray-200\">\n                        <div className=\"px-4 py-3\">\n                          <div className=\"grid grid-cols-5 gap-4 text-sm\">\n                            <div className=\"text-gray-900\">Hydraulic Jack</div>\n                            <div className=\"text-gray-900\">2</div>\n                            <div className=\"text-gray-900\">5</div>\n                            <div>\n                              <span className=\"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded\">\n                                Available\n                              </span>\n                            </div>\n                            <div></div>\n                          </div>\n                        </div>\n                        <div className=\"px-4 py-3\">\n                          <div className=\"grid grid-cols-5 gap-4 text-sm\">\n                            <div className=\"text-gray-900\">Bearing Puller Set</div>\n                            <div className=\"text-gray-900\">1</div>\n                            <div className=\"text-gray-900\">0</div>\n                            <div>\n                              <span className=\"inline-flex px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded\">\n                                Order Required\n                              </span>\n                            </div>\n                            <div></div>\n                          </div>\n                        </div>\n                        <div className=\"px-4 py-3\">\n                          <div className=\"grid grid-cols-5 gap-4 text-sm\">\n                            <div className=\"text-gray-900\">Torque Wrench</div>\n                            <div className=\"text-gray-900\">2</div>\n                            <div className=\"text-gray-900\">2</div>\n                            <div>\n                              <span className=\"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded\">\n                                Available\n                              </span>\n                            </div>\n                            <div></div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* A4. Safety Requirements */}\n                  <div className=\"border border-gray-200 rounded-lg p-4 mb-6\">\n                    <h4 className=\"text-md font-medium mb-4\" style={{ color: '#16569e' }}>A4. Safety Requirements</h4>\n                    \n                    <div className=\"space-y-3\">\n                      <div className=\"grid grid-cols-2 gap-6\">\n                        <div className=\"space-y-2\">\n                          <Label className=\"text-sm text-[#8798ad]\">PPE Requirements:</Label>\n                          <div className=\"text-sm text-gray-900\">Leather Gloves, Goggles, Safety Helmet</div>\n                        </div>\n                        <div></div>\n                      </div>\n                      \n                      <div className=\"grid grid-cols-2 gap-6\">\n                        <div className=\"space-y-2\">\n                          <Label className=\"text-sm text-[#8798ad]\">Permit Requirements:</Label>\n                          <div className=\"text-sm text-gray-900\">Enclosed Space Entry Permit</div>\n                        </div>\n                        <div></div>\n                      </div>\n                      \n                      <div className=\"grid grid-cols-2 gap-6\">\n                        <div className=\"space-y-2\">\n                          <Label className=\"text-sm text-[#8798ad]\">Other Safety Requirements:</Label>\n                          <div className=\"text-sm text-gray-900\">Free Text</div>\n                        </div>\n                        <div></div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* A5. Work History (Executions for this template) */}\n                  <div className=\"border border-gray-200 rounded-lg p-4 mb-6\">\n                    <h4 className=\"text-md font-medium mb-4\" style={{ color: '#16569e' }}>A5. Work History</h4>\n                    \n                    <div className=\"border border-gray-200 rounded\">\n                      <div className=\"bg-gray-50 px-4 py-3 border-b border-gray-200\">\n                        <div className=\"grid grid-cols-7 gap-4 text-sm font-medium text-gray-700\">\n                          <div>WO Execution ID</div>\n                          <div>Assigned To</div>\n                          <div>Performed By</div>\n                          <div>Total Time (Hrs)</div>\n                          <div>{templateData.maintenanceBasis === \"Calendar\" ? \"Due Date\" : \"Due Reading\"}</div>\n                          <div>Completion Date</div>\n                          <div>Status</div>\n                        </div>\n                      </div>\n                      <div className=\"divide-y divide-gray-200\">\n                        {templateData.workHistory && templateData.workHistory.length > 0 ? (\n                          templateData.workHistory.map((execution: any, index: number) => (\n                            <div key={index} className=\"px-4 py-3 cursor-pointer hover:bg-gray-50\" onClick={() => {\n                              // Open Part B with this execution\n                              setExecutionData(execution);\n                              setActiveSection('partB');\n                            }}>\n                              <div className=\"grid grid-cols-7 gap-4 text-sm items-center\">\n                                <div className=\"text-gray-900\">{execution.woExecutionId}</div>\n                                <div className=\"text-gray-900\">{execution.assignedTo}</div>\n                                <div className=\"text-gray-900\">{execution.performedBy}</div>\n                                <div className=\"text-gray-900\">{execution.totalTimeHours}</div>\n                                <div className=\"text-gray-900\">{execution.dueDate || execution.dueReading}</div>\n                                <div className=\"text-gray-900\">{execution.completionDate}</div>\n                                <div className=\"flex items-center gap-2\">\n                                  <span className=\"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded\">\n                                    {execution.status}\n                                  </span>\n                                </div>\n                              </div>\n                            </div>\n                          ))\n                        ) : (\n                          <div className=\"px-4 py-6 text-center text-gray-500 text-sm\">\n                            No work history for this template yet\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                \n                {/* Part A Action Buttons - Show for modify mode */}\n                {isModifyMode && (\n                  <div className=\"border-t border-gray-200 px-6 py-4\">\n                    <div className=\"flex justify-end\">\n                      <Button \n                        size=\"lg\" \n                        className=\"bg-[#52BAF3] hover:bg-[#40a8e0] text-white px-8 py-3 text-base font-medium\"\n                        onClick={async () => {\n                          if (Object.keys(fieldChanges).length === 0) {\n                            toast({\n                              title: \"No changes to submit\",\n                              description: \"Please make some changes before submitting a change request.\",\n                              variant: \"destructive\"\n                            });\n                            return;\n                          }\n                          \n                          try {\n                            // Convert field changes to proposed changes format\n                            const proposedChanges = Object.entries(fieldChanges).map(([fieldName, change]) => ({\n                              field: fieldName,\n                              oldValue: change.originalValue,\n                              newValue: change.currentValue\n                            }));\n\n                            // Create change request payload matching the schema\n                            const changeRequest = {\n                              vesselId: 'V001',\n                              category: 'workOrders',\n                              title: `Modify Work Order: ${workOrder?.jobTitle || workOrder?.woTitle || 'Unknown'}`,\n                              reason: 'Work order modification request',\n                              requestedByUserId: 'current_user',\n                              targetType: 'workOrder',\n                              targetId: workOrder?.id,\n                              snapshotBeforeJson: {\n                                displayKey: workOrder?.workOrderNo || workOrder?.templateCode,\n                                displayName: workOrder?.jobTitle || workOrder?.woTitle,\n                                displayPath: `${workOrder?.componentCode || ''} ${workOrder?.jobTitle || workOrder?.woTitle || ''}`,\n                                fields: workOrder\n                              },\n                              proposedChangesJson: proposedChanges,\n                              status: 'submitted'\n                            };\n\n                            console.log(\"Submitting change request:\", changeRequest);\n                            \n                            const response = await fetch('/api/change-requests', {\n                              method: 'POST',\n                              headers: {\n                                'Content-Type': 'application/json',\n                              },\n                              body: JSON.stringify(changeRequest),\n                            });\n\n                            if (response.ok) {\n                              toast({\n                                title: \"Change Request Submitted\",\n                                description: `Your change request with ${Object.keys(fieldChanges).length} modifications has been submitted for approval.`,\n                              });\n                              onClose();\n                              window.location.href = '/pms/modify-pms';\n                            } else {\n                              const errorData = await response.json();\n                              throw new Error(errorData.error || 'Failed to submit change request');\n                            }\n                          } catch (error) {\n                            console.error('Error submitting change request:', error);\n                            toast({\n                              title: \"Submission failed\",\n                              description: (error as Error).message || \"Failed to submit change request. Please try again.\",\n                              variant: \"destructive\"\n                            });\n                          }\n                        }}\n                        disabled={Object.keys(fieldChanges).length === 0}\n                      >\n                        Submit Change Request\n                      </Button>\n                    </div>\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Part B - Work Completion Record (EXECUTION) */}\n            {activeSection === 'partB' && (\n              <div className=\"border border-gray-200 rounded-lg mb-6\">\n                <div className=\"bg-gray-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between\">\n                  <h3 className=\"text-lg font-semibold text-[#16569e]\">Part B - Work Completion Record (EXECUTION)</h3>\n                  <p className=\"text-sm text-[#52baf3]\">Record a single performance of the template</p>\n                </div>\n\n                <div className=\"p-6\">\n                  {/* WO Execution ID Header */}\n                  <div className=\"mb-6 p-4 bg-gray-50 rounded-lg\">\n                    <Label className=\"text-sm text-[#8798ad]\">WO Execution ID</Label>\n                    <div className=\"text-sm font-medium text-gray-900 p-2 bg-gray-100 rounded inline-block\">\n                      {executionData.woExecutionId || generateWOExecutionId()}\n                    </div>\n                  </div>\n                  {/* B1. Risk Assessment, Checklists & Records */}\n                  <div className=\"border border-gray-200 rounded-lg p-4 mb-6\">\n                    <h4 className=\"text-md font-medium mb-4\" style={{ color: '#16569e' }}>B1. Risk Assessment, Checklists & Records</h4>\n                    \n                    <div className=\"space-y-4\">\n                      {/* B1.1 Risk Assessment Completed / Reviewed */}\n                      <div className=\"grid grid-cols-12 gap-4 items-center\">\n                        <div className=\"col-span-6\">\n                          <Label className=\"text-sm text-gray-900\">B1.1 Risk Assessment Completed / Reviewed:</Label>\n                        </div>\n                        <div className=\"col-span-3 flex items-center gap-4\">\n                          <label className=\"flex items-center gap-2\">\n                            <input type=\"radio\" name=\"riskAssessment\" value=\"yes\" defaultChecked className=\"text-blue-600\" />\n                            <span className=\"text-sm\">Yes</span>\n                          </label>\n                          <label className=\"flex items-center gap-2\">\n                            <input type=\"radio\" name=\"riskAssessment\" value=\"no\" className=\"text-blue-600\" />\n                            <span className=\"text-sm\">No</span>\n                          </label>\n                          <label className=\"flex items-center gap-2\">\n                            <input type=\"radio\" name=\"riskAssessment\" value=\"na\" className=\"text-blue-600\" />\n                            <span className=\"text-sm\">NA</span>\n                          </label>\n                        </div>\n                        <div className=\"col-span-3 flex items-center gap-2\">\n                          <Button variant=\"outline\" size=\"sm\" className=\"text-xs\">Upload</Button>\n                          <button className=\"text-gray-400 hover:text-gray-600\">\n                            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                              <path d=\"M10 12a2 2 0 100-4 2 2 0 000 4z\"/>\n                              <path fillRule=\"evenodd\" d=\"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z\" clipRule=\"evenodd\"/>\n                            </svg>\n                          </button>\n                          <button className=\"text-gray-400 hover:text-gray-600\">\n                            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                              <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z\" clipRule=\"evenodd\"/>\n                              <path fillRule=\"evenodd\" d=\"M4 5a2 2 0 012-2v1a1 1 0 001 1h8a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zM8 8a1 1 0 012 0v3a1 1 0 11-2 0V8zm4 0a1 1 0 10-2 0v3a1 1 0 102 0V8z\" clipRule=\"evenodd\"/>\n                            </svg>\n                          </button>\n                        </div>\n                      </div>\n\n                      {/* B1.2 Safety Checklists Completed */}\n                      <div className=\"grid grid-cols-12 gap-4 items-center\">\n                        <div className=\"col-span-6\">\n                          <Label className=\"text-sm text-gray-900\">B1.2 Safety Checklists Completed (As applicable):</Label>\n                        </div>\n                        <div className=\"col-span-3 flex items-center gap-4\">\n                          <label className=\"flex items-center gap-2\">\n                            <input type=\"radio\" name=\"safetyChecklists\" value=\"yes\" defaultChecked className=\"text-blue-600\" />\n                            <span className=\"text-sm\">Yes</span>\n                          </label>\n                          <label className=\"flex items-center gap-2\">\n                            <input type=\"radio\" name=\"safetyChecklists\" value=\"no\" className=\"text-blue-600\" />\n                            <span className=\"text-sm\">No</span>\n                          </label>\n                          <label className=\"flex items-center gap-2\">\n                            <input type=\"radio\" name=\"safetyChecklists\" value=\"na\" className=\"text-blue-600\" />\n                            <span className=\"text-sm\">NA</span>\n                          </label>\n                        </div>\n                        <div className=\"col-span-3 flex items-center gap-2\">\n                          <Button variant=\"outline\" size=\"sm\" className=\"text-xs\">Upload</Button>\n                          <button className=\"text-gray-400 hover:text-gray-600\">\n                            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                              <path d=\"M10 12a2 2 0 100-4 2 2 0 000 4z\"/>\n                              <path fillRule=\"evenodd\" d=\"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z\" clipRule=\"evenodd\"/>\n                            </svg>\n                          </button>\n                          <button className=\"text-gray-400 hover:text-gray-600\">\n                            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                              <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z\" clipRule=\"evenodd\"/>\n                              <path fillRule=\"evenodd\" d=\"M4 5a2 2 0 012-2v1a1 1 0 001 1h8a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zM8 8a1 1 0 012 0v3a1 1 0 11-2 0V8zm4 0a1 1 0 10-2 0v3a1 1 0 102 0V8z\" clipRule=\"evenodd\"/>\n                            </svg>\n                          </button>\n                        </div>\n                      </div>\n\n                      {/* B1.3 Operational Forms Completed */}\n                      <div className=\"grid grid-cols-12 gap-4 items-center\">\n                        <div className=\"col-span-6\">\n                          <Label className=\"text-sm text-gray-900\">B1.3 Operational Forms Completed (As applicable):</Label>\n                        </div>\n                        <div className=\"col-span-3 flex items-center gap-4\">\n                          <label className=\"flex items-center gap-2\">\n                            <input type=\"radio\" name=\"operationalForms\" value=\"yes\" checked={executionData.operationalForms === \"Yes\"} onChange={() => handleExecutionChange('operationalForms', 'Yes')} className=\"text-blue-600\" />\n                            <span className=\"text-sm\">Yes</span>\n                          </label>\n                          <label className=\"flex items-center gap-2\">\n                            <input type=\"radio\" name=\"operationalForms\" value=\"no\" className=\"text-blue-600\" />\n                            <span className=\"text-sm\">No</span>\n                          </label>\n                          <label className=\"flex items-center gap-2\">\n                            <input type=\"radio\" name=\"operationalForms\" value=\"na\" className=\"text-blue-600\" />\n                            <span className=\"text-sm\">NA</span>\n                          </label>\n                        </div>\n                        <div className=\"col-span-3 flex items-center gap-2\">\n                          <Button variant=\"outline\" size=\"sm\" className=\"text-xs\">Upload</Button>\n                          <button className=\"text-gray-400 hover:text-gray-600\">\n                            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                              <path d=\"M10 12a2 2 0 100-4 2 2 0 000 4z\"/>\n                              <path fillRule=\"evenodd\" d=\"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z\" clipRule=\"evenodd\"/>\n                            </svg>\n                          </button>\n                          <button className=\"text-gray-400 hover:text-gray-600\">\n                            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                              <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z\" clipRule=\"evenodd\"/>\n                              <path fillRule=\"evenodd\" d=\"M4 5a2 2 0 012-2v1a1 1 0 001 1h8a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zM8 8a1 1 0 012 0v3a1 1 0 11-2 0V8zm4 0a1 1 0 10-2 0v3a1 1 0 102 0V8z\" clipRule=\"evenodd\"/>\n                            </svg>\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* B2. Details of Work Carried Out */}\n                  <div className=\"border border-gray-200 rounded-lg p-4 mb-6\">\n                    <h4 className=\"text-md font-medium mb-4\" style={{ color: '#16569e' }}>B2. Details of Work Carried Out</h4>\n                    \n                    <div className=\"mb-6\">\n                      <h5 className=\"text-sm font-medium text-gray-900 mb-4\">B2.1 Work Duration:</h5>\n                      \n                      <div className=\"grid grid-cols-3 gap-6 mb-4\">\n                        {/* Row 1 */}\n                        <div className=\"space-y-2\">\n                          <Label className=\"text-sm text-[#8798ad]\">Start Date & Time *</Label>\n                          <Input \n                            type=\"datetime-local\" \n                            value={executionData.startDateTime}\n                            onChange={(e) => handleExecutionChange('startDateTime', e.target.value)}\n                            className=\"w-full\" \n                          />\n                        </div>\n                        <div className=\"space-y-2\">\n                          <Label className=\"text-sm text-[#8798ad]\">Completion Date & Time *</Label>\n                          <Input \n                            type=\"datetime-local\" \n                            value={executionData.completionDateTime}\n                            onChange={(e) => handleExecutionChange('completionDateTime', e.target.value)}\n                            className=\"w-full\" \n                          />\n                        </div>\n                        <div className=\"space-y-2\">\n                          <Label className=\"text-sm text-[#8798ad]\">Assigned To *</Label>\n                          <Select value={executionData.assignedTo} onValueChange={(value) => handleExecutionChange('assignedTo', value)}>\n                            <SelectTrigger className=\"w-full\">\n                              <SelectValue placeholder=\"Select rank\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                              {ranks.map(rank => (\n                                <SelectItem key={rank} value={rank}>{rank}</SelectItem>\n                              ))}\n                            </SelectContent>\n                          </Select>\n                        </div>\n                      </div>\n                      \n                      <div className=\"grid grid-cols-3 gap-6 mb-4\">\n                        {/* Row 2 */}\n                        <div className=\"space-y-2\">\n                          <Label className=\"text-sm text-[#8798ad]\">Performed by *</Label>\n                          <Select value={executionData.performedBy} onValueChange={(value) => handleExecutionChange('performedBy', value)}>\n                            <SelectTrigger className=\"w-full\">\n                              <SelectValue placeholder=\"Select rank\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                              {ranks.map(rank => (\n                                <SelectItem key={rank} value={rank}>{rank}</SelectItem>\n                              ))}\n                            </SelectContent>\n                          </Select>\n                        </div>\n                        <div className=\"space-y-2\">\n                          <Label className=\"text-sm text-[#8798ad]\">No of Persons in the team</Label>\n                          <Input \n                            type=\"number\" \n                            value={executionData.noOfPersons}\n                            onChange={(e) => {\n                              handleExecutionChange('noOfPersons', e.target.value);\n                              // Calculate manhours\n                              const persons = parseInt(e.target.value) || 0;\n                              const hours = parseFloat(executionData.totalTimeHours) || 0;\n                              handleExecutionChange('manhours', (persons * hours).toString());\n                            }}\n                            className=\"w-full\" \n                          />\n                        </div>\n                        <div className=\"space-y-2\">\n                          <Label className=\"text-sm text-[#8798ad]\">Total Time Taken (Hours)</Label>\n                          <Input \n                            type=\"number\" \n                            value={executionData.totalTimeHours}\n                            onChange={(e) => {\n                              handleExecutionChange('totalTimeHours', e.target.value);\n                              // Calculate manhours\n                              const persons = parseInt(executionData.noOfPersons) || 0;\n                              const hours = parseFloat(e.target.value) || 0;\n                              handleExecutionChange('manhours', (persons * hours).toString());\n                            }}\n                            className=\"w-full\" \n                          />\n                        </div>\n                      </div>\n                      \n                      <div className=\"grid grid-cols-3 gap-6 mb-6\">\n                        {/* Row 3 */}\n                        <div></div>\n                        <div></div>\n                        <div className=\"space-y-2\">\n                          <Label className=\"text-sm text-[#8798ad]\">Manhours (Auto)</Label>\n                          <div className=\"text-sm text-gray-900 p-2 bg-gray-100 rounded\">\n                            {executionData.manhours || \"0\"}\n                          </div>\n                        </div>\n                      </div>\n                      \n                      {/* Work Carried Out */}\n                      <div className=\"space-y-2 mb-4\">\n                        <div className=\"flex items-center justify-between\">\n                          <Label className=\"text-sm text-[#8798ad]\">Work Carried Out</Label>\n                          <div className=\"flex gap-2\">\n                            <Button\n                              type=\"button\"\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => setShowQuickInputs(!showQuickInputs)}\n                              className=\"text-xs text-[#52BAF3] border-[#52BAF3] hover:bg-blue-50 h-6 px-2\"\n                            >\n                              Quick Input {showQuickInputs ? '' : ''}\n                            </Button>\n                            <Button\n                              type=\"button\"\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={toggleSmartSuggestions}\n                              className=\"text-xs text-[#52BAF3] border-[#52BAF3] hover:bg-blue-50 h-6 px-2\"\n                            >\n                              Smart Suggestions {showSmartSuggestions ? '' : ''}\n                            </Button>\n                          </div>\n                        </div>\n                        \n                        {/* Quick Input Pills */}\n                        {showQuickInputs && (\n                          <div className=\"mb-3 p-3 bg-gray-50 rounded-lg border\">\n                            <p className=\"text-xs text-gray-600 mb-2\">Click to insert common phrases:</p>\n                            <div className=\"flex flex-wrap gap-1\">\n                              {quickAnswers.map((answer, index) => (\n                                <button\n                                  key={index}\n                                  type=\"button\"\n                                  onClick={() => insertQuickText(answer)}\n                                  className=\"inline-flex items-center px-2 py-1 text-xs bg-white border border-gray-300 rounded-full text-gray-700 hover:bg-[#52BAF3] hover:text-white hover:border-[#52BAF3] transition-colors duration-150 cursor-pointer\"\n                                >\n                                  {answer}\n                                </button>\n                              ))}\n                            </div>\n                          </div>\n                        )}\n                        \n                        {/* Smart Suggestions Panel */}\n                        {showSmartSuggestions && (\n                          <div className=\"mb-3 p-3 bg-blue-50 rounded-lg border border-blue-200\">\n                            <p className=\"text-xs text-blue-700 mb-2 font-medium\"> Smart Suggestions (based on work order details):</p>\n                            <div className=\"space-y-2\">\n                              {smartSuggestions.length > 0 ? (\n                                smartSuggestions.map((suggestion, index) => (\n                                  <div \n                                    key={index}\n                                    onClick={() => insertSuggestion(suggestion)}\n                                    className=\"p-2 bg-white border border-blue-200 rounded cursor-pointer hover:bg-blue-100 hover:border-blue-300 transition-colors duration-150\"\n                                    title={suggestion} // Full text on hover\n                                  >\n                                    <p className=\"text-sm text-gray-800 leading-relaxed\">\n                                      {suggestion.length > 140 ? `${suggestion.substring(0, 140)}...` : suggestion}\n                                    </p>\n                                  </div>\n                                ))\n                              ) : (\n                                <div className=\"p-2 text-sm text-gray-500 italic\">\n                                  No smart suggestions for this job yet.\n                                </div>\n                              )}\n                            </div>\n                            {smartSuggestions.length > 0 && (\n                              <p className=\"text-xs text-blue-600 mt-2 italic\"> Click any suggestion to insert at cursor position</p>\n                            )}\n                          </div>\n                        )}\n                        \n                        <Textarea \n                          ref={workCarriedOutRef}\n                          value={executionData.workCarriedOut}\n                          onChange={(e) => handleExecutionChange('workCarriedOut', e.target.value)}\n                          className=\"w-full min-h-[80px]\" \n                          placeholder=\"Describe work carried out...\"\n                        />\n                      </div>\n                      \n                      {/* Job Experience / Notes */}\n                      <div className=\"space-y-2\">\n                        <Label className=\"text-sm text-[#8798ad]\">Job Experience / Notes (to be retained for future)</Label>\n                        <Textarea \n                          value={executionData.jobExperienceNotes}\n                          onChange={(e) => handleExecutionChange('jobExperienceNotes', e.target.value)}\n                          className=\"w-full min-h-[80px]\" \n                          placeholder=\"Enter job experience notes...\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* B3. Running Hours (Conditional - only for Running Hours based WOs) */}\n                  {templateData.maintenanceBasis === \"Running Hours\" && (\n                    <div className=\"border border-gray-200 rounded-lg p-4 mb-6\">\n                      <h4 className=\"text-md font-medium mb-4\" style={{ color: '#16569e' }}>B3. Running Hours</h4>\n                      \n                      <div className=\"grid grid-cols-2 gap-6\">\n                        <div className=\"space-y-2\">\n                          <Label className=\"text-sm text-[#8798ad]\">Previous reading *</Label>\n                          <Input \n                            type=\"number\" \n                            value={executionData.previousReading}\n                            onChange={(e) => handleExecutionChange('previousReading', e.target.value)}\n                            placeholder=\"Enter previous hours reading\"\n                            className=\"w-full\" \n                          />\n                        </div>\n                        <div className=\"space-y-2\">\n                          <Label className=\"text-sm text-[#8798ad]\">Current Reading *</Label>\n                          <Input \n                            type=\"number\" \n                            value={executionData.currentReading}\n                            onChange={(e) => handleExecutionChange('currentReading', e.target.value)}\n                            placeholder=\"Enter current hours reading\"\n                            className=\"w-full\" \n                          />\n                        </div>\n                      </div>\n                    </div>\n                  )}\n\n                  {/* B4. Spare Parts Consumed */}\n                  <div className=\"border border-gray-200 rounded-lg p-4 mb-6\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <h4 className=\"text-md font-medium\" style={{ color: '#16569e' }}>B4. Spare Parts Consumed</h4>\n                      <button className=\"text-sm text-blue-600 hover:text-blue-800\">+ Add Spare Part</button>\n                    </div>\n                    \n                    <div className=\"border border-gray-200 rounded\">\n                      <div className=\"bg-gray-50 px-4 py-3 border-b border-gray-200\">\n                        <div className=\"grid grid-cols-4 gap-4 text-sm font-medium text-gray-700\">\n                          <div>Part No</div>\n                          <div>Description</div>\n                          <div>Quantity Consumed</div>\n                          <div>Comments (if any)</div>\n                        </div>\n                      </div>\n                      <div className=\"divide-y divide-gray-200\">\n                        <div className=\"px-4 py-3\">\n                          <div className=\"grid grid-cols-4 gap-4 text-sm items-center\">\n                            <div className=\"text-gray-900\">SP -001</div>\n                            <div className=\"text-gray-900\">O-Ring Seal</div>\n                            <div>\n                              <Input type=\"text\" className=\"w-full\" defaultValue=\"2\" />\n                            </div>\n                            <div>\n                              <Input type=\"text\" className=\"w-full\" />\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"px-4 py-3\">\n                          <div className=\"grid grid-cols-4 gap-4 text-sm items-center\">\n                            <div className=\"text-gray-900\">SP-002</div>\n                            <div className=\"text-gray-900\">Filter Element</div>\n                            <div>\n                              <Input type=\"text\" className=\"w-full\" defaultValue=\"1\" />\n                            </div>\n                            <div>\n                              <Input type=\"text\" className=\"w-full\" />\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"px-4 py-3\">\n                          <div className=\"grid grid-cols-4 gap-4 text-sm items-center\">\n                            <div className=\"text-gray-900\">SP -003</div>\n                            <div className=\"text-gray-900\">Bearing</div>\n                            <div>\n                              <Input type=\"text\" className=\"w-full\" defaultValue=\"2\" />\n                            </div>\n                            <div>\n                              <Input type=\"text\" className=\"w-full\" />\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Rejection Comments (only show in approval mode) */}\n                  {isApprovalMode && (\n                    <div className=\"border border-gray-200 rounded-lg p-4 mb-6\">\n                      <h4 className=\"text-md font-medium mb-4\" style={{ color: '#16569e' }}>Rejection Comments</h4>\n                      <Textarea\n                        value={rejectionComments}\n                        onChange={(e) => setRejectionComments(e.target.value)}\n                        placeholder=\"Enter rejection comments...\"\n                        className=\"w-full min-h-[80px]\"\n                        disabled={!isApprovalMode}\n                      />\n                    </div>\n                  )}\n\n                  {/* Action Buttons */}\n                  <div className=\"flex justify-end mt-6 gap-4\">\n                    {isApprovalMode ? (\n                      <>\n                        <Button \n                          size=\"lg\" \n                          className=\"bg-green-600 hover:bg-green-700 text-white px-8 py-3 text-base font-medium\"\n                          onClick={handleApprove}\n                        >\n                          Approve\n                        </Button>\n                        <Button \n                          size=\"lg\" \n                          variant=\"destructive\"\n                          className=\"bg-red-600 hover:bg-red-700 text-white px-8 py-3 text-base font-medium\"\n                          onClick={handleReject}\n                        >\n                          Reject\n                        </Button>\n                      </>\n                    ) : isModifyMode ? (\n                      <Button \n                        size=\"lg\" \n                        className=\"bg-[#52BAF3] hover:bg-[#40a8e0] text-white px-8 py-3 text-base font-medium\"\n                        onClick={async () => {\n                          if (Object.keys(fieldChanges).length === 0) {\n                            toast({\n                              title: \"No changes to submit\",\n                              description: \"Please make some changes before submitting a change request.\",\n                              variant: \"destructive\"\n                            });\n                            return;\n                          }\n                          \n                          try {\n                            // Convert field changes to proposed changes format\n                            const proposedChanges = Object.entries(fieldChanges).map(([fieldName, change]) => ({\n                              field: fieldName,\n                              oldValue: change.originalValue,\n                              newValue: change.currentValue\n                            }));\n\n                            // Create change request payload matching the schema\n                            const changeRequest = {\n                              vesselId: 'V001',\n                              category: 'workOrders',\n                              title: `Modify Work Order: ${workOrder?.jobTitle || workOrder?.woTitle || 'Unknown'}`,\n                              reason: 'Work order modification request',\n                              requestedByUserId: 'current_user',\n                              targetType: 'workOrder',\n                              targetId: workOrder?.id,\n                              snapshotBeforeJson: {\n                                displayKey: workOrder?.workOrderNo || workOrder?.templateCode,\n                                displayName: workOrder?.jobTitle || workOrder?.woTitle,\n                                displayPath: `${workOrder?.componentCode || ''} ${workOrder?.jobTitle || workOrder?.woTitle || ''}`,\n                                fields: workOrder\n                              },\n                              proposedChangesJson: proposedChanges,\n                              status: 'submitted'\n                            };\n\n                            console.log(\"Submitting change request:\", changeRequest);\n                            \n                            const response = await fetch('/api/change-requests', {\n                              method: 'POST',\n                              headers: {\n                                'Content-Type': 'application/json',\n                              },\n                              body: JSON.stringify(changeRequest),\n                            });\n\n                            if (response.ok) {\n                              toast({\n                                title: \"Change Request Submitted\",\n                                description: `Your change request with ${Object.keys(fieldChanges).length} modifications has been submitted for approval.`,\n                              });\n                              onClose();\n                              window.location.href = '/pms/modify-pms';\n                            } else {\n                              const errorData = await response.json();\n                              throw new Error(errorData.error || 'Failed to submit change request');\n                            }\n                          } catch (error) {\n                            console.error('Error submitting change request:', error);\n                            toast({\n                              title: \"Submission failed\",\n                              description: (error as Error).message || \"Failed to submit change request. Please try again.\",\n                              variant: \"destructive\"\n                            });\n                          }\n                        }}\n                        disabled={Object.keys(fieldChanges).length === 0}\n                      >\n                        Submit Change Request\n                      </Button>\n                    ) : (\n                      <Button \n                        size=\"lg\" \n                        className=\"bg-green-600 hover:bg-green-700 text-white px-8 py-3 text-base font-medium\"\n                        onClick={handleSubmit}\n                        disabled={isReadOnly && !isApprovalMode}\n                      >\n                        Submit\n                      </Button>\n                    )}\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </DialogContent>\n      \n      {/* Work Instructions Dialog */}\n      <WorkInstructionsDialog \n        isOpen={isWorkInstructionsOpen}\n        onClose={() => setIsWorkInstructionsOpen(false)}\n      />\n    </Dialog>\n  );\n};\n\nexport default WorkOrderForm;"]}