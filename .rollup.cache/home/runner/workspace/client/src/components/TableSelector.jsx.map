{"version":3,"file":"TableSelector.jsx","sourceRoot":"","sources":["TableSelector.tsx"],"names":[],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { Input } from \"@/components/ui/input\";\nimport { Search } from \"lucide-react\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\n\ninterface TableSelectorProps {\n  category: 'work_orders' | 'spares' | 'stores';\n  items: any[];\n  selectedItem: any;\n  onSelect: (item: any) => void;\n  searchQuery: string;\n  onSearchChange: (query: string) => void;\n}\n\nexport function TableSelector({\n  category,\n  items,\n  selectedItem,\n  onSelect,\n  searchQuery,\n  onSearchChange\n}: TableSelectorProps) {\n  const [criticalityFilter, setCriticalityFilter] = useState<string>(\"all\");\n  const [stockFilter, setStockFilter] = useState<string>(\"all\");\n\n  const filterItems = () => {\n    if (!items) return [];\n    \n    let filtered = items;\n    const lowerQuery = searchQuery.toLowerCase();\n\n    // Apply search filter\n    if (searchQuery) {\n      filtered = filtered.filter(item => {\n        if (category === 'work_orders') {\n          return (\n            item.woNo?.toLowerCase().includes(lowerQuery) ||\n            item.jobTitle?.toLowerCase().includes(lowerQuery) ||\n            item.componentName?.toLowerCase().includes(lowerQuery)\n          );\n        } else if (category === 'spares') {\n          return (\n            item.partCode?.toLowerCase().includes(lowerQuery) ||\n            item.partName?.toLowerCase().includes(lowerQuery) ||\n            item.componentName?.toLowerCase().includes(lowerQuery)\n          );\n        } else if (category === 'stores') {\n          return (\n            item.itemCode?.toLowerCase().includes(lowerQuery) ||\n            item.itemName?.toLowerCase().includes(lowerQuery) ||\n            item.storesCategory?.toLowerCase().includes(lowerQuery)\n          );\n        }\n        return false;\n      });\n    }\n\n    // Apply criticality filter for work orders and spares\n    if (criticalityFilter !== 'all' && (category === 'work_orders' || category === 'spares')) {\n      filtered = filtered.filter(item => {\n        if (criticalityFilter === 'critical') {\n          return item.critical === true || item.critical === 'Critical';\n        } else {\n          return item.critical === false || item.critical === 'No';\n        }\n      });\n    }\n\n    // Apply stock filter for spares and stores\n    if (stockFilter !== 'all' && (category === 'spares' || category === 'stores')) {\n      filtered = filtered.filter(item => {\n        const stockStatus = getStockStatus(item.rob, item.min);\n        return stockStatus === stockFilter;\n      });\n    }\n\n    return filtered;\n  };\n\n  const getStockStatus = (rob: number, min: number) => {\n    if (rob <= 0) return 'out';\n    if (rob <= min) return 'minimum';\n    if (rob <= min * 1.5) return 'low';\n    return 'ok';\n  };\n\n  const getStockBadge = (rob: number, min: number) => {\n    const status = getStockStatus(rob, min);\n    switch (status) {\n      case 'out':\n        return <Badge variant=\"destructive\">Out of Stock</Badge>;\n      case 'minimum':\n        return <Badge variant=\"destructive\">Minimum</Badge>;\n      case 'low':\n        return <Badge className=\"bg-orange-500 text-white\">Low</Badge>;\n      case 'ok':\n        return <Badge className=\"bg-green-500 text-white\">OK</Badge>;\n      default:\n        return null;\n    }\n  };\n\n  const filteredItems = filterItems();\n\n  return (\n    <div className=\"h-full flex flex-col\">\n      <div className=\"p-4 border-b space-y-3\">\n        <div className=\"relative\">\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4\" />\n          <Input\n            type=\"text\"\n            placeholder={`Search ${category.replace('_', ' ')}...`}\n            value={searchQuery}\n            onChange={(e) => onSearchChange(e.target.value)}\n            className=\"pl-10\"\n          />\n        </div>\n        \n        <div className=\"flex gap-2\">\n          {(category === 'work_orders' || category === 'spares') && (\n            <Select value={criticalityFilter} onValueChange={setCriticalityFilter}>\n              <SelectTrigger className=\"w-[150px]\">\n                <SelectValue placeholder=\"Criticality\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All</SelectItem>\n                <SelectItem value=\"critical\">Critical</SelectItem>\n                <SelectItem value=\"non-critical\">Non-Critical</SelectItem>\n              </SelectContent>\n            </Select>\n          )}\n          \n          {(category === 'spares' || category === 'stores') && (\n            <Select value={stockFilter} onValueChange={setStockFilter}>\n              <SelectTrigger className=\"w-[150px]\">\n                <SelectValue placeholder=\"Stock Status\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All</SelectItem>\n                <SelectItem value=\"ok\">OK</SelectItem>\n                <SelectItem value=\"low\">Low</SelectItem>\n                <SelectItem value=\"minimum\">Minimum</SelectItem>\n                <SelectItem value=\"out\">Out of Stock</SelectItem>\n              </SelectContent>\n            </Select>\n          )}\n        </div>\n      </div>\n      \n      <ScrollArea className=\"flex-1\">\n        {filteredItems.length > 0 ? (\n          <Table>\n            <TableHeader>\n              <TableRow>\n                {category === 'work_orders' && (\n                  <>\n                    <TableHead>WO No</TableHead>\n                    <TableHead>Job Title</TableHead>\n                    <TableHead>Component</TableHead>\n                    <TableHead>Frequency</TableHead>\n                    <TableHead>Assigned To</TableHead>\n                    <TableHead>Priority</TableHead>\n                  </>\n                )}\n                {category === 'spares' && (\n                  <>\n                    <TableHead>Part Code</TableHead>\n                    <TableHead>Part Name</TableHead>\n                    <TableHead>Component</TableHead>\n                    <TableHead>UOM</TableHead>\n                    <TableHead>Min/ROB</TableHead>\n                    <TableHead>Stock</TableHead>\n                  </>\n                )}\n                {category === 'stores' && (\n                  <>\n                    <TableHead>Item Code</TableHead>\n                    <TableHead>Item Name</TableHead>\n                    <TableHead>Category</TableHead>\n                    <TableHead>UOM</TableHead>\n                    <TableHead>Min/ROB</TableHead>\n                    <TableHead>Stock</TableHead>\n                  </>\n                )}\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {filteredItems.map((item: any) => (\n                <TableRow\n                  key={item.id || item.woNo || item.partCode || item.itemCode}\n                  className={`cursor-pointer hover:bg-gray-50 ${\n                    selectedItem?.id === item.id || \n                    selectedItem?.woNo === item.woNo ||\n                    selectedItem?.partCode === item.partCode ||\n                    selectedItem?.itemCode === item.itemCode\n                      ? \"bg-blue-50\"\n                      : \"\"\n                  }`}\n                  onClick={() => onSelect(item)}\n                >\n                  {category === 'work_orders' && (\n                    <>\n                      <TableCell className=\"font-mono\">{item.woNo}</TableCell>\n                      <TableCell>{item.jobTitle}</TableCell>\n                      <TableCell>\n                        {item.componentName ? (\n                          <div>\n                            <div className=\"text-sm\">{item.componentName}</div>\n                            <div className=\"text-xs text-gray-500\">{item.componentCode}</div>\n                          </div>\n                        ) : '-'}\n                      </TableCell>\n                      <TableCell>\n                        {item.frequencyType} {item.frequencyValue} {item.frequencyUnit}\n                      </TableCell>\n                      <TableCell>{item.assignedTo || '-'}</TableCell>\n                      <TableCell>\n                        <Badge variant={item.priority === 'High' ? 'destructive' : 'secondary'}>\n                          {item.priority}\n                        </Badge>\n                      </TableCell>\n                    </>\n                  )}\n                  {category === 'spares' && (\n                    <>\n                      <TableCell className=\"font-mono\">{item.partCode}</TableCell>\n                      <TableCell>{item.partName}</TableCell>\n                      <TableCell>\n                        {item.componentName ? (\n                          <div>\n                            <div className=\"text-sm\">{item.componentName}</div>\n                            <div className=\"text-xs text-gray-500\">{item.componentCode}</div>\n                          </div>\n                        ) : '-'}\n                      </TableCell>\n                      <TableCell>{item.uom || '-'}</TableCell>\n                      <TableCell>{item.min}/{item.rob}</TableCell>\n                      <TableCell>{getStockBadge(item.rob, item.min)}</TableCell>\n                    </>\n                  )}\n                  {category === 'stores' && (\n                    <>\n                      <TableCell className=\"font-mono\">{item.itemCode}</TableCell>\n                      <TableCell>{item.itemName}</TableCell>\n                      <TableCell>{item.storesCategory || '-'}</TableCell>\n                      <TableCell>{item.uom || '-'}</TableCell>\n                      <TableCell>{item.min}/{item.rob}</TableCell>\n                      <TableCell>{getStockBadge(item.rob, item.min)}</TableCell>\n                    </>\n                  )}\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        ) : (\n          <div className=\"text-center text-gray-500 py-8\">\n            No items found\n          </div>\n        )}\n      </ScrollArea>\n    </div>\n  );\n}"]}